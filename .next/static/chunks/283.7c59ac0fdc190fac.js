(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{6319:function(e){"use strict";function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,a){r[n]=function(e){if(o){if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}})}e.exports=t},2998:function(e,t){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=n[c>>2],i=(3&c)<<4,u=1;break;case 1:a[s++]=n[i|c>>4],i=(15&c)<<2,u=2;break;case 2:a[s++]=n[i|c>>6],a[s++]=n[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return(u&&(a[s++]=n[i],a[s++]=61,1===u&&(a[s++]=61)),o)?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[r++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},6446:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},172:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),a=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|a)>>>0,r,n)}}function a(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:1/0*i:0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a,s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=n*Math.pow(2,-u))>>>0,i,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}function a(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=(a>>31)*2+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:1/0*s:0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},4888:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},5013:function(e){"use strict";function t(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=(7|a)+1),s}}e.exports=t},7016:function(e,t){"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(a+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-o}},7701:function(e){function t(e){let t=new globalThis.AbortController;function r(){for(let n of(t.abort(),e))n&&n.removeEventListener&&n.removeEventListener("abort",r)}for(let t of e)if(t&&t.addEventListener){if(t.aborted){r();break}t.addEventListener("abort",r)}return t.signal}e.exports=t,e.exports.anySignal=t},1464:function(e,t,r){var n=r(257);function i(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function s(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}function u(){try{return localStorage}catch(e){}}t.formatArgs=o,t.save=a,t.load=s,t.useColors=i,t.storage=u(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(7244)(t);let{formatters:c}=e.exports;c.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7244:function(e,t,r){function n(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let t,r,o;let a=null;function s(...e){if(!s.enabled)return;let r=s,i=Number(new Date),o=i-(t||i);r.diff=o,r.prev=t,r.curr=i,t=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return"%";a++;let o=n.formatters[i];if("function"==typeof o){let n=e[a];t=o.call(r,n),e.splice(a,1),a--}return t}),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return s.namespace=e,s.useColors=n.useColors(),s.color=n.selectColor(e),s.extend=i,s.destroy=n.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(r!==n.namespaces&&(r=n.namespaces,o=n.enabled(e)),o),set:e=>{a=e}}),"function"==typeof n.init&&n.init(s),s}function i(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){for(let t of(n.save(e),n.namespaces=e,n.names=[],n.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===t[0]?n.skips.push(t.slice(1)):n.names.push(t)}function a(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}function s(){let e=[...n.names,...n.skips.map(e=>"-"+e)].join(",");return n.enable(""),e}function u(e){for(let t of n.skips)if(a(e,t))return!1;for(let t of n.names)if(a(e,t))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=o,n.enabled=u,n.humanize=r(5169),n.destroy=l,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}e.exports=n},2425:function(e){"use strict";function t(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function r(e,r,n){if(!e||"string"==typeof e)throw TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(i){n.message=e.message,n.stack=e.stack;let r=function(){};return r.prototype=Object.create(Object.getPrototypeOf(e)),t(new r,n)}}e.exports=r},8295:function(e){"use strict";async function*t(e,t={}){let r=e.getReader();try{for(;;){let e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}e.exports=t},4995:function(e){"use strict";let t=async e=>{let t=[];for await(let r of e)t.push(r);return t};e.exports=t},2247:function(e,t,r){"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?e.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:e.exports={default:r(5514).default,Headers:r(5514).Headers,Request:r(5514).Request,Response:r(5514).Response}},5448:function(e,t,r){"use strict";var n=r(257);let i=r(9897),o="object"==typeof window&&"object"==typeof document&&9===document.nodeType,a=i(),s=o&&!a,u=a&&!o,c=a&&o,l=void 0!==n&&void 0!==n.release&&"node"===n.release.name&&!a,f="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,h=void 0!==n&&void 0!==n.env&&!1,d="undefined"!=typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:h,isElectron:a,isElectronMain:u,isElectronRenderer:c,isNode:l,isBrowser:s,isWebWorker:f,isEnvWithDom:o,isReactNative:d}},8871:function(e,t,r){"use strict";e.exports=r(2247)},3292:function(e,t,r){"use strict";let n=r(7370),i=(e,t)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:o(e,t)});async function*o(e,t){let r=new n,i=await r.get(e,t);yield*i.iterator()}e.exports=i},7370:function(e,t,r){"use strict";let{fetch:n,Request:i,Headers:o}=r(4064),{TimeoutError:a,HTTPError:s}=r(9103),u=r(7430).bind({ignoreUndefined:!0}),{URL:c,URLSearchParams:l}=r(7646),f=r(7701),h=r(8295),{isBrowser:d,isWebWorker:p}=r(5448),b=r(4995),y=(e,t,r)=>{if(void 0===t)return e;let n=Date.now(),i=()=>Date.now()-n>=t;return new Promise((n,o)=>{let s=setTimeout(()=>{i()&&(o(new a),r.abort())},t),u=e=>t=>{if(clearTimeout(s),i()){o(new a);return}e(t)};e.then(u(n),u(o))})},g={throwHttpErrors:!0,credentials:"same-origin"};class m{constructor(e={}){this.opts=u(g,e)}async fetch(e,t={}){let r=u(this.opts,t),a=new o(r.headers);if("string"!=typeof e&&!(e instanceof c||e instanceof i))throw TypeError("`resource` must be a string, URL, or Request");let g=new c(e.toString(),r.base),{searchParams:m,transformSearchParams:E,json:x}=r;m&&("function"==typeof E?g.search=E(new l(r.searchParams)):g.search=new l(r.searchParams)),x&&(r.body=JSON.stringify(r.json),a.set("content-type","application/json"));let A=new AbortController,C=f([A.signal,r.signal]);null!=globalThis.ReadableStream&&r.body instanceof globalThis.ReadableStream&&(d||p)&&(r.body=new Blob(await b(h(r.body))));let S=await y(n(g.toString(),{...r,signal:C,timeout:void 0,headers:a,duplex:"half"}),r.timeout,A);if(!S.ok&&r.throwHttpErrors)throw r.handleError&&await r.handleError(S),new s(S);return S.iterator=async function*(){yield*v(S.body)},S.ndjson=async function*(){for await(let e of w(S.iterator()))t.transform?yield t.transform(e):yield e},S}post(e,t={}){return this.fetch(e,{...t,method:"POST"})}get(e,t={}){return this.fetch(e,{...t,method:"GET"})}put(e,t={}){return this.fetch(e,{...t,method:"PUT"})}delete(e,t={}){return this.fetch(e,{...t,method:"DELETE"})}options(e,t={}){return this.fetch(e,{...t,method:"OPTIONS"})}}let w=async function*(e){let t=new TextDecoder,r="";for await(let n of e){let e=(r+=t.decode(n,{stream:!0})).split(/\r?\n/);for(let t=0;t<e.length-1;t++){let r=e[t].trim();r.length>0&&(yield JSON.parse(r))}r=e[e.length-1]}r+=t.decode(),0!==(r=r.trim()).length&&(yield JSON.parse(r))},v=e=>{if(E(e))return e;if(A(e)){let t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:t.next.bind(t),return:r=>(e.destroy(),"function"==typeof t.return)?t.return():Promise.resolve({done:!0,value:r})})}}if(x(e)){let t=e.getReader();return async function*(){try{for(;;){let{done:e,value:r}=await t.read();if(e)return;r&&(yield r)}}finally{t.releaseLock()}}()}throw TypeError("Body can't be converted to AsyncIterable")},E=e=>"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator],x=e=>e&&"function"==typeof e.getReader,A=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");m.HTTPError=s,m.TimeoutError=a,m.streamToAsyncIterator=v,m.post=(e,t)=>new m(t).post(e,t),m.get=(e,t)=>new m(t).get(e,t),m.put=(e,t)=>new m(t).put(e,t),m.delete=(e,t)=>new m(t).delete(e,t),m.options=(e,t)=>new m(t).options(e,t),e.exports=m},9103:function(e,t){"use strict";class r extends Error{constructor(e="Request timed out"){super(e),this.name="TimeoutError"}}t.TimeoutError=r;class n extends Error{constructor(e="The operation was aborted."){super(e),this.name="AbortError"}}t.AbortError=n;class i extends Error{constructor(e){super(e.statusText),this.name="HTTPError",this.response=e}}t.HTTPError=i},4064:function(e,t,r){"use strict";let{TimeoutError:n,AbortError:i}=r(9103),{Response:o,Request:a,Headers:s,default:u}=r(8871),c=(e,t={})=>{let r=new XMLHttpRequest;r.open(t.method||"GET",e.toString(),!0);let{timeout:a,headers:u}=t;if(a&&a>0&&a<1/0&&(r.timeout=a),null!=t.overrideMimeType&&r.overrideMimeType(t.overrideMimeType),u)for(let[e,t]of new s(u))r.setRequestHeader(e,t);return t.signal&&(t.signal.onabort=()=>r.abort()),t.onUploadProgress&&(r.upload.onprogress=t.onUploadProgress),r.responseType="arraybuffer",new Promise((e,a)=>{let s=t=>{switch(t.type){case"error":e(o.error());break;case"load":e(new d(r.responseURL,r.response,{status:r.status,statusText:r.statusText,headers:h(r.getAllResponseHeaders())}));break;case"timeout":a(new n);break;case"abort":a(new i)}};r.onerror=s,r.onload=s,r.ontimeout=s,r.onabort=s,r.send(t.body)})},l=u,f=(e,t={})=>null!=t.onUploadProgress?c(e,t):l(e,t),h=e=>{let t=new s;for(let r of e.trim().split(/[\r\n]+/)){let e=r.indexOf(": ");e>0&&t.set(r.slice(0,e),r.slice(e+1))}return t};class d extends o{constructor(e,t,r){super(t,r),Object.defineProperty(this,"url",{value:e})}}e.exports={fetch:f,Request:a,Headers:s}},9897:function(e,t,r){var n=r(257);function i(){return!!("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||void 0!==n&&"object"==typeof n.versions&&n.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}e.exports=i},2526:function(e){"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},7646:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i,URLSearchParams:o,defaultBase:a}=r(4482),s=r(4617);e.exports={URL:n,URLSearchParams:o,format:i,relative:s,defaultBase:a}},4617:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i}=r(4482);e.exports=(e,t={},r={},o)=>{let a,s=t.protocol?t.protocol.replace(":",""):"http";s=(r[s]||o||s)+":";try{a=new n(e)}catch(e){a={}}return new n(e,i(Object.assign({},t,{protocol:s||a.protocol,host:t.host||a.host}))).toString()}},4482:function(e){"use strict";let t="undefined"!=typeof navigator&&"ReactNative"===navigator.product;function r(){return t?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}let n=self.URL,i=r();class o{constructor(e="",t=i){this.super=new n(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return n.createObjectURL(e)}static revokeObjectURL(e){n.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function a(e){if("string"==typeof e)return new n(e).toString();if(!(e instanceof n)){let t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",a=e.hostname||"",s=e.search||(e.query?"?"+e.query:""),u=e.hash||"",c=e.pathname||"",l=e.path||c+s;return`${i}${t||r}${o||a+n}${l}${u}`}}e.exports={URLWithLegacySupport:o,URLSearchParams:self.URLSearchParams,defaultBase:i,format:a}},7430:function(e,t,r){"use strict";let n=r(2526),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),s=this,u={concatArrays:!1,ignoreUndefined:!1},c=e=>{let t=[];for(let r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols)for(let r of Object.getOwnPropertySymbols(e))o.call(e,r)&&t.push(r);return t};function l(e){return Array.isArray(e)?f(e):n(e)?h(e):e}function f(e){let t=e.slice(0,0);return c(e).forEach(r=>{a(t,r,l(e[r]))}),t}function h(e){let t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach(r=>{a(t,r,l(e[r]))}),t}let d=(e,t,r,n)=>(r.forEach(r=>{void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?a(e,r,b(e[r],t[r],n)):a(e,r,l(t[r])))}),e),p=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(t=>{let s=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(s.push(String(r)),t===e?a(n,o++,t[r]):a(n,o++,l(t[r])));n=d(n,t,c(t).filter(e=>!s.includes(e)),r)}),n};function b(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?p(e,t,r):n(t)&&n(e)?d(e,t,c(t),r):l(t)}e.exports=function(...e){let t=b(l(u),this!==s&&this||{},u),r={_:{}};for(let i of e)if(void 0!==i){if(!n(i))throw TypeError("`"+i+"` is not an Option Object");r=b(r,{_:i},t)}return r._}},5169:function(e){var t=1e3,r=6e4,n=36e5,i=864e5,o=6048e5,a=315576e5;function s(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var u=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*o;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*n;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function u(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}function c(e){var o=Math.abs(e);return o>=i?l(e,o,i,"day"):o>=n?l(e,o,n,"hour"):o>=r?l(e,o,r,"minute"):o>=t?l(e,o,t,"second"):e+" ms"}function l(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return s(e);if("number"===r&&isFinite(e))return t.long?c(e):u(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},5514:function(e,t,r){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},5680:function(e,t,r){"use strict";e.exports=r(297)},297:function(e,t,r){"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(3618),n.BufferWriter=r(1351),n.Reader=r(1731),n.BufferReader=r(3705),n.util=r(2219),n.rpc=r(7020),n.roots=r(9869),n.configure=i,i()},1731:function(e,t,r){"use strict";e.exports=u;var n,i=r(2219),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c};function f(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}u.create=l(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=l(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},3705:function(e,t,r){"use strict";e.exports=o;var n=r(1731);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(2219);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},9869:function(e){"use strict";e.exports={}},7020:function(e,t,r){"use strict";t.Service=r(963)},963:function(e,t,r){"use strict";e.exports=i;var n=r(2219);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(!s.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return s.emit("error",e,t),a(e);if(null===r){s.end(!0);return}if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)})}catch(e){s.emit("error",e,t),setTimeout(function(){a(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},8607:function(e,t,r){"use strict";e.exports=i;var n=r(2219);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},2219:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(6319),n.base64=r(2998),n.EventEmitter=r(6446),n.float=r(172),n.inquire=r(4888),n.utf8=r(7016),n.pool=r(5013),n.LongBits=r(8607),n.isNode=!!(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},3618:function(e,t,r){"use strict";e.exports=f;var n,i=r(2219),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function p(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function b(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=h(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},b.prototype=Object.create(u.prototype),b.prototype.fn=p,f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new b((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(y,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(y,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(y,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=h(),n._configure()}},1351:function(e,t,r){"use strict";e.exports=o;var n=r(3618);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(2219);function o(){n.call(this)}function a(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},2285:function(e){e.exports=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}();throw Error("unknown stream")}},6668:function(e){e.exports=n;var t=128,r=127;function n(e,i){var o,a=0,i=i||0,s=0,u=i,c=e.length;do{if(u>=c||s>49)throw n.bytes=0,RangeError("Could not decode varint");o=e[u++],a+=s<28?(o&r)<<s:(o&r)*Math.pow(2,s),s+=7}while(o>=t);return n.bytes=u-i,a}},2014:function(e){e.exports=i;var t=128,r=-128,n=2147483648;function i(e,o,a){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw i.bytes=0,RangeError("Could not encode varint");o=o||[];for(var s=a=a||0;e>=n;)o[a++]=255&e|t,e/=128;for(;e&r;)o[a++]=255&e|t,e>>>=7;return o[a]=0|e,i.bytes=a-s+1,o}},8273:function(e,t,r){e.exports={encode:r(2014),decode:r(6668),encodingLength:r(1049)}},1049:function(e){var t=128,r=16384,n=2097152,i=268435456,o=34359738368,a=4398046511104,s=562949953421312,u=72057594037927940,c=0x7fffffffffffffff;e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<a?6:e<s?7:e<u?8:e<c?9:10}},6283:function(e,t,r){"use strict";r.d(t,{create:function(){return Uq}});var n,i,o,a,s={};r.r(s),r.d(s,{code:function(){return ry},createLink:function(){return rd},createNode:function(){return rh},decode:function(){return rm},encode:function(){return rg},name:function(){return rb},prepare:function(){return rl},validate:function(){return rf}});var u={};r.r(u),r.d(u,{code:function(){return oE},decode:function(){return oA},decodeOptions:function(){return ow},encode:function(){return ox},encodeOptions:function(){return oy},name:function(){return ov},toByteView:function(){return op}});var c={};r.r(c),r.d(c,{code:function(){return aI},decode:function(){return aT},encode:function(){return ak},format:function(){return aD},name:function(){return aP},parse:function(){return az},stringify:function(){return aD}});var l={};r.r(l),r.d(l,{code:function(){return sL},decode:function(){return sq},encode:function(){return s_},name:function(){return s$},toGeneral:function(){return sF}});var f={};r.r(f),r.d(f,{identity:function(){return up}});var h={};r.r(h),r.d(h,{identity:function(){return uU}});var d={};r.r(d),r.d(d,{base2:function(){return uP}});var p={};r.r(p),r.d(p,{base8:function(){return uI}});var b={};r.r(b),r.d(b,{base10:function(){return uk}});var y={};r.r(y),r.d(y,{base16:function(){return uT},base16upper:function(){return uD}});var g={};r.r(g),r.d(g,{base32:function(){return uN},base32hex:function(){return u$},base32hexpad:function(){return uO},base32hexpadupper:function(){return uV},base32hexupper:function(){return uL},base32pad:function(){return uB},base32padupper:function(){return uj},base32upper:function(){return uz},base32z:function(){return uR}});var m={};r.r(m),r.d(m,{base36:function(){return uM},base36upper:function(){return uF}});var w={};r.r(w),r.d(w,{base58btc:function(){return u_},base58flickr:function(){return uq}});var v={};r.r(v),r.d(v,{base64:function(){return uH},base64pad:function(){return uJ},base64url:function(){return uG},base64urlpad:function(){return uW}});var E={};r.r(E),r.d(E,{base256emoji:function(){return uX}});var x={};r.r(x),r.d(x,{sha256:function(){return u2},sha512:function(){return u5}});var A={};r.r(A),r.d(A,{code:function(){return u6},decode:function(){return u4},encode:function(){return u3},name:function(){return u8}});var C={};r.r(C),r.d(C,{code:function(){return ct},decode:function(){return cn},encode:function(){return cr},name:function(){return ce}});var S={};r.r(S),r.d(S,{base10:function(){return c_}});var U={};r.r(U),r.d(U,{base16:function(){return cq},base16upper:function(){return cH}});var P={};r.r(P),r.d(P,{base2:function(){return cJ}});var I={};r.r(I),r.d(I,{base256emoji:function(){return cQ}});var k={};r.r(k),r.d(k,{base32:function(){return cZ},base32hex:function(){return c1},base32hexpad:function(){return c5},base32hexpadupper:function(){return c8},base32hexupper:function(){return c2},base32pad:function(){return cY},base32padupper:function(){return c0},base32upper:function(){return cX},base32z:function(){return c6}});var T={};r.r(T),r.d(T,{base36:function(){return c3},base36upper:function(){return c4}});var D={};r.r(D),r.d(D,{base58btc:function(){return c7},base58flickr:function(){return c9}});var N={};r.r(N),r.d(N,{base64:function(){return le},base64pad:function(){return lt},base64url:function(){return lr},base64urlpad:function(){return ln}});var z={};r.r(z),r.d(z,{base8:function(){return li}});var B={};r.r(B),r.d(B,{identity:function(){return lo}});var j={};r.r(j),r.d(j,{code:function(){return lc},decode:function(){return lf},encode:function(){return ll},name:function(){return lu}});var $={};r.r($),r.d($,{code:function(){return ld},decode:function(){return lb},encode:function(){return lp},name:function(){return lh}});var L={};r.r(L),r.d(L,{identity:function(){return lH}});var O={};r.r(O),r.d(O,{sha256:function(){return lK},sha512:function(){return lQ}});var V={};r.r(V),r.d(V,{base58btc:function(){return f1},base58flickr:function(){return f2}});var R={};r.r(R),r.d(R,{base32:function(){return f5},base32hex:function(){return f4},base32hexpad:function(){return f9},base32hexpadupper:function(){return he},base32hexupper:function(){return f7},base32pad:function(){return f6},base32padupper:function(){return f3},base32upper:function(){return f8},base32z:function(){return ht}});var M={};r.r(M),r.d(M,{identity:function(){return hd}});var F={};r.r(F),r.d(F,{base2:function(){return hp}});var _={};r.r(_),r.d(_,{base8:function(){return hb}});var q={};r.r(q),r.d(q,{base10:function(){return hy}});var H={};r.r(H),r.d(H,{base16:function(){return hg},base16upper:function(){return hm}});var J={};r.r(J),r.d(J,{base36:function(){return hw},base36upper:function(){return hv}});var G={};r.r(G),r.d(G,{base64:function(){return hE},base64pad:function(){return hx},base64url:function(){return hA},base64urlpad:function(){return hC}});var W={};r.r(W),r.d(W,{base256emoji:function(){return hI}});var K={};r.r(K),r.d(K,{sha256:function(){return hN},sha512:function(){return hz}});var Q={};r.r(Q),r.d(Q,{identity:function(){return hL}});var Z={};r.r(Z),r.d(Z,{code:function(){return hV},decode:function(){return hM},encode:function(){return hR},name:function(){return hO}});var X={};r.r(X),r.d(X,{code:function(){return hH},decode:function(){return hG},encode:function(){return hJ},name:function(){return hq}});var Y={};r.r(Y),r.d(Y,{base10:function(){return pu}});var ee={};r.r(ee),r.d(ee,{base16:function(){return pc},base16upper:function(){return pl}});var et={};r.r(et),r.d(et,{base2:function(){return pf}});var er={};r.r(er),r.d(er,{base256emoji:function(){return pb}});var en={};r.r(en),r.d(en,{base32:function(){return py},base32hex:function(){return pv},base32hexpad:function(){return px},base32hexpadupper:function(){return pA},base32hexupper:function(){return pE},base32pad:function(){return pm},base32padupper:function(){return pw},base32upper:function(){return pg},base32z:function(){return pC}});var ei={};r.r(ei),r.d(ei,{base36:function(){return pS},base36upper:function(){return pU}});var eo={};r.r(eo),r.d(eo,{base58btc:function(){return pP},base58flickr:function(){return pI}});var ea={};r.r(ea),r.d(ea,{base64:function(){return pk},base64pad:function(){return pT},base64url:function(){return pD},base64urlpad:function(){return pN}});var es={};r.r(es),r.d(es,{base8:function(){return pz}});var eu={};r.r(eu),r.d(eu,{identity:function(){return pB}});var ec={};r.r(ec),r.d(ec,{code:function(){return pO},decode:function(){return pR},encode:function(){return pV},name:function(){return pL}});var el={};r.r(el),r.d(el,{code:function(){return pF},decode:function(){return pq},encode:function(){return p_},name:function(){return pM}});var ef={};r.r(ef),r.d(ef,{identity:function(){return bl}});var eh={};r.r(eh),r.d(eh,{sha256:function(){return by},sha512:function(){return bg}});var ed={};r.r(ed),r.d(ed,{base58btc:function(){return gJ},base58flickr:function(){return gG}});var ep={};r.r(ep),r.d(ep,{identity:function(){return gW}});var eb={};r.r(eb),r.d(eb,{base2:function(){return gK}});var ey={};r.r(ey),r.d(ey,{base8:function(){return gQ}});var eg={};r.r(eg),r.d(eg,{base10:function(){return gZ}});var em={};r.r(em),r.d(em,{base16:function(){return gX},base16upper:function(){return gY}});var ew={};r.r(ew),r.d(ew,{base32:function(){return g0},base32hex:function(){return g8},base32hexpad:function(){return g3},base32hexpadupper:function(){return g4},base32hexupper:function(){return g6},base32pad:function(){return g2},base32padupper:function(){return g5},base32upper:function(){return g1},base32z:function(){return g7}});var ev={};r.r(ev),r.d(ev,{base36:function(){return g9},base36upper:function(){return me}});var eE={};r.r(eE),r.d(eE,{base64:function(){return mt},base64pad:function(){return mr},base64url:function(){return mn},base64urlpad:function(){return mi}});var ex={};r.r(ex),r.d(ex,{base256emoji:function(){return mu}});var eA={};r.r(eA),r.d(eA,{sha256:function(){return mO},sha512:function(){return mV}});var eC={};r.r(eC),r.d(eC,{identity:function(){return m_}});var eS={};r.r(eS),r.d(eS,{code:function(){return mH},decode:function(){return mG},encode:function(){return mJ},name:function(){return mq}});var eU={};r.r(eU),r.d(eU,{code:function(){return mZ},decode:function(){return mY},encode:function(){return mX},name:function(){return mQ}});var eP={};r.r(eP),r.d(eP,{base10:function(){return vp}});var eI={};r.r(eI),r.d(eI,{base16:function(){return vb},base16upper:function(){return vy}});var ek={};r.r(ek),r.d(ek,{base2:function(){return vg}});var eT={};r.r(eT),r.d(eT,{base256emoji:function(){return vE}});var eD={};r.r(eD),r.d(eD,{base32:function(){return vx},base32hex:function(){return vU},base32hexpad:function(){return vI},base32hexpadupper:function(){return vk},base32hexupper:function(){return vP},base32pad:function(){return vC},base32padupper:function(){return vS},base32upper:function(){return vA},base32z:function(){return vT}});var eN={};r.r(eN),r.d(eN,{base36:function(){return vD},base36upper:function(){return vN}});var ez={};r.r(ez),r.d(ez,{base58btc:function(){return vz},base58flickr:function(){return vB}});var eB={};r.r(eB),r.d(eB,{base64:function(){return vj},base64pad:function(){return v$},base64url:function(){return vL},base64urlpad:function(){return vO}});var ej={};r.r(ej),r.d(ej,{base8:function(){return vV}});var e$={};r.r(e$),r.d(e$,{identity:function(){return vR}});var eL={};r.r(eL),r.d(eL,{code:function(){return vq},decode:function(){return vJ},encode:function(){return vH},name:function(){return v_}});var eO={};r.r(eO),r.d(eO,{code:function(){return vW},decode:function(){return vQ},encode:function(){return vK},name:function(){return vG}});var eV={};r.r(eV),r.d(eV,{identity:function(){return Ey}});var eR={};r.r(eR),r.d(eR,{sha256:function(){return Ev},sha512:function(){return EE}});var eM={};r.r(eM),r.d(eM,{base10:function(){return C6}});var eF={};r.r(eF),r.d(eF,{base16:function(){return C3},base16upper:function(){return C4}});var e_={};r.r(e_),r.d(e_,{base2:function(){return C7}});var eq={};r.r(eq),r.d(eq,{base256emoji:function(){return Sr}});var eH={};r.r(eH),r.d(eH,{base32:function(){return Sn},base32hex:function(){return Ss},base32hexpad:function(){return Sc},base32hexpadupper:function(){return Sl},base32hexupper:function(){return Su},base32pad:function(){return So},base32padupper:function(){return Sa},base32upper:function(){return Si},base32z:function(){return Sf}});var eJ={};r.r(eJ),r.d(eJ,{base36:function(){return Sh},base36upper:function(){return Sd}});var eG={};r.r(eG),r.d(eG,{base58btc:function(){return Sp},base58flickr:function(){return Sb}});var eW={};r.r(eW),r.d(eW,{base64:function(){return Sy},base64pad:function(){return Sg},base64url:function(){return Sm},base64urlpad:function(){return Sw}});var eK={};r.r(eK),r.d(eK,{base8:function(){return Sv}});var eQ={};r.r(eQ),r.d(eQ,{identity:function(){return SE}});var eZ={};r.r(eZ),r.d(eZ,{code:function(){return SS},decode:function(){return SP},encode:function(){return SU},name:function(){return SC}});var eX={};r.r(eX),r.d(eX,{code:function(){return Sk},decode:function(){return SD},encode:function(){return ST},name:function(){return SI}});var eY={};r.r(eY),r.d(eY,{identity:function(){return S4}});var e0={};r.r(e0),r.d(e0,{sha256:function(){return Ut},sha512:function(){return Ur}});let e1=e=>Promise.reject(Error(`No base found for "${e}"`));class e2{constructor(e){for(let t of(this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||e1,e.bases))this.addBase(t)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw Error(`Codec already exists for codec "${e.name}"`);this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];let t=await this._loadBase(e);return null==this._basesByName[t.name]&&null==this._basesByPrefix[t.prefix]&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}}let e5=e=>Promise.reject(Error(`No codec found for "${e}"`));class e8{constructor(e){for(let t of(this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||e5,e.codecs))this.addCodec(t)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw Error(`Resolver already exists for codec "${e.name}"`);this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){let t="string"==typeof e?this._codecsByName:this._codecsByCode;if(t[e])return t[e];let r=await this._loadCodec(e);return null==t[e]&&this.addCodec(r),r}listCodecs(){return Object.values(this._codecsByName)}}let e6=e=>Promise.reject(Error(`No hasher found for "${e}"`));class e3{constructor(e){for(let t of(this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||e6,e.hashers))this.addHasher(t)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw Error(`Resolver already exists for codec "${e.name}"`);this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){let t="string"==typeof e?this._hashersByName:this._hashersByCode;if(t[e])return t[e];let r=await this._loadHasher(e);return null==t[e]&&this.addHasher(r),r}listHashers(){return Object.values(this._hashersByName)}}function e4(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function e7(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}new Uint8Array(0);var e9=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};class te{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tt{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return tn(this,e)}}class tr{decoders;constructor(e){this.decoders=e}or(e){return tn(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function tn(e,t){return new tr({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class ti{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new te(e,t,r),this.decoder=new tt(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function to({name:e,prefix:t,encode:r,decode:n}){return new ti(e,t,r,n)}function ta({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=e9(r,e);return to({prefix:t,name:e,encode:n,decode:e=>e7(i(e))})}function ts(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,u=0;for(let c=0;c<i;++c){let i=t[e[c]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[u++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function tu(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function tc(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function tl({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=tc(n);return to({prefix:t,name:e,encode:e=>tu(e,n,r),decode:t=>ts(t,i,r,e)})}let tf=tl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});tl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let th=ta({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});ta({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});let td=ta({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});ta({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var tp=128,tb=-128,ty=2147483648;function tg(e,t,r){t=t||[];for(var n=r=r||0;e>=ty;)t[r++]=255&e|tp,e/=128;for(;e&tb;)t[r++]=255&e|tp,e>>>=7;return t[r]=0|e,tg.bytes=r-n+1,t}var tm=128,tw=127;function tv(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw tv.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&tw)<<i:(r&tw)*Math.pow(2,i),i+=7}while(r>=tm);return tv.bytes=o-t,n}var tE=128,tx=16384,tA=2097152,tC=268435456,tS=34359738368,tU=4398046511104,tP=562949953421312,tI=72057594037927940,tk=0x7fffffffffffffff,tT=tg,tD=tv,tN=function(e){return e<tE?1:e<tx?2:e<tA?3:e<tC?4:e<tS?5:e<tU?6:e<tP?7:e<tI?8:e<tk?9:10};function tz(e,t=0){return[tD(e,t),tD.bytes]}function tB(e,t,r=0){return tT(e,t,r),t}function tj(e){return tN(e)}function t$(e,t){let r=t.byteLength,n=tj(e),i=n+tj(r),o=new Uint8Array(i+r);return tB(e,o,0),tB(r,o,n),o.set(t,i),new tV(e,r,t,o)}function tL(e){let t=e7(e),[r,n]=tz(t),[i,o]=tz(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new tV(r,i,a,t)}function tO(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&e4(e.bytes,r.bytes)}}class tV{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function tR(e,t){let{bytes:r,version:n}=e;return 0===n?tH(r,tF(e),t??td.encoder):tJ(r,tF(e),t??tf.encoder)}let tM=new WeakMap;function tF(e){let t=tM.get(e);if(null==t){let t=new Map;return tM.set(e,t),t}return t}class t_{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==tG)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==tW)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t_.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=t$(e,t);return t_.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t_.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&tO(e.multihash,r.multihash)}toString(e){return tR(this,e)}toJSON(){return{"/":tR(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof t_)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new t_(e,r,n,i??tK(e,r,n.bytes))}if(!0!==t[tQ])return null;{let{version:e,multihash:r,code:n}=t,i=tL(r);return t_.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===tG)return new t_(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${tG}) block encoding`);case 1:{let n=tK(e,t,r.bytes);return new t_(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return t_.create(0,tG,e)}static createV1(e,t){return t_.create(1,e,t)}static decode(e){let[t,r]=t_.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=t_.inspectBytes(e),r=t.size-t.multihashSize,n=e7(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new tV(t.multihashCode,t.digestSize,i,n);return[0===t.version?t_.createV0(o):t_.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=tz(e.subarray(t));return t+=n,r},n=r(),i=tG;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=tq(e,t),i=t_.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return tF(i).set(r,e),i}}function tq(e,t){switch(e[0]){case"Q":{let r=t??td;return[td.prefix,r.decode(`${td.prefix}${e}`)]}case td.prefix:{let r=t??td;return[td.prefix,r.decode(e)]}case tf.prefix:{let r=t??tf;return[tf.prefix,r.decode(e)]}case th.prefix:{let r=t??th;return[th.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function tH(e,t,r){let{prefix:n}=r;if(n!==td.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function tJ(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let tG=112,tW=18;function tK(e,t,r){let n=tj(e),i=n+tj(t),o=new Uint8Array(i+r.byteLength);return tB(e,o,0),tB(t,o,n),o.set(r,i),o}let tQ=Symbol.for("@ipld/js-cid/CID"),tZ=new TextDecoder;function tX(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw Error("protobuf: varint overflow");if(t>=e.length)throw Error("protobuf: unexpected end of data");let i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function tY(e,t){let r;[r,t]=tX(e,t);let n=t+r;if(r<0||n<0)throw Error("protobuf: invalid length");if(n>e.length)throw Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function t0(e,t){let r;return[r,t]=tX(e,t),[7&r,r>>3,t]}function t1(e){let t={},r=e.length,n=0;for(;n<r;){let r,i;if([r,i,n]=t0(e,n),1===i){if(t.Hash)throw Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=tY(e,n)}else if(2===i){let i;if(void 0!==t.Name)throw Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Name");[i,n]=tY(e,n),t.Name=tZ.decode(i)}else if(3===i){if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=tX(e,n)}else throw Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw Error("protobuf: (PBLink) unexpected end of data");return t}function t2(e){let t,r;let n=e.length,i=0,o=!1;for(;i<n;){let n,a;if([n,a,i]=t0(e,i),2!==n)throw Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${n}`);if(1===a){if(r)throw Error("protobuf: (PBNode) duplicate Data section");[r,i]=tY(e,i),t&&(o=!0)}else if(2===a){let r;if(o)throw Error("protobuf: (PBNode) duplicate Links section");t||(t=[]),[r,i]=tY(e,i),t.push(t1(r))}else throw Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${a}`)}if(i>n)throw Error("protobuf: (PBNode) unexpected end of data");let a={};return r&&(a.Data=r),a.Links=t||[],a}let t5=new TextEncoder,t8=4294967296,t6=2147483648;function t3(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw Error("Tsize too large for encoding");r=re(t,r,e.Tsize)-1,t[r]=24}if("string"==typeof e.Name){let n=t5.encode(e.Name);r-=n.length,t.set(n,r),r=re(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=re(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function t4(e){let t=t9(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=re(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){let i=t3(e.Links[t],r.subarray(0,n));n-=i,n=re(r,n,i)-1,r[n]=18}return r}function t7(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+rt(r)}if("string"==typeof e.Name){let r=t5.encode(e.Name).length;t+=1+r+rt(r)}return"number"==typeof e.Tsize&&(t+=1+rt(e.Tsize)),t}function t9(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+rt(r)}if(e.Links)for(let r of e.Links){let e=t7(r);t+=1+e+rt(e)}return t}function re(e,t,r){let n=t-=rt(r);for(;r>=t6;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function rt(e){return e%2==0&&e++,Math.floor((rr(e)+6)/7)}function rr(e){let t=0;return e>=t8&&(e=Math.floor(e/t8),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+rn[e]}let rn=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],ri=["Data","Links"],ro=["Hash","Name","Tsize"],ra=new TextEncoder;function rs(e,t){if(e===t)return 0;let r=e.Name?ra.encode(e.Name):[],n=t.Name?ra.encode(t.Name):[],i=r.length,o=n.length;for(let e=0,t=Math.min(i,o);e<t;++e)if(r[e]!==n[e]){i=r[e],o=n[e];break}return i<o?-1:o<i?1:0}function ru(e,t){return!Object.keys(e).some(e=>!t.includes(e))}function rc(e){if("object"==typeof e.asCID){let t=t_.asCID(e);if(!t)throw TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=t_.asCID(e.Hash);try{!r&&("string"==typeof e.Hash?r=t_.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=t_.decode(e.Hash)))}catch(e){throw TypeError(`Invalid DAG-PB form: ${e.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function rl(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(void 0!==e.Data){if("string"==typeof e.Data)t.Data=ra.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw TypeError("Invalid DAG-PB form")}if(void 0!==e.Links){if(Array.isArray(e.Links))t.Links=e.Links.map(rc),t.Links.sort(rs);else throw TypeError("Invalid DAG-PB form")}else t.Links=[];return t}function rf(e){if(!e||"object"!=typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw TypeError("Invalid DAG-PB form");if(!ru(e,ri))throw TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw TypeError("Invalid DAG-PB form (bad link)");if(!ru(r,ro))throw TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===r.Hash)throw TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==r.Hash||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize){if("number"!=typeof r.Tsize||r.Tsize%1!=0)throw TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===rs(r,e.Links[t-1]))throw TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function rh(e,t=[]){return rl({Data:e,Links:t})}function rd(e,t,r){return rc({Hash:r,Name:e,Tsize:t})}function rp(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}let rb="dag-pb",ry=112;function rg(e){rf(e);let t={};return e.Links&&(t.Links=e.Links.map(e=>{let t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),e.Data&&(t.Data=e.Data),t4(t)}function rm(e){let t=t2(rp(e)),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(e=>{let t={};try{t.Hash=t_.decode(e.Hash)}catch{}if(!t.Hash)throw Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),r}let rw=["string","number","bigint","symbol"],rv=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function rE(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;return rw.includes(t)?t:"function"===t?"Function":Array.isArray(e)?"Array":rx(e)?"Buffer":rA(e)||"Object"}function rx(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function rA(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(rv.includes(t))return t}class rC{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}rC.uint=new rC(0,"uint",!0),rC.negint=new rC(1,"negint",!0),rC.bytes=new rC(2,"bytes",!0),rC.string=new rC(3,"string",!0),rC.array=new rC(4,"array",!1),rC.map=new rC(5,"map",!1),rC.tag=new rC(6,"tag",!1),rC.float=new rC(7,"float",!0),rC.false=new rC(7,"false",!0),rC.true=new rC(7,"true",!0),rC.null=new rC(7,"null",!0),rC.undefined=new rC(7,"undefined",!0),rC.break=new rC(7,"break",!0);class rS{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}let rU=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,rP=new TextDecoder,rI=new TextEncoder;function rk(e){return rU&&globalThis.Buffer.isBuffer(e)}function rT(e){return e instanceof Uint8Array?rk(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}let rD=rU?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):rV(e,t,r):(e,t,r)=>r-t>64?rP.decode(e.subarray(t,r)):rV(e,t,r),rN=rU?e=>e.length>64?globalThis.Buffer.from(e):rO(e):e=>e.length>64?rI.encode(e):rO(e),rz=e=>Uint8Array.from(e),rB=rU?(e,t,r)=>rk(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),rj=rU?(e,t)=>(e=e.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),rT(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},r$=rU?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function rL(e,t){if(rk(e)&&rk(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function rO(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t}function rV(e,t,r){let n=[];for(;t<r;){let i=e[t],o=null,a=i>239?4:i>223?3:i>191?2:1;if(t+a<=r){let r,n,s,u;switch(a){case 1:i<128&&(o=i);break;case 2:(192&(r=e[t+1]))==128&&(u=(31&i)<<6|63&r)>127&&(o=u);break;case 3:r=e[t+1],n=e[t+2],(192&r)==128&&(192&n)==128&&(u=(15&i)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[t+1],n=e[t+2],s=e[t+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(u=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=a}return rM(n)}let rR=4096;function rM(e){let t=e.length;if(t<=rR)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=rR));return r}let rF=256;class r_{constructor(e=rF){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=r$(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=rB(r,0,this.cursor)}else t=rj(this.chunks,this.cursor);return e&&this.reset(),t}}let rq="CBOR decode error:",rH="CBOR encode error:",rJ=[];function rG(e,t,r){if(e.length-t<r)throw Error(`${rq} not enough data for type`)}rJ[23]=1,rJ[24]=2,rJ[25]=3,rJ[26]=5,rJ[27]=9;let rW=[24,256,65536,4294967296,BigInt("18446744073709551616")];function rK(e,t,r){rG(e,t,1);let n=e[t];if(!0===r.strict&&n<rW[0])throw Error(`${rq} integer encoded in more bytes than necessary (strict decode)`);return n}function rQ(e,t,r){rG(e,t,2);let n=e[t]<<8|e[t+1];if(!0===r.strict&&n<rW[1])throw Error(`${rq} integer encoded in more bytes than necessary (strict decode)`);return n}function rZ(e,t,r){rG(e,t,4);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<rW[2])throw Error(`${rq} integer encoded in more bytes than necessary (strict decode)`);return n}function rX(e,t,r){rG(e,t,8);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<rW[3])throw Error(`${rq} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw Error(`${rq} integers outside of the safe integer range are not supported`)}function rY(e,t,r,n){return new rS(rC.uint,rK(e,t+1,n),2)}function r0(e,t,r,n){return new rS(rC.uint,rQ(e,t+1,n),3)}function r1(e,t,r,n){return new rS(rC.uint,rZ(e,t+1,n),5)}function r2(e,t,r,n){return new rS(rC.uint,rX(e,t+1,n),9)}function r5(e,t){return r8(e,0,t.value)}function r8(e,t,r){if(r<rW[0]){let n=Number(r);e.push([t|n])}else if(r<rW[1]){let n=Number(r);e.push([24|t,n])}else if(r<rW[2]){let n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<rW[3]){let n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{let n=BigInt(r);if(n<rW[4]){let r=[27|t,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}else throw Error(`${rq} encountered BigInt larger than allowable range`)}}function r6(e,t,r,n){return new rS(rC.negint,-1-rK(e,t+1,n),2)}function r3(e,t,r,n){return new rS(rC.negint,-1-rQ(e,t+1,n),3)}function r4(e,t,r,n){return new rS(rC.negint,-1-rZ(e,t+1,n),5)}r5.encodedSize=function(e){return r8.encodedSize(e.value)},r8.encodedSize=function(e){return e<rW[0]?1:e<rW[1]?2:e<rW[2]?3:e<rW[3]?5:9},r5.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};let r7=BigInt(-1),r9=BigInt(1);function ne(e,t,r,n){let i=rX(e,t+1,n);if("bigint"!=typeof i){let e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new rS(rC.negint,e,9)}if(!0!==n.allowBigInt)throw Error(`${rq} integers outside of the safe integer range are not supported`);return new rS(rC.negint,r7-BigInt(i),9)}function nt(e,t){let r=t.value,n="bigint"==typeof r?r*r7-r9:-1*r-1;r8(e,t.type.majorEncoded,n)}function nr(e,t,r,n){rG(e,t,r+n);let i=rB(e,t+r,t+r+n);return new rS(rC.bytes,i,r+n)}function nn(e,t,r,n){return nr(e,t,1,r)}function ni(e,t,r,n){return nr(e,t,2,rK(e,t+1,n))}function no(e,t,r,n){return nr(e,t,3,rQ(e,t+1,n))}function na(e,t,r,n){return nr(e,t,5,rZ(e,t+1,n))}function ns(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rq} 64-bit integer bytes lengths not supported`);return nr(e,t,9,i)}function nu(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===rC.string?rN(e.value):e.value),e.encodedBytes}function nc(e,t){let r=nu(t);r8(e,t.type.majorEncoded,r.length),e.push(r)}function nl(e,t){return e.length<t.length?-1:e.length>t.length?1:rL(e,t)}function nf(e,t,r,n,i){let o=r+n;rG(e,t,o);let a=new rS(rC.string,rD(e,t+r,t+o),o);return!0===i.retainStringBytes&&(a.byteValue=rB(e,t+r,t+o)),a}function nh(e,t,r,n){return nf(e,t,1,r,n)}function nd(e,t,r,n){return nf(e,t,2,rK(e,t+1,n),n)}function np(e,t,r,n){return nf(e,t,3,rQ(e,t+1,n),n)}function nb(e,t,r,n){return nf(e,t,5,rZ(e,t+1,n),n)}function ny(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rq} 64-bit integer string lengths not supported`);return nf(e,t,9,i,n)}nt.encodedSize=function(e){let t=e.value,r="bigint"==typeof t?t*r7-r9:-1*t-1;return r<rW[0]?1:r<rW[1]?2:r<rW[2]?3:r<rW[3]?5:9},nt.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},nc.encodedSize=function(e){let t=nu(e);return r8.encodedSize(t.length)+t.length},nc.compareTokens=function(e,t){return nl(nu(e),nu(t))};let ng=nc;function nm(e,t,r,n){return new rS(rC.array,n,r)}function nw(e,t,r,n){return nm(e,t,1,r)}function nv(e,t,r,n){return nm(e,t,2,rK(e,t+1,n))}function nE(e,t,r,n){return nm(e,t,3,rQ(e,t+1,n))}function nx(e,t,r,n){return nm(e,t,5,rZ(e,t+1,n))}function nA(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rq} 64-bit integer array lengths not supported`);return nm(e,t,9,i)}function nC(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${rq} indefinite length items not allowed`);return nm(e,t,1,1/0)}function nS(e,t){r8(e,rC.array.majorEncoded,t.value)}function nU(e,t,r,n){return new rS(rC.map,n,r)}function nP(e,t,r,n){return nU(e,t,1,r)}function nI(e,t,r,n){return nU(e,t,2,rK(e,t+1,n))}function nk(e,t,r,n){return nU(e,t,3,rQ(e,t+1,n))}function nT(e,t,r,n){return nU(e,t,5,rZ(e,t+1,n))}function nD(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rq} 64-bit integer map lengths not supported`);return nU(e,t,9,i)}function nN(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${rq} indefinite length items not allowed`);return nU(e,t,1,1/0)}function nz(e,t){r8(e,rC.map.majorEncoded,t.value)}function nB(e,t,r,n){return new rS(rC.tag,r,1)}function nj(e,t,r,n){return new rS(rC.tag,rK(e,t+1,n),2)}function n$(e,t,r,n){return new rS(rC.tag,rQ(e,t+1,n),3)}function nL(e,t,r,n){return new rS(rC.tag,rZ(e,t+1,n),5)}function nO(e,t,r,n){return new rS(rC.tag,rX(e,t+1,n),9)}function nV(e,t){r8(e,rC.tag.majorEncoded,t.value)}nS.compareTokens=r5.compareTokens,nS.encodedSize=function(e){return r8.encodedSize(e.value)},nz.compareTokens=r5.compareTokens,nz.encodedSize=function(e){return r8.encodedSize(e.value)},nV.compareTokens=r5.compareTokens,nV.encodedSize=function(e){return r8.encodedSize(e.value)};let nR=20,nM=21,nF=22,n_=23;function nq(e,t,r,n){if(!1===n.allowUndefined)throw Error(`${rq} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new rS(rC.null,null,1):new rS(rC.undefined,void 0,1)}function nH(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${rq} indefinite length items not allowed`);return new rS(rC.break,void 0,1)}function nJ(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw Error(`${rq} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw Error(`${rq} Infinity values are not supported`)}return new rS(rC.float,e,t)}function nG(e,t,r,n){return nJ(n1(e,t+1),3,n)}function nW(e,t,r,n){return nJ(n5(e,t+1),5,n)}function nK(e,t,r,n){return nJ(n6(e,t+1),9,n)}function nQ(e,t,r){let n=t.value;if(!1===n)e.push([rC.float.majorEncoded|nR]);else if(!0===n)e.push([rC.float.majorEncoded|nM]);else if(null===n)e.push([rC.float.majorEncoded|nF]);else if(void 0===n)e.push([rC.float.majorEncoded|n_]);else{let t;let i=!1;r&&!0===r.float64||(n0(n),n===(t=n1(nY,1))||Number.isNaN(n)?(nY[0]=249,e.push(nY.slice(0,3)),i=!0):(n2(n),n!==(t=n5(nY,1))||(nY[0]=250,e.push(nY.slice(0,5)),i=!0))),i||(n8(n),t=n6(nY,1),nY[0]=251,e.push(nY.slice(0,9)))}}nQ.encodedSize=function(e,t){let r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){n0(r);let e=n1(nY,1);if(r===e||Number.isNaN(r))return 3;if(n2(r),r===(e=n5(nY,1)))return 5}return 9};let nZ=new ArrayBuffer(9),nX=new DataView(nZ,1),nY=new Uint8Array(nZ,0);function n0(e){if(e===1/0)nX.setUint16(0,31744,!1);else if(e===-1/0)nX.setUint16(0,64512,!1);else if(Number.isNaN(e))nX.setUint16(0,32256,!1);else{nX.setFloat32(0,e);let t=nX.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)nX.setUint16(0,31744,!1);else if(0===r)nX.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{let e=r-127;e<-24?nX.setUint16(0,0):e<-14?nX.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):nX.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function n1(e,t){let r;if(e.length-t<2)throw Error(`${rq} not enough data for float16`);let n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;let i=n>>10&31,o=1023&n;return r=0===i?5960464477539063e-23*o:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&n?-r:r}function n2(e){nX.setFloat32(0,e,!1)}function n5(e,t){if(e.length-t<4)throw Error(`${rq} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function n8(e){nX.setFloat64(0,e,!1)}function n6(e,t){if(e.length-t<8)throw Error(`${rq} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function n3(e,t,r){throw Error(`${rq} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function n4(e){return()=>{throw Error(`${rq} ${e}`)}}nQ.compareTokens=r5.compareTokens;let n7=[];for(let e=0;e<=23;e++)n7[e]=n3;n7[24]=rY,n7[25]=r0,n7[26]=r1,n7[27]=r2,n7[28]=n3,n7[29]=n3,n7[30]=n3,n7[31]=n3;for(let e=32;e<=55;e++)n7[e]=n3;n7[56]=r6,n7[57]=r3,n7[58]=r4,n7[59]=ne,n7[60]=n3,n7[61]=n3,n7[62]=n3,n7[63]=n3;for(let e=64;e<=87;e++)n7[e]=nn;n7[88]=ni,n7[89]=no,n7[90]=na,n7[91]=ns,n7[92]=n3,n7[93]=n3,n7[94]=n3,n7[95]=n4("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)n7[e]=nh;n7[120]=nd,n7[121]=np,n7[122]=nb,n7[123]=ny,n7[124]=n3,n7[125]=n3,n7[126]=n3,n7[127]=n4("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)n7[e]=nw;n7[152]=nv,n7[153]=nE,n7[154]=nx,n7[155]=nA,n7[156]=n3,n7[157]=n3,n7[158]=n3,n7[159]=nC;for(let e=160;e<=183;e++)n7[e]=nP;n7[184]=nI,n7[185]=nk,n7[186]=nT,n7[187]=nD,n7[188]=n3,n7[189]=n3,n7[190]=n3,n7[191]=nN;for(let e=192;e<=215;e++)n7[e]=nB;n7[216]=nj,n7[217]=n$,n7[218]=nL,n7[219]=nO,n7[220]=n3,n7[221]=n3,n7[222]=n3,n7[223]=n3;for(let e=224;e<=243;e++)n7[e]=n4("simple values are not supported");n7[244]=n3,n7[245]=n3,n7[246]=n3,n7[247]=nq,n7[248]=n4("simple values are not supported"),n7[249]=nG,n7[250]=nW,n7[251]=nK,n7[252]=n3,n7[253]=n3,n7[254]=n3,n7[255]=nH;let n9=[];for(let e=0;e<24;e++)n9[e]=new rS(rC.uint,e,1);for(let e=-1;e>=-24;e--)n9[31-e]=new rS(rC.negint,e,1);n9[64]=new rS(rC.bytes,new Uint8Array(0),1),n9[96]=new rS(rC.string,"",1),n9[128]=new rS(rC.array,0,1),n9[160]=new rS(rC.map,0,1),n9[244]=new rS(rC.false,!1,1),n9[245]=new rS(rC.true,!0,1),n9[246]=new rS(rC.null,null,1);let ie={float64:!1,mapSorter:ic,quickEncodeToken:function(e){switch(e.type){case rC.false:return rz([244]);case rC.true:return rz([245]);case rC.null:return rz([246]);case rC.bytes:if(!e.value.length)return rz([64]);return;case rC.string:if(""===e.value)return rz([96]);return;case rC.array:if(0===e.value)return rz([128]);return;case rC.map:if(0===e.value)return rz([160]);return;case rC.uint:if(e.value<24)return rz([Number(e.value)]);return;case rC.negint:if(e.value>=-24)return rz([31-Number(e.value)])}}},it=function(){let e=[];return e[rC.uint.major]=r5,e[rC.negint.major]=nt,e[rC.bytes.major]=nc,e[rC.string.major]=ng,e[rC.array.major]=nS,e[rC.map.major]=nz,e[rC.tag.major]=nV,e[rC.float.major]=nQ,e}(),ir=new r_;class ii{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw Error(`${rH} object contains circular references`);return new ii(t,e)}}let io={null:new rS(rC.null,null),undefined:new rS(rC.undefined,void 0),true:new rS(rC.true,!0),false:new rS(rC.false,!1),emptyArray:new rS(rC.array,0),emptyMap:new rS(rC.map,0)},ia={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new rS(rC.uint,e):new rS(rC.negint,e):new rS(rC.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new rS(rC.uint,e):new rS(rC.negint,e),Uint8Array:(e,t,r,n)=>new rS(rC.bytes,e),string:(e,t,r,n)=>new rS(rC.string,e),boolean:(e,t,r,n)=>e?io.true:io.false,null:(e,t,r,n)=>io.null,undefined:(e,t,r,n)=>io.undefined,ArrayBuffer:(e,t,r,n)=>new rS(rC.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new rS(rC.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[io.emptyArray,new rS(rC.break)]:io.emptyArray;n=ii.createCheck(n,e);let i=[],o=0;for(let t of e)i[o++]=is(t,r,n);return r.addBreakTokens?[new rS(rC.array,e.length),i,new rS(rC.break)]:[new rS(rC.array,e.length),i]},Object(e,t,r,n){let i="Object"!==t,o=i?e.keys():Object.keys(e),a=i?e.size:o.length;if(!a)return!0===r.addBreakTokens?[io.emptyMap,new rS(rC.break)]:io.emptyMap;n=ii.createCheck(n,e);let s=[],u=0;for(let t of o)s[u++]=[is(t,r,n),is(i?e.get(t):e[t],r,n)];return(iu(s,r),r.addBreakTokens)?[new rS(rC.map,a),s,new rS(rC.break)]:[new rS(rC.map,a),s]}};for(let e of(ia.Map=ia.Object,ia.Buffer=ia.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))ia[`${e}Array`]=ia.DataView;function is(e,t={},r){let n=rE(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||ia[n];if("function"==typeof i){let o=i(e,n,t,r);if(null!=o)return o}let o=ia[n];if(!o)throw Error(`${rH} unsupported type: ${n}`);return o(e,n,t,r)}function iu(e,t){t.mapSorter&&e.sort(t.mapSorter)}function ic(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=it[r.type.major].compareTokens(r,n);return 0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function il(e,t,r,n){if(Array.isArray(t))for(let i of t)il(e,i,r,n);else r[t.type.major](e,t,n)}function ih(e,t,r){let n=is(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let e=r.quickEncodeToken(n);if(e)return e;let i=t[n.type.major];if(i.encodedSize){let e=new r_(i.encodedSize(n,r));if(i(e,n,r),1!==e.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return rT(e.chunks[0])}}return ir.reset(),il(ir,n,t,r),ir.toBytes(!0)}function id(e,t){return ih(e,it,t=Object.assign({},ie,t))}let ip={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class ib{constructor(e,t={}){this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let e=this.data[this._pos],t=n9[e];if(void 0===t){let r=n7[e];if(!r)throw Error(`${rq} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=31&e;t=r(this.data,this._pos,n,this.options)}return this._pos+=t.encodedLength,t}}let iy=Symbol.for("DONE"),ig=Symbol.for("BREAK");function im(e,t,r){let n=[];for(let i=0;i<e.value;i++){let o=iv(t,r);if(o===ig){if(e.value===1/0)break;throw Error(`${rq} got unexpected break to lengthed array`)}if(o===iy)throw Error(`${rq} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}function iw(e,t,r){let n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=iv(t,r);if(s===ig){if(e.value===1/0)break;throw Error(`${rq} got unexpected break to lengthed map`)}if(s===iy)throw Error(`${rq} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof s)throw Error(`${rq} non-string keys not supported (got ${typeof s})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(s)||!n&&s in i))throw Error(`${rq} found repeat map key "${s}"`);let u=iv(t,r);if(u===iy)throw Error(`${rq} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?o.set(s,u):i[s]=u}return n?o:i}function iv(e,t){if(e.done())return iy;let r=e.next();if(r.type===rC.break)return ig;if(r.type.terminal)return r.value;if(r.type===rC.array)return im(r,e,t);if(r.type===rC.map)return iw(r,e,t);if(r.type===rC.tag){if(t.tags&&"function"==typeof t.tags[r.value]){let n=iv(e,t);return t.tags[r.value](n)}throw Error(`${rq} tag not supported (${r.value})`)}throw Error("unsupported")}function iE(e,t){if(!(e instanceof Uint8Array))throw Error(`${rq} data to decode must be a Uint8Array`);let r=(t=Object.assign({},ip,t)).tokenizer||new ib(e,t),n=iv(r,t);if(n===iy)throw Error(`${rq} did not find any content to decode`);if(n===ig)throw Error(`${rq} got unexpected break`);return[n,e.subarray(r.pos())]}function ix(e,t){let[r,n]=iE(e,t);if(n.length>0)throw Error(`${rq} too many terminals, data makes no sense`);return r}function iA(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function iC(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}new Uint8Array(0);var iS=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};class iU{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class iP{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ik(this,e)}}class iI{decoders;constructor(e){this.decoders=e}or(e){return ik(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function ik(e,t){return new iI({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class iT{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new iU(e,t,r),this.decoder=new iP(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function iD({name:e,prefix:t,encode:r,decode:n}){return new iT(e,t,r,n)}function iN({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=iS(r,e);return iD({prefix:t,name:e,encode:n,decode:e=>iC(i(e))})}function iz(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,u=0;for(let c=0;c<i;++c){let i=t[e[c]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[u++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function iB(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function ij(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function i$({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=ij(n);return iD({prefix:t,name:e,encode:e=>iB(e,n,r),decode:t=>iz(t,i,r,e)})}let iL=i$({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});i$({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),i$({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),i$({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),i$({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),i$({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),i$({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),i$({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),i$({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let iO=iN({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});iN({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});let iV=iN({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});iN({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var iR=128,iM=-128,iF=2147483648;function i_(e,t,r){t=t||[];for(var n=r=r||0;e>=iF;)t[r++]=255&e|iR,e/=128;for(;e&iM;)t[r++]=255&e|iR,e>>>=7;return t[r]=0|e,i_.bytes=r-n+1,t}var iq=128,iH=127;function iJ(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw iJ.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&iH)<<i:(r&iH)*Math.pow(2,i),i+=7}while(r>=iq);return iJ.bytes=o-t,n}var iG=128,iW=16384,iK=2097152,iQ=268435456,iZ=34359738368,iX=4398046511104,iY=562949953421312,i0=72057594037927940,i1=0x7fffffffffffffff,i2=i_,i5=iJ,i8=function(e){return e<iG?1:e<iW?2:e<iK?3:e<iQ?4:e<iZ?5:e<iX?6:e<iY?7:e<i0?8:e<i1?9:10};function i6(e,t=0){return[i5(e,t),i5.bytes]}function i3(e,t,r=0){return i2(e,t,r),t}function i4(e){return i8(e)}function i7(e,t){let r=t.byteLength,n=i4(e),i=n+i4(r),o=new Uint8Array(i+r);return i3(e,o,0),i3(r,o,n),o.set(t,i),new ot(e,r,t,o)}function i9(e){let t=iC(e),[r,n]=i6(t),[i,o]=i6(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new ot(r,i,a,t)}function oe(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&iA(e.bytes,r.bytes)}}class ot{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function or(e,t){let{bytes:r,version:n}=e;return 0===n?os(r,oi(e),t??iV.encoder):ou(r,oi(e),t??iL.encoder)}let on=new WeakMap;function oi(e){let t=on.get(e);if(null==t){let t=new Map;return on.set(e,t),t}return t}class oo{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==oc)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ol)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return oo.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=i7(e,t);return oo.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return oo.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&oe(e.multihash,r.multihash)}toString(e){return or(this,e)}toJSON(){return{"/":or(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof oo)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new oo(e,r,n,i??of(e,r,n.bytes))}if(!0!==t[oh])return null;{let{version:e,multihash:r,code:n}=t,i=i9(r);return oo.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===oc)return new oo(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${oc}) block encoding`);case 1:{let n=of(e,t,r.bytes);return new oo(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return oo.create(0,oc,e)}static createV1(e,t){return oo.create(1,e,t)}static decode(e){let[t,r]=oo.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=oo.inspectBytes(e),r=t.size-t.multihashSize,n=iC(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new ot(t.multihashCode,t.digestSize,i,n);return[0===t.version?oo.createV0(o):oo.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=i6(e.subarray(t));return t+=n,r},n=r(),i=oc;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=oa(e,t),i=oo.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return oi(i).set(r,e),i}}function oa(e,t){switch(e[0]){case"Q":{let r=t??iV;return[iV.prefix,r.decode(`${iV.prefix}${e}`)]}case iV.prefix:{let r=t??iV;return[iV.prefix,r.decode(e)]}case iL.prefix:{let r=t??iL;return[iL.prefix,r.decode(e)]}case iO.prefix:{let r=t??iO;return[iO.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function os(e,t,r){let{prefix:n}=r;if(n!==iV.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function ou(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let oc=112,ol=18;function of(e,t,r){let n=i4(e),i=n+i4(t),o=new Uint8Array(i+r.byteLength);return i3(e,o,0),i3(t,o,n),o.set(r,i),o}let oh=Symbol.for("@ipld/js-cid/CID"),od=42;function op(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}let ob={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=oo.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new rS(rC.tag,od),new rS(rC.bytes,r)]},undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},oy={...ob,typeEncoders:{...ob.typeEncoders}};function og(e){if(0!==e[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return oo.decode(e.subarray(1))}let om={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};om.tags[od]=og;let ow={...om,tags:om.tags.slice()},ov="dag-cbor",oE=113,ox=e=>id(e,ob),oA=e=>ix(op(e),om);class oC extends Array{constructor(){super(),this.inRecursive=[]}prefix(e){let t=this.inRecursive[this.inRecursive.length-1];t&&(t.type===rC.array&&(t.elements++,1!==t.elements&&e.push([44])),t.type===rC.map&&(t.elements++,1!==t.elements&&(t.elements%2==1?e.push([44]):e.push([58]))))}[rC.uint.major](e,t){this.prefix(e);let r=String(t.value),n=[];for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);e.push(n)}[rC.negint.major](e,t){this[rC.uint.major](e,t)}[rC.bytes.major](e,t){throw Error(`${rH} unsupported type: Uint8Array`)}[rC.string.major](e,t){this.prefix(e);let r=rN(JSON.stringify(t.value));e.push(r.length>32?rT(r):r)}[rC.array.major](e,t){this.prefix(e),this.inRecursive.push({type:rC.array,elements:0}),e.push([91])}[rC.map.major](e,t){this.prefix(e),this.inRecursive.push({type:rC.map,elements:0}),e.push([123])}[rC.tag.major](e,t){}[rC.float.major](e,t){if("break"===t.type.name){let t=this.inRecursive.pop();if(t){if(t.type===rC.array)e.push([93]);else if(t.type===rC.map)e.push([125]);else throw Error("Unexpected recursive type; this should not happen!");return}throw Error("Unexpected break; this should not happen!")}if(void 0===t.value)throw Error(`${rH} unsupported type: undefined`);if(this.prefix(e),"true"===t.type.name){e.push([116,114,117,101]);return}if("false"===t.type.name){e.push([102,97,108,115,101]);return}if("null"===t.type.name){e.push([110,117,108,108]);return}let r=String(t.value),n=[],i=!1;for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e),i||46!==n[e]&&101!==n[e]&&69!==n[e]||(i=!0);i||(n.push(46),n.push(48)),e.push(n)}}let oS={addBreakTokens:!0,mapSorter:function(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw Error(`${rH} complex map keys are not supported`);let r=e[0],n=t[0];if(r.type!==rC.string||n.type!==rC.string)throw Error(`${rH} non-string map keys are not supported`);if(r<n)return -1;if(r>n)return 1;throw Error(`${rH} unexpected duplicate map keys, this is not supported`)}};function oU(e,t){return t=Object.assign({},oS,t),ih(e,new oC,t)}class oP{constructor(e,t={}){this._pos=0,this.data=e,this.options=t,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let e=this.ch();for(;32===e||9===e||13===e||10===e;)e=this.data[++this._pos]}expect(e){if(this.data.length-this._pos<e.length)throw Error(`${rq} unexpected end of input at position ${this._pos}`);for(let t=0;t<e.length;t++)if(this.data[this._pos++]!==e[t])throw Error(`${rq} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...e)}'`)}parseNumber(){let e=this._pos,t=!1,r=!1,n=e=>{for(;!this.done();){let t=this.ch();if(e.includes(t))this._pos++;else break}};if(45===this.ch()&&(t=!0,this._pos++),48===this.ch()){if(this._pos++,46!==this.ch())return new rS(rC.uint,0,this._pos-e);this._pos++,r=!0}if(n([48,49,50,51,52,53,54,55,56,57]),t&&this._pos===e+1)throw Error(`${rq} unexpected token at position ${this._pos}`);if(!this.done()&&46===this.ch()){if(r)throw Error(`${rq} unexpected token at position ${this._pos}`);r=!0,this._pos++,n([48,49,50,51,52,53,54,55,56,57])}this.done()||101!==this.ch()&&69!==this.ch()||(r=!0,this._pos++,!this.done()&&(43===this.ch()||45===this.ch())&&this._pos++,n([48,49,50,51,52,53,54,55,56,57]));let i=String.fromCharCode.apply(null,this.data.subarray(e,this._pos)),o=parseFloat(i);return r?new rS(rC.float,o,this._pos-e):!0!==this.options.allowBigInt||Number.isSafeInteger(o)?new rS(o>=0?rC.uint:rC.negint,o,this._pos-e):new rS(o>=0?rC.uint:rC.negint,BigInt(i),this._pos-e)}parseString(){if(34!==this.ch())throw Error(`${rq} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let e=this._pos,t=0;e<this.data.length&&t<65536;e++,t++){let r=this.data[e];if(92===r||r<32||r>=128)break;if(34===r){let r=String.fromCharCode.apply(null,this.data.subarray(this._pos,e));return this._pos=e+1,new rS(rC.string,r,t)}}let e=this._pos,t=[],r=()=>{if(this._pos+4>=this.data.length)throw Error(`${rq} unexpected end of unicode escape sequence at position ${this._pos}`);let e=0;for(let t=0;t<4;t++){let t=this.ch();if(t>=48&&t<=57)t-=48;else if(t>=97&&t<=102)t=t-97+10;else if(t>=65&&t<=70)t=t-65+10;else throw Error(`${rq} unexpected unicode escape character at position ${this._pos}`);e=16*e+t,this._pos++}return e},n=()=>{let e,r,n,i;let o=this.ch(),a=null,s=o>239?4:o>223?3:o>191?2:1;if(this._pos+s>this.data.length)throw Error(`${rq} unexpected unicode sequence at position ${this._pos}`);switch(s){case 1:o<128&&(a=o);break;case 2:(192&(e=this.data[this._pos+1]))==128&&(i=(31&o)<<6|63&e)>127&&(a=i);break;case 3:e=this.data[this._pos+1],r=this.data[this._pos+2],(192&e)==128&&(192&r)==128&&(i=(15&o)<<12|(63&e)<<6|63&r)>2047&&(i<55296||i>57343)&&(a=i);break;case 4:e=this.data[this._pos+1],r=this.data[this._pos+2],n=this.data[this._pos+3],(192&e)==128&&(192&r)==128&&(192&n)==128&&(i=(15&o)<<18|(63&e)<<12|(63&r)<<6|63&n)>65535&&i<1114112&&(a=i)}null===a?(a=65533,s=1):a>65535&&(a-=65536,t.push(a>>>10&1023|55296),a=56320|1023&a),t.push(a),this._pos+=s};for(;!this.done();){let i;let o=this.ch();switch(o){case 92:if(this._pos++,this.done())throw Error(`${rq} unexpected string termination at position ${this._pos}`);switch(i=this.ch(),this._pos++,i){case 34:case 39:case 92:case 47:t.push(i);break;case 98:t.push(8);break;case 116:t.push(9);break;case 110:t.push(10);break;case 102:t.push(12);break;case 114:t.push(13);break;case 117:t.push(r());break;default:throw Error(`${rq} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new rS(rC.string,rM(t),this._pos-e);default:if(o<32)throw Error(`${rq} invalid control character at position ${this._pos}`);o<128?(t.push(o),this._pos++):n()}}throw Error(`${rq} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new rS(rC.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new rS(rC.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new rS(rC.null,null,4);case 102:return this.expect([102,97,108,115,101]),new rS(rC.false,!1,5);case 116:return this.expect([116,114,117,101]),new rS(rC.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw Error(`${rq} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new rS(rC.break,void 0,1);if(44!==this.ch())throw Error(`${rq} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new rS(rC.break,void 0,1);return this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"obj-key":if(125===this.ch())return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new rS(rC.break,void 0,1);if(44!==this.ch())throw Error(`${rq} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),125===this.ch())return this._pos++,this.skipWhitespace(),new rS(rC.break,void 0,1);let e=this.parseString();if(this.skipWhitespace(),58!==this.ch())throw Error(`${rq} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),e}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw Error(`${rq} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function oI(e,t){return t=Object.assign({tokenizer:new oP(e,t)},t),ix(e,t)}function ok(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function oT(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}new Uint8Array(0);var oD=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};class oN{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class oz{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return oj(this,e)}}class oB{decoders;constructor(e){this.decoders=e}or(e){return oj(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function oj(e,t){return new oB({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class o${name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new oN(e,t,r),this.decoder=new oz(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function oL({name:e,prefix:t,encode:r,decode:n}){return new o$(e,t,r,n)}function oO({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=oD(r,e);return oL({prefix:t,name:e,encode:n,decode:e=>oT(i(e))})}function oV(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,u=0;for(let c=0;c<i;++c){let i=t[e[c]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[u++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function oR(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function oM(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function oF({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=oM(n);return oL({prefix:t,name:e,encode:e=>oR(e,n,r),decode:t=>oV(t,i,r,e)})}let o_=oF({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});oF({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oF({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oF({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oF({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),oF({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),oF({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oF({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oF({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let oq=oO({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});oO({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});let oH=oO({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});oO({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var oJ=128,oG=-128,oW=2147483648;function oK(e,t,r){t=t||[];for(var n=r=r||0;e>=oW;)t[r++]=255&e|oJ,e/=128;for(;e&oG;)t[r++]=255&e|oJ,e>>>=7;return t[r]=0|e,oK.bytes=r-n+1,t}var oQ=128,oZ=127;function oX(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw oX.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&oZ)<<i:(r&oZ)*Math.pow(2,i),i+=7}while(r>=oQ);return oX.bytes=o-t,n}var oY=128,o0=16384,o1=2097152,o2=268435456,o5=34359738368,o8=4398046511104,o6=562949953421312,o3=72057594037927940,o4=0x7fffffffffffffff,o7=oK,o9=oX,ae=function(e){return e<oY?1:e<o0?2:e<o1?3:e<o2?4:e<o5?5:e<o8?6:e<o6?7:e<o3?8:e<o4?9:10};function at(e,t=0){return[o9(e,t),o9.bytes]}function ar(e,t,r=0){return o7(e,t,r),t}function an(e){return ae(e)}function ai(e,t){let r=t.byteLength,n=an(e),i=n+an(r),o=new Uint8Array(i+r);return ar(e,o,0),ar(r,o,n),o.set(t,i),new as(e,r,t,o)}function ao(e){let t=oT(e),[r,n]=at(t),[i,o]=at(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new as(r,i,a,t)}function aa(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&ok(e.bytes,r.bytes)}}class as{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function au(e,t){let{bytes:r,version:n}=e;return 0===n?ad(r,al(e),t??oH.encoder):ap(r,al(e),t??o_.encoder)}let ac=new WeakMap;function al(e){let t=ac.get(e);if(null==t){let t=new Map;return ac.set(e,t),t}return t}class af{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==ab)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ay)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return af.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=ai(e,t);return af.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return af.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&aa(e.multihash,r.multihash)}toString(e){return au(this,e)}toJSON(){return{"/":au(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof af)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new af(e,r,n,i??ag(e,r,n.bytes))}if(!0!==t[am])return null;{let{version:e,multihash:r,code:n}=t,i=ao(r);return af.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===ab)return new af(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${ab}) block encoding`);case 1:{let n=ag(e,t,r.bytes);return new af(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return af.create(0,ab,e)}static createV1(e,t){return af.create(1,e,t)}static decode(e){let[t,r]=af.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=af.inspectBytes(e),r=t.size-t.multihashSize,n=oT(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new as(t.multihashCode,t.digestSize,i,n);return[0===t.version?af.createV0(o):af.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=at(e.subarray(t));return t+=n,r},n=r(),i=ab;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=ah(e,t),i=af.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return al(i).set(r,e),i}}function ah(e,t){switch(e[0]){case"Q":{let r=t??oH;return[oH.prefix,r.decode(`${oH.prefix}${e}`)]}case oH.prefix:{let r=t??oH;return[oH.prefix,r.decode(e)]}case o_.prefix:{let r=t??o_;return[o_.prefix,r.decode(e)]}case oq.prefix:{let r=t??oq;return[oq.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function ad(e,t,r){let{prefix:n}=r;if(n!==oH.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function ap(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let ab=112,ay=18;function ag(e,t,r){let n=an(e),i=n+an(t),o=new Uint8Array(i+r.byteLength);return ar(e,o,0),ar(t,o,n),o.set(r,i),o}let am=Symbol.for("@ipld/js-cid/CID"),aw=oF({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});function av(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function aE(e){let t=aw.encode(e).slice(1);return[new rS(rC.map,1/0,1),new rS(rC.string,"/",1),new rS(rC.map,1/0,1),new rS(rC.string,"bytes",5),new rS(rC.string,t,t.length),new rS(rC.break,void 0,1),new rS(rC.break,void 0,1)]}function ax(e){return aE(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function aA(e){return aE(new Uint8Array(e))}oF({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oF({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oF({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});let aC={typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=af.asCID(e);if(!t)return null;let r=t.toString();return[new rS(rC.map,1/0,1),new rS(rC.string,"/",1),new rS(rC.string,r,r.length),new rS(rC.break,void 0,1)]},Buffer:aE,Uint8Array:aE,Int8Array:ax,Uint16Array:ax,Int16Array:ax,Uint32Array:ax,Int32Array:ax,Float32Array:ax,Float64Array:ax,Uint8ClampedArray:ax,BigInt64Array:ax,BigUint64Array:ax,DataView:ax,ArrayBuffer:aA,undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};class aS extends oP{constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let e=this._next();if(e.type===rC.map){let e=this._next();if(e.type===rC.string&&"/"===e.value){let e=this._next();if(e.type===rC.string){if(this._next().type!==rC.break)throw Error("Invalid encoded CID form");return this.tokenBuffer.push(e),new rS(rC.tag,42,0)}if(e.type===rC.map){let e=this._next();if(e.type===rC.string&&"bytes"===e.value){let e=this._next();if(e.type===rC.string){for(let e=0;e<2;e++)if(this._next().type!==rC.break)throw Error("Invalid encoded Bytes form");let t=aw.decode(`m${e.value}`);return new rS(rC.bytes,t,e.value.length)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}return e}}let aU={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};aU.tags[42]=af.parse;let aP="dag-json",aI=297,ak=e=>oU(e,aC),aT=e=>{let t=av(e),r=Object.assign(aU,{tokenizer:new aS(t,aU)});return oI(t,r)},aD=e=>aN.decode(ak(e)),aN=new TextDecoder,az=e=>aT(aB.encode(e)),aB=new TextEncoder;var aj=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};new Uint8Array(0);let a$=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},aL=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class aO{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class aV{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return aM(this,e)}}class aR{constructor(e){this.decoders=e}or(e){return aM(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let aM=(e,t)=>new aR({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class aF{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new aO(e,t,r),this.decoder=new aV(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let a_=({name:e,prefix:t,encode:r,decode:n})=>new aF(e,t,r,n),aq=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=aj(r,t);return a_({prefix:e,name:t,encode:n,decode:e=>aL(i(e))})},aH=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},aJ=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},aG=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>a_({prefix:t,name:e,encode:e=>aJ(e,n,r),decode:t=>aH(t,n,r,e)});aG({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aG({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});let aW=aG({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});function aK(e){return aW.encode(e).slice(1)}function aQ(e){return aW.decode(`u${e}`)}aG({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var aZ=128,aX=-128,aY=2147483648;function a0(e,t,r){t=t||[];for(var n=r=r||0;e>=aY;)t[r++]=255&e|aZ,e/=128;for(;e&aX;)t[r++]=255&e|aZ,e>>>=7;return t[r]=0|e,a0.bytes=r-n+1,t}var a1=128,a2=127;function a5(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw a5.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&a2)<<i:(r&a2)*Math.pow(2,i),i+=7}while(r>=a1);return a5.bytes=o-t,n}var a8=128,a6=16384,a3=2097152,a4=268435456,a7=34359738368,a9=4398046511104,se=562949953421312,st=72057594037927940,sr=0x7fffffffffffffff,sn=a0,si=a5,so=function(e){return e<a8?1:e<a6?2:e<a3?3:e<a4?4:e<a7?5:e<a9?6:e<se?7:e<st?8:e<sr?9:10};let sa=(e,t=0)=>[si(e,t),si.bytes],ss=(e,t,r=0)=>(sn(e,t,r),t),su=e=>so(e),sc=(e,t)=>{let r=t.byteLength,n=su(e),i=n+su(r),o=new Uint8Array(i+r);return ss(e,o,0),ss(r,o,n),o.set(t,i),new sh(e,r,t,o)},sl=e=>{let t=aL(e),[r,n]=sa(t),[i,o]=sa(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new sh(r,i,a,t)},sf=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&a$(e.bytes,r.bytes)}};class sh{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let sd=aq({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});aq({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let sp=aG({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});aG({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aG({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aG({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),aG({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aG({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aG({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),aG({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aG({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let sb=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?sv(r,sg(e),t||sd.encoder):sE(r,sg(e),t||sp.encoder)},sy=new WeakMap,sg=e=>{let t=sy.get(e);if(null==t){let t=new Map;return sy.set(e,t),t}return t};class sm{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==sx)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==sA)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return sm.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=sc(e,t);return sm.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return sm.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&sf(e.multihash,r.multihash)}toString(e){return sb(this,e)}toJSON(){return{"/":sb(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof sm)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new sm(e,r,n,i||sC(e,r,n.bytes))}if(!0!==t[sS])return null;{let{version:e,multihash:r,code:n}=t,i=sl(r);return sm.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===sx)return new sm(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${sx}) block encoding`);case 1:{let n=sC(e,t,r.bytes);return new sm(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return sm.create(0,sx,e)}static createV1(e,t){return sm.create(1,e,t)}static decode(e){let[t,r]=sm.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=sm.inspectBytes(e),r=t.size-t.multihashSize,n=aL(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new sh(t.multihashCode,t.digestSize,i,n);return[0===t.version?sm.createV0(o):sm.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=sa(e.subarray(t));return t+=n,r},n=r(),i=sx;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=sw(e,t),i=sm.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return sg(i).set(r,e),i}}let sw=(e,t)=>{switch(e[0]){case"Q":{let r=t||sd;return[sd.prefix,r.decode(`${sd.prefix}${e}`)]}case sd.prefix:{let r=t||sd;return[sd.prefix,r.decode(e)]}case sp.prefix:{let r=t||sp;return[sp.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},sv=(e,t,r)=>{let{prefix:n}=r;if(n!==sd.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},sE=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},sx=112,sA=18,sC=(e,t,r)=>{let n=su(e),i=n+su(t),o=new Uint8Array(i+r.byteLength);return ss(e,o,0),ss(t,o,n),o.set(r,i),o},sS=Symbol.for("@ipld/js-cid/CID");function sU(e){let[t,r,n]=e;return{payload:r,signatures:[{protected:t,signature:n}],link:sm.decode(aQ(r))}}function sP(e){let t={signature:aQ(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=aQ(e.protected)),t}function sI(e){let t=aQ(e.payload);try{sm.decode(t)}catch(e){throw Error("Not a valid DagJWS")}return{payload:t,signatures:e.signatures.map(sP)}}function sk(e){let t={signature:aK(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=aK(e.protected)),t}function sT(e){let t={payload:aK(e.payload),signatures:e.signatures.map(sk)};return t.link=sm.decode(new Uint8Array(e.payload)),t}function sD(e){let[t,r,n,i,o]=e,a={ciphertext:i,iv:n,protected:t,tag:o};return r&&(a.recipients=[{encrypted_key:r}]),a}function sN(e){let t={};return e.encrypted_key&&(t.encrypted_key=aQ(e.encrypted_key)),e.header&&(t.header=e.header),t}function sz(e){let t={ciphertext:aQ(e.ciphertext),protected:aQ(e.protected),iv:aQ(e.iv),tag:aQ(e.tag)};return e.aad&&(t.aad=aQ(e.aad)),e.recipients&&(t.recipients=e.recipients.map(sN)),e.unprotected&&(t.unprotected=e.unprotected),t}function sB(e){let t={};return e.encrypted_key&&(t.encrypted_key=aK(e.encrypted_key)),e.header&&(t.header=e.header),t}function sj(e){let t={ciphertext:aK(e.ciphertext),protected:aK(e.protected),iv:aK(e.iv),tag:aK(e.tag)};return e.aad&&(t.aad=aK(e.aad)),e.recipients&&(t.recipients=e.recipients.map(sB)),e.unprotected&&(t.unprotected=e.unprotected),t}let s$="dag-jose",sL=133;function sO(e){return"payload"in e&&"string"==typeof e.payload&&"signatures"in e&&Array.isArray(e.signatures)}function sV(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function sR(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function sM(e){return"ciphertext"in e&&"string"==typeof e.ciphertext&&"iv"in e&&"string"==typeof e.iv&&"protected"in e&&"string"==typeof e.protected&&"tag"in e&&"string"==typeof e.tag}function sF(e){if("string"==typeof e){let t=e.split(".");if(3===t.length)return sU(t);if(5===t.length)return sD(t);throw Error("Not a valid JOSE string")}if(sO(e)||sM(e))return e;throw Error("Not a valid unencoded JOSE object")}function s_(e){let t;if("string"==typeof e&&(e=sF(e)),sO(e))t=sI(e);else if(sM(e))t=sz(e);else throw Error("Not a valid JOSE object");return new Uint8Array(ox(t))}function sq(e){let t;try{t=oA(e)}catch(e){throw Error("Not a valid DAG-JOSE object")}if(sV(t))return sT(t);if(sR(t))return sj(t);throw Error("Not a valid DAG-JOSE object")}new Uint8Array(0);let sH=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},sJ=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},sG=e=>new TextEncoder().encode(e),sW=e=>new TextDecoder().decode(e);var sK=128,sQ=-128,sZ=2147483648;function sX(e,t,r){t=t||[];for(var n=r=r||0;e>=sZ;)t[r++]=255&e|sK,e/=128;for(;e&sQ;)t[r++]=255&e|sK,e>>>=7;return t[r]=0|e,sX.bytes=r-n+1,t}var sY=128,s0=127;function s1(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw s1.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&s0)<<i:(r&s0)*Math.pow(2,i),i+=7}while(r>=sY);return s1.bytes=o-t,n}var s2=128,s5=16384,s8=2097152,s6=268435456,s3=34359738368,s4=4398046511104,s7=562949953421312,s9=72057594037927940,ue=0x7fffffffffffffff,ut=sX,ur=s1,un=function(e){return e<s2?1:e<s5?2:e<s8?3:e<s6?4:e<s3?5:e<s4?6:e<s7?7:e<s9?8:e<ue?9:10};let ui=(e,t=0)=>[ur(e,t),ur.bytes],uo=(e,t,r=0)=>(ut(e,t,r),t),ua=e=>un(e),us=(e,t)=>{let r=t.byteLength,n=ua(e),i=n+ua(r),o=new Uint8Array(i+r);return uo(e,o,0),uo(r,o,n),o.set(t,i),new ul(e,r,t,o)},uu=e=>{let t=sJ(e),[r,n]=ui(t),[i,o]=ui(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new ul(r,i,a,t)},uc=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&sH(e.bytes,r.bytes)}};class ul{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let uf=0,uh=sJ,ud=e=>us(uf,uh(e)),up={code:uf,name:"identity",encode:uh,digest:ud};var ub=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};class uy{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ug{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return uw(this,e)}}class um{constructor(e){this.decoders=e}or(e){return uw(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let uw=(e,t)=>new um({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class uv{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new uy(e,t,r),this.decoder=new ug(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let uE=({name:e,prefix:t,encode:r,decode:n})=>new uv(e,t,r,n),ux=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=ub(r,t);return uE({prefix:e,name:t,encode:n,decode:e=>sJ(i(e))})},uA=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},uC=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},uS=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>uE({prefix:t,name:e,encode:e=>uC(e,n,r),decode:t=>uA(t,n,r,e)}),uU=uE({prefix:"\0",name:"identity",encode:e=>sW(e),decode:e=>sG(e)}),uP=uS({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),uI=uS({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),uk=ux({prefix:"9",name:"base10",alphabet:"0123456789"}),uT=uS({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uD=uS({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),uN=uS({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uz=uS({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uB=uS({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uj=uS({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u$=uS({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uL=uS({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),uO=uS({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uV=uS({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uR=uS({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),uM=ux({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uF=ux({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),u_=ux({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uq=ux({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),uH=uS({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),uJ=uS({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),uG=uS({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uW=uS({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),uK=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),uQ=uK.reduce((e,t,r)=>(e[r]=t,e),[]),uZ=uK.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),uX=uE({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=uQ[t],"")},decode:function(e){let t=[];for(let r of e){let e=uZ[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),uY=({name:e,code:t,encode:r})=>new u0(e,t,r);class u0{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?us(this.code,t):t.then(e=>us(this.code,e))}throw Error("Unknown type, must be binary type")}}let u1=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),u2=uY({name:"sha2-256",code:18,encode:u1("SHA-256")}),u5=uY({name:"sha2-512",code:19,encode:u1("SHA-512")}),u8="raw",u6=85,u3=e=>sJ(e),u4=e=>sJ(e),u7=new TextEncoder,u9=new TextDecoder,ce="json",ct=512,cr=e=>u7.encode(JSON.stringify(e)),cn=e=>JSON.parse(u9.decode(e)),ci=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?cc(r,ca(e),t||u_.encoder):cl(r,ca(e),t||uN.encoder)},co=new WeakMap,ca=e=>{let t=co.get(e);if(null==t){let t=new Map;return co.set(e,t),t}return t};class cs{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==cf)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ch)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return cs.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=us(e,t);return cs.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return cs.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&uc(e.multihash,r.multihash)}toString(e){return ci(this,e)}toJSON(){return{"/":ci(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof cs)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new cs(e,r,n,i||cd(e,r,n.bytes))}if(!0!==t[cp])return null;{let{version:e,multihash:r,code:n}=t,i=uu(r);return cs.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===cf)return new cs(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${cf}) block encoding`);case 1:{let n=cd(e,t,r.bytes);return new cs(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return cs.create(0,cf,e)}static createV1(e,t){return cs.create(1,e,t)}static decode(e){let[t,r]=cs.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=cs.inspectBytes(e),r=t.size-t.multihashSize,n=sJ(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new ul(t.multihashCode,t.digestSize,i,n);return[0===t.version?cs.createV0(o):cs.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ui(e.subarray(t));return t+=n,r},n=r(),i=cf;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=cu(e,t),i=cs.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return ca(i).set(r,e),i}}let cu=(e,t)=>{switch(e[0]){case"Q":{let r=t||u_;return[u_.prefix,r.decode(`${u_.prefix}${e}`)]}case u_.prefix:{let r=t||u_;return[u_.prefix,r.decode(e)]}case uN.prefix:{let r=t||uN;return[uN.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},cc=(e,t,r)=>{let{prefix:n}=r;if(n!==u_.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},cl=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},cf=112,ch=18,cd=(e,t,r)=>{let n=ua(e),i=n+ua(t),o=new Uint8Array(i+r.byteLength);return uo(e,o,0),uo(t,o,n),o.set(r,i),o},cp=Symbol.for("@ipld/js-cid/CID"),cb={...h,...d,...p,...b,...y,...g,...m,...w,...v,...E},cy={...x,...f},cg={raw:A,json:C};class cm{index=0;input="";new(e){return this.index=0,this.input=e,this}readAtomically(e){let t=this.index,r=e();return void 0===r&&(this.index=t),r}parseWith(e){let t=e();if(this.index===this.input.length)return t}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{let t=this.readChar();if(t===e)return t})}readSeparator(e,t,r){return this.readAtomically(()=>{if(!(t>0)||void 0!==this.readGivenChar(e))return r()})}readNumber(e,t,r,n){return this.readAtomically(()=>{let i=0,o=0,a=this.peekChar();if(void 0===a)return;let s="0"===a,u=2**(8*n)-1;for(;;){let r=this.readAtomically(()=>{let t=this.readChar();if(void 0===t)return;let r=Number.parseInt(t,e);if(!Number.isNaN(r))return r});if(void 0===r)break;if(i*=e,(i+=r)>u||(o+=1,void 0!==t&&o>t))return}return 0===o?void 0:!r&&s&&o>1?void 0:i})}readIPv4Addr(){return this.readAtomically(()=>{let e=new Uint8Array(4);for(let t=0;t<e.length;t++){let r=this.readSeparator(".",t,()=>this.readNumber(10,3,!1,1));if(void 0===r)return;e[t]=r}return e})}readIPv6Addr(){let e=e=>{for(let t=0;t<e.length/2;t++){let r=2*t;if(t<e.length-3){let n=this.readSeparator(":",t,()=>this.readIPv4Addr());if(void 0!==n)return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],[r+4,!0]}let n=this.readSeparator(":",t,()=>this.readNumber(16,4,!0,2));if(void 0===n)return[r,!1];e[r]=n>>8,e[r+1]=255&n}return[e.length,!1]};return this.readAtomically(()=>{let t=new Uint8Array(16),[r,n]=e(t);if(16===r)return t;if(n||void 0===this.readGivenChar(":")||void 0===this.readGivenChar(":"))return;let i=new Uint8Array(14),o=16-(r+2),[a]=e(i.subarray(0,o));return t.set(i.subarray(0,a),16-a),t})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}let cw=45,cv=15,cE=new cm;function cx(e){if(!(e.length>cv))return cE.new(e).parseWith(()=>cE.readIPv4Addr())}function cA(e){if(e.includes("%")&&(e=e.split("%")[0]),!(e.length>cw))return cE.new(e).parseWith(()=>cE.readIPv6Addr())}function cC(e,t=!1){if(e.includes("%")&&(e=e.split("%")[0]),e.length>cw)return;let r=cE.new(e).parseWith(()=>cE.readIPAddr());return r?t&&4===r.length?Uint8Array.from([0,0,0,0,0,0,0,0,0,0,255,255,r[0],r[1],r[2],r[3]]):r:void 0}function cS(e){return!!cx(e)}function cU(e){return!!cA(e)}function cP(e){return!!cC(e)}var cI=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};new Uint8Array(0);let ck=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},cT=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},cD=e=>new TextEncoder().encode(e),cN=e=>new TextDecoder().decode(e);class cz{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class cB{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c$(this,e)}}class cj{constructor(e){this.decoders=e}or(e){return c$(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let c$=(e,t)=>new cj({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class cL{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new cz(e,t,r),this.decoder=new cB(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let cO=({name:e,prefix:t,encode:r,decode:n})=>new cL(e,t,r,n),cV=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=cI(r,t);return cO({prefix:e,name:t,encode:n,decode:e=>cT(i(e))})},cR=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},cM=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},cF=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>cO({prefix:t,name:e,encode:e=>cM(e,n,r),decode:t=>cR(t,n,r,e)}),c_=cV({prefix:"9",name:"base10",alphabet:"0123456789"}),cq=cF({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cH=cF({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),cJ=cF({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),cG=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),cW=cG.reduce((e,t,r)=>(e[r]=t,e),[]),cK=cG.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),cQ=cO({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=cW[t],"")},decode:function(e){let t=[];for(let r of e){let e=cK[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),cZ=cF({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cX=cF({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cY=cF({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),c0=cF({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c1=cF({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c2=cF({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),c5=cF({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),c8=cF({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),c6=cF({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),c3=cV({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),c4=cV({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),c7=cV({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),c9=cV({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),le=cF({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lt=cF({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lr=cF({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ln=cF({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),li=cF({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),lo=cO({prefix:"\0",name:"identity",encode:e=>cN(e),decode:e=>cD(e)}),la=new TextEncoder,ls=new TextDecoder,lu="json",lc=512,ll=e=>la.encode(JSON.stringify(e)),lf=e=>JSON.parse(ls.decode(e)),lh="raw",ld=85,lp=e=>cT(e),lb=e=>cT(e);var ly=128,lg=-128,lm=2147483648;function lw(e,t,r){t=t||[];for(var n=r=r||0;e>=lm;)t[r++]=255&e|ly,e/=128;for(;e&lg;)t[r++]=255&e|ly,e>>>=7;return t[r]=0|e,lw.bytes=r-n+1,t}var lv=128,lE=127;function lx(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw lx.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&lE)<<i:(r&lE)*Math.pow(2,i),i+=7}while(r>=lv);return lx.bytes=o-t,n}var lA=128,lC=16384,lS=2097152,lU=268435456,lP=34359738368,lI=4398046511104,lk=562949953421312,lT=72057594037927940,lD=0x7fffffffffffffff,lN=lw,lz=lx,lB=function(e){return e<lA?1:e<lC?2:e<lS?3:e<lU?4:e<lP?5:e<lI?6:e<lk?7:e<lT?8:e<lD?9:10};let lj=(e,t=0)=>[lz(e,t),lz.bytes],l$=(e,t,r=0)=>(lN(e,t,r),t),lL=e=>lB(e),lO=(e,t)=>{let r=t.byteLength,n=lL(e),i=n+lL(r),o=new Uint8Array(i+r);return l$(e,o,0),l$(r,o,n),o.set(t,i),new lM(e,r,t,o)},lV=e=>{let t=cT(e),[r,n]=lj(t),[i,o]=lj(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new lM(r,i,a,t)},lR=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&ck(e.bytes,r.bytes)}};class lM{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let lF=0,l_=cT,lq=e=>lO(lF,l_(e)),lH={code:lF,name:"identity",encode:l_,digest:lq},lJ=({name:e,code:t,encode:r})=>new lG(e,t,r);class lG{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?lO(this.code,t):t.then(e=>lO(this.code,e))}throw Error("Unknown type, must be binary type")}}let lW=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),lK=lJ({name:"sha2-256",code:18,encode:lW("SHA-256")}),lQ=lJ({name:"sha2-512",code:19,encode:lW("SHA-512")}),lZ=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?l2(r,lY(e),t||c7.encoder):l5(r,lY(e),t||cZ.encoder)},lX=new WeakMap,lY=e=>{let t=lX.get(e);if(null==t){let t=new Map;return lX.set(e,t),t}return t};class l0{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==l8)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==l6)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return l0.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=lO(e,t);return l0.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return l0.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&lR(e.multihash,r.multihash)}toString(e){return lZ(this,e)}toJSON(){return{"/":lZ(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof l0)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new l0(e,r,n,i||l3(e,r,n.bytes))}if(!0!==t[l4])return null;{let{version:e,multihash:r,code:n}=t,i=lV(r);return l0.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===l8)return new l0(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${l8}) block encoding`);case 1:{let n=l3(e,t,r.bytes);return new l0(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return l0.create(0,l8,e)}static createV1(e,t){return l0.create(1,e,t)}static decode(e){let[t,r]=l0.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=l0.inspectBytes(e),r=t.size-t.multihashSize,n=cT(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new lM(t.multihashCode,t.digestSize,i,n);return[0===t.version?l0.createV0(o):l0.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=lj(e.subarray(t));return t+=n,r},n=r(),i=l8;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=l1(e,t),i=l0.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return lY(i).set(r,e),i}}let l1=(e,t)=>{switch(e[0]){case"Q":{let r=t||c7;return[c7.prefix,r.decode(`${c7.prefix}${e}`)]}case c7.prefix:{let r=t||c7;return[c7.prefix,r.decode(e)]}case cZ.prefix:{let r=t||cZ;return[cZ.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},l2=(e,t,r)=>{let{prefix:n}=r;if(n!==c7.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},l5=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},l8=112,l6=18,l3=(e,t,r)=>{let n=lL(e),i=n+lL(t),o=new Uint8Array(i+r.byteLength);return l$(e,o,0),l$(t,o,n),o.set(r,i),o},l4=Symbol.for("@ipld/js-cid/CID"),l7={...B,...P,...z,...S,...U,...k,...T,...D,...N,...I};function l9(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function fe(e=0){return globalThis.Buffer?.allocUnsafe!=null?l9(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function ft(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...O,...L});let fr=ft("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),fn=ft("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=fe((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t});var fi={utf8:fr,"utf-8":fr,hex:l7.base16,latin1:fn,ascii:fn,binary:fn,...l7};function fo(e,t="utf8"){let r=fi[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}let fa=cS,fs=cU,fu=function(e){let t=0;if(fa(e=e.toString().trim())){let r=new Uint8Array(t+4);return e.split(/\./g).forEach(e=>{r[t++]=255&parseInt(e,10)}),r}if(fs(e)){let r;let n=e.split(":",8);for(r=0;r<n.length;r++){let e;fa(n[r])&&(e=fu(n[r]),n[r]=fo(e.slice(0,2),"base16")),null!=e&&++r<8&&n.splice(r,0,fo(e.slice(2,4),"base16"))}if(""===n[0])for(;n.length<8;)n.unshift("0");else if(""===n[n.length-1])for(;n.length<8;)n.push("0");else if(n.length<8){for(r=0;r<n.length&&""!==n[r];r++);let e=[r,1];for(r=9-n.length;r>0;r--)e.push("0");n.splice.apply(n,e)}let i=new Uint8Array(t+16);for(r=0;r<n.length;r++){let e=parseInt(n[r],16);i[t++]=e>>8&255,i[t++]=255&e}return i}throw Error("invalid ip address")},fc=function(e,t=0,r){t=~~t,r=r??e.length-t;let n=new DataView(e.buffer);if(4===r){let n=[];for(let i=0;i<r;i++)n.push(e[t+i]);return n.join(".")}if(16===r){let e=[];for(let i=0;i<r;i+=2)e.push(n.getUint16(t+i).toString(16));return e.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},fl={},ff={};function fh(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:!!n,path:!!i}}function fd(e){if("number"==typeof e){if(null!=ff[e])return ff[e];throw Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=fl[e])return fl[e];throw Error(`no protocol with name: ${e}`)}throw Error(`invalid protocol id type: ${typeof e}`)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[43,8,"ipcidr"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[448,0,"tls"],[449,-1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]].forEach(e=>{let t=fh(...e);ff[t.code]=t,fl[t.name]=t});var fp=128,fb=-128,fy=2147483648;function fg(e,t,r){t=t||[];for(var n=r=r||0;e>=fy;)t[r++]=255&e|fp,e/=128;for(;e&fb;)t[r++]=255&e|fp,e>>>=7;return t[r]=0|e,fg.bytes=r-n+1,t}var fm=128,fw=127;function fv(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw fv.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&fw)<<i:(r&fw)*Math.pow(2,i),i+=7}while(r>=fm);return fv.bytes=o-t,n}var fE=128,fx=16384,fA=2097152,fC=268435456,fS=34359738368,fU=4398046511104,fP=562949953421312,fI=72057594037927940,fk=0x7fffffffffffffff,fT=fg,fD=fv,fN=function(e){return e<fE?1:e<fx?2:e<fA?3:e<fC?4:e<fS?5:e<fU?6:e<fP?7:e<fI?8:e<fk?9:10};let fz=(e,t=0)=>[fD(e,t),fD.bytes],fB=(e,t,r=0)=>(fT(e,t,r),t),fj=e=>fN(e);new Uint8Array(0);let f$=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},fL=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},fO=e=>new TextEncoder().encode(e),fV=e=>new TextDecoder().decode(e),fR=(e,t)=>{let r=t.byteLength,n=fj(e),i=n+fj(r),o=new Uint8Array(i+r);return fB(e,o,0),fB(r,o,n),o.set(t,i),new f_(e,r,t,o)},fM=e=>{let t=fL(e),[r,n]=fz(t),[i,o]=fz(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new f_(r,i,a,t)},fF=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&f$(e.bytes,r.bytes)}};class f_{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var fq=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};class fH{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class fJ{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return fW(this,e)}}class fG{constructor(e){this.decoders=e}or(e){return fW(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let fW=(e,t)=>new fG({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class fK{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new fH(e,t,r),this.decoder=new fJ(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let fQ=({name:e,prefix:t,encode:r,decode:n})=>new fK(e,t,r,n),fZ=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=fq(r,t);return fQ({prefix:e,name:t,encode:n,decode:e=>fL(i(e))})},fX=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},fY=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},f0=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>fQ({prefix:t,name:e,encode:e=>fY(e,n,r),decode:t=>fX(t,n,r,e)}),f1=fZ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),f2=fZ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),f5=f0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),f8=f0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),f6=f0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),f3=f0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),f4=f0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),f7=f0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f9=f0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),he=f0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ht=f0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),hr=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?hs(r,hi(e),t||f1.encoder):hu(r,hi(e),t||f5.encoder)},hn=new WeakMap,hi=e=>{let t=hn.get(e);if(null==t){let t=new Map;return hn.set(e,t),t}return t};class ho{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==hc)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==hl)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ho.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=fR(e,t);return ho.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return ho.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&fF(e.multihash,r.multihash)}toString(e){return hr(this,e)}toJSON(){return{"/":hr(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof ho)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new ho(e,r,n,i||hf(e,r,n.bytes))}if(!0!==t[hh])return null;{let{version:e,multihash:r,code:n}=t,i=fM(r);return ho.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===hc)return new ho(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${hc}) block encoding`);case 1:{let n=hf(e,t,r.bytes);return new ho(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return ho.create(0,hc,e)}static createV1(e,t){return ho.create(1,e,t)}static decode(e){let[t,r]=ho.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=ho.inspectBytes(e),r=t.size-t.multihashSize,n=fL(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new f_(t.multihashCode,t.digestSize,i,n);return[0===t.version?ho.createV0(o):ho.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=fz(e.subarray(t));return t+=n,r},n=r(),i=hc;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=ha(e,t),i=ho.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return hi(i).set(r,e),i}}let ha=(e,t)=>{switch(e[0]){case"Q":{let r=t||f1;return[f1.prefix,r.decode(`${f1.prefix}${e}`)]}case f1.prefix:{let r=t||f1;return[f1.prefix,r.decode(e)]}case f5.prefix:{let r=t||f5;return[f5.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},hs=(e,t,r)=>{let{prefix:n}=r;if(n!==f1.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},hu=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},hc=112,hl=18,hf=(e,t,r)=>{let n=fj(e),i=n+fj(t),o=new Uint8Array(i+r.byteLength);return fB(e,o,0),fB(t,o,n),o.set(r,i),o},hh=Symbol.for("@ipld/js-cid/CID"),hd=fQ({prefix:"\0",name:"identity",encode:e=>fV(e),decode:e=>fO(e)}),hp=f0({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),hb=f0({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),hy=fZ({prefix:"9",name:"base10",alphabet:"0123456789"}),hg=f0({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hm=f0({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),hw=fZ({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hv=fZ({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),hE=f0({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hx=f0({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hA=f0({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),hC=f0({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),hS=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),hU=hS.reduce((e,t,r)=>(e[r]=t,e),[]),hP=hS.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),hI=fQ({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=hU[t],"")},decode:function(e){let t=[];for(let r of e){let e=hP[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),hk=({name:e,code:t,encode:r})=>new hT(e,t,r);class hT{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?fR(this.code,t):t.then(e=>fR(this.code,e))}throw Error("Unknown type, must be binary type")}}let hD=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),hN=hk({name:"sha2-256",code:18,encode:hD("SHA-256")}),hz=hk({name:"sha2-512",code:19,encode:hD("SHA-512")}),hB=0,hj=fL,h$=e=>fR(hB,hj(e)),hL={code:hB,name:"identity",encode:hj,digest:h$},hO="raw",hV=85,hR=e=>fL(e),hM=e=>fL(e),hF=new TextEncoder,h_=new TextDecoder,hq="json",hH=512,hJ=e=>hF.encode(JSON.stringify(e)),hG=e=>JSON.parse(h_.decode(e)),hW={...M,...F,..._,...q,...H,...R,...J,...V,...G,...W};({...K,...Q});var hK=r(8273);function hQ(e,t="utf8"){let r=fi[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?l9(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function hZ(e,t){null==t&&(t=e.reduce((e,t)=>e+t.length,0));let r=fe(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return l9(r)}function hX(e,t){switch(fd(e).code){case 4:case 41:return h5(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return h4(t);case 6:case 273:case 33:case 132:return h6(t).toString();case 421:return dt(t);case 444:case 445:return di(t);case 466:return de(t);default:return fo(t,"base16")}}function hY(e,t){switch(fd(e).code){case 4:case 41:return h2(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return h3(t);case 6:case 273:case 33:case 132:return h8(parseInt(t,10));case 421:return h7(t);case 444:return dr(t);case 445:return dn(t);case 466:return h9(t);default:return hQ(t,"base16")}}let h0=Object.values(hW).map(e=>e.decoder),h1=function(){let e=h0[0].or(h0[1]);return h0.slice(2).forEach(t=>e=e.or(t)),e}();function h2(e){if(!cP(e))throw Error("invalid ip address");return fu(e)}function h5(e){let t=fc(e,0,e.length);if(null==t)throw Error("ipBuff is required");if(!cP(t))throw Error("invalid ip address");return t}function h8(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function h6(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function h3(e){let t=hQ(e),r=Uint8Array.from(hK.encode(t.length));return hZ([r,t],r.length+t.length)}function h4(e){let t=hK.decode(e);if((e=e.slice(hK.decode.bytes)).length!==t)throw Error("inconsistent lengths");return fo(e)}function h7(e){let t;t="Q"===e[0]||"1"===e[0]?fM(f1.decode(`z${e}`)).bytes:ho.parse(e).multihash.bytes;let r=Uint8Array.from(hK.encode(t.length));return hZ([r,t],r.length+t.length)}function h9(e){let t=h1.decode(e),r=Uint8Array.from(hK.encode(t.length));return hZ([r,t],r.length+t.length)}function de(e){let t=hK.decode(e),r=e.slice(hK.decode.bytes);if(r.length!==t)throw Error("inconsistent lengths");return"u"+fo(r,"base64url")}function dt(e){let t=hK.decode(e),r=e.slice(hK.decode.bytes);if(r.length!==t)throw Error("inconsistent lengths");return fo(r,"base58btc")}function dr(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(16!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=f5.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=h8(n);return hZ([r,i],r.length+i.length)}function dn(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(56!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=f5.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=h8(n);return hZ([r,i],r.length+i.length)}function di(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=fo(t,"base32"),i=h6(r);return`${n}:${i}`}function da(e){let t=[],r=e.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){let i=r[n],o=fd(i);if(0===o.size){t.push([i]);continue}if(++n>=r.length)throw dw("invalid address: "+e);if(!0===o.path){t.push([i,dm(r.slice(n).join("/"))]);break}t.push([i,r[n]])}return t}function ds(e){let t=[];return e.map(e=>{let r=dv(e);return t.push(r.name),e.length>1&&null!=e[1]&&t.push(e[1]),null}),dm(t.join("/"))}function du(e){return e.map(e=>{Array.isArray(e)||(e=[e]);let t=dv(e);return e.length>1?[t.code,hY(t.code,e[1])]:[t.code]})}function dc(e){return e.map(e=>{let t=dv(e);return null!=e[1]?[t.code,hX(t.code,e[1])]:[t.code]})}function dl(e){return dy(hZ(e.map(e=>{let t=dv(e),r=Uint8Array.from(hK.encode(t.code));return e.length>1&&null!=e[1]&&(r=hZ([r,e[1]])),r})))}function df(e,t){return e.size>0?e.size/8:0===e.size?0:hK.decode(t)+(hK.decode.bytes??0)}function dh(e){let t=[],r=0;for(;r<e.length;){let n=hK.decode(e,r),i=hK.decode.bytes??0,o=df(fd(n),e.slice(r+i));if(0===o){t.push([n]),r+=i;continue}let a=e.slice(r+i,r+i+o);if((r+=o+i)>e.length)throw dw("Invalid address Uint8Array: "+fo(e,"base16"));t.push([n,a])}return t}function dd(e){return ds(dc(dh(e)))}function dp(e){return dl(du(da(e=dm(e))))}function db(e){return dp(e)}function dy(e){let t=dg(e);if(null!=t)throw t;return Uint8Array.from(e)}function dg(e){try{dh(e)}catch(e){return e}}function dm(e){return"/"+e.trim().split("/").filter(e=>e).join("/")}function dw(e){return Error("Error parsing address: "+e)}function dv(e){return fd(e[0])}var dE=r(2425);function dx(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var dA=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},dC=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let dS=Symbol.for("nodejs.util.inspect.custom"),dU=[fd("dns").code,fd("dns4").code,fd("dns6").code,fd("dnsaddr").code],dP=new Map,dI=Symbol.for("@multiformats/js-multiaddr/multiaddr");function dk(e){return!!e?.[dI]}class dT{constructor(e){if(n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),this[a]=!0,null==e&&(e=""),e instanceof Uint8Array)this.bytes=dy(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw Error(`multiaddr "${e}" must start with a "/"`);this.bytes=db(e)}else if(dk(e))this.bytes=dy(e.bytes);else throw Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return null==dA(this,n,"f")&&dC(this,n,dd(this.bytes),"f"),dA(this,n,"f")}toJSON(){return this.toString()}toOptions(){let e,t,r,n;let i="",o=fd("tcp"),a=fd("udp"),s=fd("ip4"),u=fd("ip6"),c=fd("dns6"),l=fd("ip6zone");for(let[f,h]of this.stringTuples())f===l.code&&(i=`%${h??""}`),dU.includes(f)&&(t=o.name,n=443,r=`${h??""}${i}`,e=f===c.code?6:4),(f===o.code||f===a.code)&&(t=fd(f).name,n=parseInt(h??"")),(f===s.code||f===u.code)&&(t=fd(f).name,r=`${h??""}${i}`,e=f===u.code?6:4);if(null==e||null==t||null==r||null==n)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:r,transport:t,port:n}}protos(){return this.protoCodes().map(e=>Object.assign({},fd(e)))}protoCodes(){let e=[],t=this.bytes,r=0;for(;r<t.length;){let n=hK.decode(t,r),i=hK.decode.bytes??0,o=df(fd(n),t.slice(r+i));r+=o+i,e.push(n)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return null==dA(this,i,"f")&&dC(this,i,dh(this.bytes),"f"),dA(this,i,"f")}stringTuples(){return null==dA(this,o,"f")&&dC(this,o,dc(this.tuples()),"f"),dA(this,o,"f")}encapsulate(e){return e=new dT(e),new dT(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new dT(r.slice(0,n))}decapsulateCode(e){let t=this.tuples();for(let r=t.length-1;r>=0;r--)if(t[r][0]===e)return new dT(dl(t.slice(0,r)));return this}getPeerId(){try{let e=this.stringTuples().filter(e=>e[0]===fl.ipfs.code).pop();if(e?.[1]!=null){let t=e[1];if("Q"===t[0]||"1"===t[0])return fo(f1.decode(`z${t}`),"base58btc");return fo(ho.parse(t).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(e=>{let t=fd(e[0]);return!0===t.path})[0][1],null==e&&(e=null)}catch{e=null}return e}equals(e){return dx(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(e=>e.resolvable);if(null==t)return[this];let r=dP.get(t.name);if(null==r)throw dE(Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this,e)).map(e=>new dT(e))}nodeAddress(){let e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let t=(e??this).protos();return 2===t.length&&(4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code)}[(n=new WeakMap,i=new WeakMap,o=new WeakMap,a=dI,dS)](){return`Multiaddr(${dd(this.bytes)})`}}function dD(e){return new dT(e)}var dN=r(5448);let dz=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;function dB(e="",t="ms"){var r,n=null;return(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2")).replace(dz,function(e,i,o){if(o)o=o.toLowerCase();else if(r){for(var a in dB)if(dB[a]<r){o=a;break}}else o=t;(o=Object.prototype.hasOwnProperty.call(dB,o)?dB[o]:Object.prototype.hasOwnProperty.call(dB,o.replace(/s$/,""))?dB[o.replace(/s$/,"")]:null)&&(n=(n||0)+Math.abs(parseFloat(i,10))*o,r=o)}),n&&n/(dB[t]||1)*("-"===e[0]?-1:1)}dB.year=dB.yr=dB.y=315576e5,dB.month=dB.b=26298e5,dB.week=dB.wk=dB.w=6048e5,dB.day=dB.d=864e5,dB.hour=dB.hr=dB.h=36e5,dB.minute=dB.min=dB.m=6e4,dB.second=dB.sec=dB.s=1e3,dB.millisecond=dB.millisec=dB.ms=1,dB["\xb5s"]=dB["μs"]=dB.us=dB.microsecond=.001,dB.nanosecond=dB.ns=1/1e6;var dj=dB,d$=r(1464),dL=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};new Uint8Array(0);let dO=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class dV{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class dR{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return dF(this,e)}}class dM{constructor(e){this.decoders=e}or(e){return dF(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let dF=(e,t)=>new dM({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class d_{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new dV(e,t,r),this.decoder=new dR(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let dq=({name:e,prefix:t,encode:r,decode:n})=>new d_(e,t,r,n),dH=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=dL(r,t);return dq({prefix:e,name:t,encode:n,decode:e=>dO(i(e))})},dJ=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},dG=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},dW=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>dq({prefix:t,name:e,encode:e=>dG(e,n,r),decode:t=>dJ(t,n,r,e)}),dK=dH({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});dH({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let dQ=dW({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});dW({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dW({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dW({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dW({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dW({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dW({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dW({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dW({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let dZ=dW({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});function dX(e){let t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}function dY(e){let t=dX(`${e}:trace`);return d$.enabled(`${e}:trace`)&&null!=d$.names.map(e=>e.toString()).find(e=>e.includes(":trace"))&&(t=d$(`${e}:trace`)),Object.assign(d$(e),{error:d$(`${e}:error`),trace:t})}dW({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dW({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dW({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),d$.formatters.b=e=>null==e?"undefined":dK.baseEncode(e),d$.formatters.t=e=>null==e?"undefined":dQ.baseEncode(e),d$.formatters.m=e=>null==e?"undefined":dZ.baseEncode(e),d$.formatters.p=e=>null==e?"undefined":e.toString(),d$.formatters.c=e=>null==e?"undefined":e.toString(),d$.formatters.k=e=>null==e?"undefined":e.toString(),d$.formatters.a=e=>null==e?"undefined":e.toString();var d0=r(7370),d1=r(7430);function d2(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function d5(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}function d8(e){return new TextEncoder().encode(e)}function d6(e){return new TextDecoder().decode(e)}new Uint8Array(0);var d3=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};class d4{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class d7{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return pe(this,e)}}class d9{decoders;constructor(e){this.decoders=e}or(e){return pe(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function pe(e,t){return new d9({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class pt{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new d4(e,t,r),this.decoder=new d7(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function pr({name:e,prefix:t,encode:r,decode:n}){return new pt(e,t,r,n)}function pn({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=d3(r,e);return pr({prefix:t,name:e,encode:n,decode:e=>d5(i(e))})}function pi(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,u=0;for(let c=0;c<i;++c){let i=t[e[c]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[u++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function po(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function pa(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function ps({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=pa(n);return pr({prefix:t,name:e,encode:e=>po(e,n,r),decode:t=>pi(t,i,r,e)})}let pu=pn({prefix:"9",name:"base10",alphabet:"0123456789"}),pc=ps({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pl=ps({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),pf=ps({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ph=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),pd=ph.reduce((e,t,r)=>(e[r]=t,e),[]),pp=ph.reduce((e,t,r)=>{let n=t.codePointAt(0);if(null==n)throw Error(`Invalid character: ${t}`);return e[n]=r,e},[]),pb=pr({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=pd[t],"")},decode:function(e){let t=[];for(let r of e){let e=r.codePointAt(0);if(null==e)throw Error(`Invalid character: ${r}`);let n=pp[e];if(null==n)throw Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}}),py=ps({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pg=ps({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pm=ps({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pw=ps({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pv=ps({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pE=ps({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),px=ps({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pA=ps({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pC=ps({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),pS=pn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pU=pn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),pP=pn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pI=pn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),pk=ps({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pT=ps({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pD=ps({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pN=ps({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pz=ps({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),pB=pr({prefix:"\0",name:"identity",encode:e=>d6(e),decode:e=>d8(e)}),pj=new TextEncoder,p$=new TextDecoder,pL="json",pO=512;function pV(e){return pj.encode(JSON.stringify(e))}function pR(e){return JSON.parse(p$.decode(e))}let pM="raw",pF=85;function p_(e){return d5(e)}function pq(e){return d5(e)}var pH=128,pJ=-128,pG=2147483648;function pW(e,t,r){t=t||[];for(var n=r=r||0;e>=pG;)t[r++]=255&e|pH,e/=128;for(;e&pJ;)t[r++]=255&e|pH,e>>>=7;return t[r]=0|e,pW.bytes=r-n+1,t}var pK=128,pQ=127;function pZ(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw pZ.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&pQ)<<i:(r&pQ)*Math.pow(2,i),i+=7}while(r>=pK);return pZ.bytes=o-t,n}var pX=128,pY=16384,p0=2097152,p1=268435456,p2=34359738368,p5=4398046511104,p8=562949953421312,p6=72057594037927940,p3=0x7fffffffffffffff,p4=pW,p7=pZ,p9=function(e){return e<pX?1:e<pY?2:e<p0?3:e<p1?4:e<p2?5:e<p5?6:e<p8?7:e<p6?8:e<p3?9:10};function be(e,t=0){return[p7(e,t),p7.bytes]}function bt(e,t,r=0){return p4(e,t,r),t}function br(e){return p9(e)}function bn(e,t){let r=t.byteLength,n=br(e),i=n+br(r),o=new Uint8Array(i+r);return bt(e,o,0),bt(r,o,n),o.set(t,i),new ba(e,r,t,o)}function bi(e){let t=d5(e),[r,n]=be(t),[i,o]=be(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new ba(r,i,a,t)}function bo(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&d2(e.bytes,r.bytes)}}class ba{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let bs=0,bu=d5;function bc(e,t){if(t?.truncate!=null&&t.truncate!==e.byteLength){if(t.truncate<0||t.truncate>e.byteLength)throw Error(`Invalid truncate option, must be less than or equal to ${e.byteLength}`);e=e.subarray(0,t.truncate)}return bn(bs,bu(e))}let bl={code:0,name:"identity",encode:bu,digest:bc},bf=20;function bh({name:e,code:t,encode:r,minDigestLength:n,maxDigestLength:i}){return new bd(e,t,r,n,i)}class bd{name;code;encode;minDigestLength;maxDigestLength;constructor(e,t,r,n,i){this.name=e,this.code=t,this.encode=r,this.minDigestLength=n??bf,this.maxDigestLength=i}digest(e,t){if(t?.truncate!=null){if(t.truncate<this.minDigestLength)throw Error(`Invalid truncate option, must be greater than or equal to ${this.minDigestLength}`);if(null!=this.maxDigestLength&&t.truncate>this.maxDigestLength)throw Error(`Invalid truncate option, must be less than or equal to ${this.maxDigestLength}`)}if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?bp(r,this.code,t?.truncate):r.then(e=>bp(e,this.code,t?.truncate))}throw Error("Unknown type, must be binary type")}}function bp(e,t,r){if(null!=r&&r!==e.byteLength){if(r>e.byteLength)throw Error(`Invalid truncate option, must be less than or equal to ${e.byteLength}`);e=e.subarray(0,r)}return bn(t,e)}function bb(e){return async t=>new Uint8Array(await crypto.subtle.digest(e,t))}let by=bh({name:"sha2-256",code:18,encode:bb("SHA-256")}),bg=bh({name:"sha2-512",code:19,encode:bb("SHA-512")});function bm(e,t){let{bytes:r,version:n}=e;return 0===n?bA(r,bv(e),t??pP.encoder):bC(r,bv(e),t??py.encoder)}let bw=new WeakMap;function bv(e){let t=bw.get(e);if(null==t){let t=new Map;return bw.set(e,t),t}return t}class bE{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==bS)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==bU)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return bE.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=bn(e,t);return bE.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return bE.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&bo(e.multihash,r.multihash)}toString(e){return bm(this,e)}toJSON(){return{"/":bm(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof bE)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new bE(e,r,n,i??bP(e,r,n.bytes))}if(!0!==t[bI])return null;{let{version:e,multihash:r,code:n}=t,i=bi(r);return bE.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===bS)return new bE(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${bS}) block encoding`);case 1:{let n=bP(e,t,r.bytes);return new bE(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return bE.create(0,bS,e)}static createV1(e,t){return bE.create(1,e,t)}static decode(e){let[t,r]=bE.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=bE.inspectBytes(e),r=t.size-t.multihashSize,n=d5(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new ba(t.multihashCode,t.digestSize,i,n);return[0===t.version?bE.createV0(o):bE.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=be(e.subarray(t));return t+=n,r},n=r(),i=bS;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=bx(e,t),i=bE.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return bv(i).set(r,e),i}}function bx(e,t){switch(e[0]){case"Q":{let r=t??pP;return[pP.prefix,r.decode(`${pP.prefix}${e}`)]}case pP.prefix:{let r=t??pP;return[pP.prefix,r.decode(e)]}case py.prefix:{let r=t??py;return[py.prefix,r.decode(e)]}case pS.prefix:{let r=t??pS;return[pS.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function bA(e,t,r){let{prefix:n}=r;if(n!==pP.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function bC(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let bS=112,bU=18;function bP(e,t,r){let n=br(e),i=n+br(t),o=new Uint8Array(i+r.byteLength);return bt(e,o,0),bt(t,o,n),o.set(r,i),o}let bI=Symbol.for("@ipld/js-cid/CID"),bk={...eu,...et,...es,...Y,...ee,...en,...ei,...eo,...ea,...er};function bT(e=0){return new Uint8Array(e)}function bD(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...eh,...ef});let bN=bD("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),bz=bD("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=bT((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t});var bB={utf8:bN,"utf-8":bN,hex:bk.base16,latin1:bz,ascii:bz,binary:bz,...bk};function bj(e,t="utf8"){let r=bB[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}function b$(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function bL(e,t="utf8"){let r=bB[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}let bO=128,bV=16384,bR=2097152,bM=268435456,bF=34359738368,b_=4398046511104,bq=562949953421312,bH=128,bJ=127;function bG(e){if(e<bO)return 1;if(e<bV)return 2;if(e<bR)return 3;if(e<bM)return 4;if(e<bF)return 5;if(e<b_)return 6;if(e<bq)return 7;if(null!=Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw RangeError("Could not encode varint");return 8}function bW(e,t,r=0){switch(bG(e)){case 8:t[r++]=255&e|bH,e/=128;case 7:t[r++]=255&e|bH,e/=128;case 6:t[r++]=255&e|bH,e/=128;case 5:t[r++]=255&e|bH,e/=128;case 4:t[r++]=255&e|bH,e>>>=7;case 3:t[r++]=255&e|bH,e>>>=7;case 2:t[r++]=255&e|bH,e>>>=7;case 1:t[r++]=255&e,e>>>=7;break;default:throw Error("unreachable")}return t}function bK(e,t){let r,n=e[t];if(r=0+(n&bJ),n<bH||(r+=((n=e[t+1])&bJ)<<7,n<bH)||(r+=((n=e[t+2])&bJ)<<14,n<bH)||(r+=((n=e[t+3])&bJ)<<21,n<bH)||(r+=((n=e[t+4])&bJ)*bM,n<bH)||(r+=((n=e[t+5])&bJ)*bF,n<bH)||(r+=((n=e[t+6])&bJ)*b_,n<bH)||(r+=((n=e[t+7])&bJ)*bq,n<bH))return r;throw RangeError("Could not decode varint")}function bQ(e,t){let r,n=e.get(t);if(r=0+(n&bJ),n<bH||(r+=((n=e.get(t+1))&bJ)<<7,n<bH)||(r+=((n=e.get(t+2))&bJ)<<14,n<bH)||(r+=((n=e.get(t+3))&bJ)<<21,n<bH)||(r+=((n=e.get(t+4))&bJ)*bM,n<bH)||(r+=((n=e.get(t+5))&bJ)*bF,n<bH)||(r+=((n=e.get(t+6))&bJ)*b_,n<bH)||(r+=((n=e.get(t+7))&bJ)*bq,n<bH))return r;throw RangeError("Could not decode varint")}function bZ(e,t=0){return e instanceof Uint8Array?bK(e,t):bQ(e,t)}function bX(e){return e}function bY(e,t){null==t&&(t=e.reduce((e,t)=>e+t.length,0));let r=bT(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return bX(r)}class b0 extends Error{static name="InvalidMultiaddrError";name="InvalidMultiaddrError"}class b1 extends Error{static name="ValidationError";name="ValidationError"}class b2 extends Error{static name="InvalidParametersError";name="InvalidParametersError"}class b5 extends Error{static name="UnknownProtocolError";name="UnknownProtocolError"}let b8=4,b6=6,b3=273,b4=33,b7=41,b9=42,ye=43,yt=53,yr=54,yn=55,yi=56,yo=132,ya=301,ys=302,yu=400,yc=421,yl=444,yf=445,yh=446,yd=447,yp=448,yb=449,yy=454,yg=460,ym=461,yw=465,yv=466,yE=480,yx=481,yA=443,yC=477,yS=478,yU=479,yP=277,yI=275,yk=276,yT=280,yD=281,yN=290,yz=777;function yB(e){return t=>bj(t,e)}function yj(e){return t=>bL(t,e)}function y$(e){return new DataView(e.buffer).getUint16(e.byteOffset).toString()}function yL(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,"string"==typeof e?parseInt(e):e),new Uint8Array(t)}function yO(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(16!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=bL(t[0],"base32"),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=yL(n);return bY([r,i],r.length+i.length)}function yV(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(56!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=py.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=yL(n);return bY([r,i],r.length+i.length)}function yR(e){let t=e.subarray(0,e.length-2),r=e.subarray(e.length-2),n=bj(t,"base32"),i=y$(r);return`${n}:${i}`}let yM=function(e){e=e.toString().trim();let t=new Uint8Array(4);return e.split(/\./g).forEach((e,r)=>{let n=parseInt(e,10);if(isNaN(n)||n<0||n>255)throw new b0("Invalid byte value in IP address");t[r]=n}),t},yF=function(e){let t,r=0,n=(e=e.toString().trim()).split(":",8);for(t=0;t<n.length;t++){let e;cS(n[t])&&(e=yM(n[t]),n[t]=bj(e.subarray(0,2),"base16")),null!=e&&++t<8&&n.splice(t,0,bj(e.subarray(2,4),"base16"))}if(""===n[0])for(;n.length<8;)n.unshift("0");else if(""===n[n.length-1])for(;n.length<8;)n.push("0");else if(n.length<8){for(t=0;t<n.length&&""!==n[t];t++);let e=[t,1];for(t=9-n.length;t>0;t--)e.push("0");n.splice.apply(n,e)}let i=new Uint8Array(r+16);for(t=0;t<n.length;t++){""===n[t]&&(n[t]="0");let e=parseInt(n[t],16);if(isNaN(e)||e<0||e>65535)throw new b0("Invalid byte value in IP address");i[r++]=e>>8&255,i[r++]=255&e}return i},y_=function(e){if(4!==e.byteLength)throw new b0("IPv4 address was incorrect length");let t=[];for(let r=0;r<e.byteLength;r++)t.push(e[r]);return t.join(".")},yq=function(e){if(16!==e.byteLength)throw new b0("IPv6 address was incorrect length");let t=[];for(let r=0;r<e.byteLength;r+=2){let n=e[r],i=e[r+1],o=`${n.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`;t.push(o)}let r=t.join(":");try{let e=new URL(`http://[${r}]`);return e.hostname.substring(1,e.hostname.length-1)}catch{throw new b0(`Invalid IPv6 address "${r}"`)}};function yH(e){try{let t=new URL(`http://[${e}]`);return t.hostname.substring(1,t.hostname.length-1)}catch{throw new b0(`Invalid IPv6 address "${e}"`)}}let yJ=Object.values(bk).map(e=>e.decoder),yG=function(){let e=yJ[0].or(yJ[1]);return yJ.slice(2).forEach(t=>e=e.or(t)),e}();function yW(e){return yG.decode(e)}function yK(e){return t=>e.encoder.encode(t)}let yQ=function(...e){return t=>{for(let r of e)r(t)}}(function(e){if(parseInt(e).toString()!==e)throw new b1("Value must be an integer")},function(e){if(e<0)throw new b1("Value must be a positive integer, or zero")},function(e){return e=>{if(e>65535)throw new b1("Value must be smaller than or equal to "+65535)}}(65535)),yZ=-1;class yX{protocolsByCode=new Map;protocolsByName=new Map;getProtocol(e){let t;if(null==(t="string"==typeof e?this.protocolsByName.get(e):this.protocolsByCode.get(e)))throw new b5(`Protocol ${e} was unknown`);return t}addProtocol(e){this.protocolsByCode.set(e.code,e),this.protocolsByName.set(e.name,e),e.aliases?.forEach(t=>{this.protocolsByName.set(t,e)})}removeProtocol(e){let t=this.protocolsByCode.get(e);null!=t&&(this.protocolsByCode.delete(t.code),this.protocolsByName.delete(t.name),t.aliases?.forEach(e=>{this.protocolsByName.delete(e)}))}}let yY=new yX;function y0(e){let t=[],r=0;for(;r<e.length;){let n=bZ(e,r),i=yY.getProtocol(n),o=bG(n),a=y8(i,e,r+o),s=0;a>0&&i.size===yZ&&(s=bG(a));let u=o+s+a,c={code:n,name:i.name,bytes:e.subarray(r,r+u)};if(a>0){let t=r+o+s,n=e.subarray(t,t+a);c.value=i.bytesToValue?.(n)??bj(n)}t.push(c),r+=u}return t}function y1(e){let t=0,r=[];for(let n of e){if(null==n.bytes){let e;let t=yY.getProtocol(n.code),r=bG(n.code),i=0,o=0;null!=n.value&&(i=(e=t.valueToBytes?.(n.value)??bL(n.value)).byteLength,t.size===yZ&&(o=bG(i)));let a=new Uint8Array(r+o+i),s=0;bW(n.code,a,s),s+=r,null!=e&&(t.size===yZ&&(bW(i,a,s),s+=o),a.set(e,s)),n.bytes=a}r.push(n.bytes),t+=n.bytes.byteLength}return bY(r,t)}function y2(e){if("/"!==e.charAt(0))throw new b0('String multiaddr must start with "/"');let t=[],r="protocol",n="",i="";for(let o=1;o<e.length;o++){let a=e.charAt(o);"/"!==a&&("protocol"===r?i+=e.charAt(o):n+=e.charAt(o));let s=o===e.length-1;if("/"===a||s){let e=yY.getProtocol(i);if("protocol"===r){if(null==e.size||0===e.size){t.push({code:e.code,name:e.name}),n="",i="",r="protocol";continue}if(s)throw new b0(`Component ${i} was missing value`);r="value"}else if("value"===r){let o={code:e.code,name:e.name};if(null!=e.size&&0!==e.size){if(""===n)throw new b0(`Component ${i} was missing value`);o.value=e.stringToValue?.(n)??n}t.push(o),n="",i="",r="protocol"}}}if(""!==i&&""!==n)throw new b0("Incomplete multiaddr");return t}function y5(e){return`/${e.flatMap(e=>{if(null==e.value)return e.name;let t=yY.getProtocol(e.code);if(null==t)throw new b0(`Unknown protocol code ${e.code}`);return[e.name,t.valueToString?.(e.value)??e.value]}).join("/")}`}function y8(e,t,r){return null==e.size||0===e.size?0:e.size>0?e.size/8:bZ(t,r)}[{code:b8,name:"ip4",size:32,valueToBytes:yM,bytesToValue:y_,validate:e=>{if(!cS(e))throw new b1(`Invalid IPv4 address "${e}"`)}},{code:b6,name:"tcp",size:16,valueToBytes:yL,bytesToValue:y$,validate:yQ},{code:b3,name:"udp",size:16,valueToBytes:yL,bytesToValue:y$,validate:yQ},{code:b4,name:"dccp",size:16,valueToBytes:yL,bytesToValue:y$,validate:yQ},{code:b7,name:"ip6",size:128,valueToBytes:yF,bytesToValue:yq,stringToValue:yH,validate:e=>{if(!cU(e))throw new b1(`Invalid IPv6 address "${e}"`)}},{code:b9,name:"ip6zone",size:yZ},{code:ye,name:"ipcidr",size:8,bytesToValue:yB("base10"),valueToBytes:yj("base10")},{code:yt,name:"dns",size:yZ,resolvable:!0},{code:yr,name:"dns4",size:yZ,resolvable:!0},{code:yn,name:"dns6",size:yZ,resolvable:!0},{code:yi,name:"dnsaddr",size:yZ,resolvable:!0},{code:yo,name:"sctp",size:16,valueToBytes:yL,bytesToValue:y$,validate:yQ},{code:ya,name:"udt"},{code:ys,name:"utp"},{code:yu,name:"unix",size:yZ,path:!0,stringToValue:e=>decodeURIComponent(e),valueToString:e=>encodeURIComponent(e)},{code:yc,name:"p2p",aliases:["ipfs"],size:yZ,bytesToValue:yB("base58btc"),valueToBytes:e=>e.startsWith("Q")||e.startsWith("1")?yj("base58btc")(e):bE.parse(e).multihash.bytes},{code:yl,name:"onion",size:96,bytesToValue:yR,valueToBytes:yO},{code:yf,name:"onion3",size:296,bytesToValue:yR,valueToBytes:yV},{code:yh,name:"garlic64",size:yZ},{code:yd,name:"garlic32",size:yZ},{code:yp,name:"tls"},{code:yb,name:"sni",size:yZ},{code:yy,name:"noise"},{code:yg,name:"quic"},{code:ym,name:"quic-v1"},{code:yw,name:"webtransport"},{code:yv,name:"certhash",size:yZ,bytesToValue:yK(pD),valueToBytes:yW},{code:yE,name:"http"},{code:yx,name:"http-path",size:yZ,stringToValue:e=>`/${decodeURIComponent(e)}`,valueToString:e=>encodeURIComponent(e.substring(1))},{code:yA,name:"https"},{code:yC,name:"ws"},{code:yS,name:"wss"},{code:yU,name:"p2p-websocket-star"},{code:yP,name:"p2p-stardust"},{code:yI,name:"p2p-webrtc-star"},{code:yk,name:"p2p-webrtc-direct"},{code:yT,name:"webrtc-direct"},{code:yD,name:"webrtc"},{code:yN,name:"p2p-circuit"},{code:yz,name:"memory",size:yZ}].forEach(e=>{yY.addProtocol(e)});let y6=Symbol.for("nodejs.util.inspect.custom"),y3=Symbol.for("@multiformats/multiaddr"),y4=[yt,yr,yn,yi];class y7 extends Error{constructor(e="No available resolver"){super(e),this.name="NoAvailableResolverError"}}function y9(e){if(null==e&&(e="/"),gn(e))return e.getComponents();if(e instanceof Uint8Array)return y0(e);if("string"==typeof e)return""===(e=e.replace(/\/(\/)+/,"/").replace(/(\/)+$/,""))&&(e="/"),y2(e);if(Array.isArray(e))return e;throw new b0("Must be a string, Uint8Array, Component[], or another Multiaddr")}class ge{[y3]=!0;#e;#t;#r;constructor(e="/",t={}){this.#e=y9(e),!1!==t.validate&&gt(this)}get bytes(){return null==this.#r&&(this.#r=y1(this.#e)),this.#r}toString(){return null==this.#t&&(this.#t=y5(this.#e)),this.#t}toJSON(){return this.toString()}toOptions(){let e,t,r,n;let i="";for(let{code:o,name:a,value:s}of this.#e)o===b9&&(i=`%${s??""}`),y4.includes(o)&&(t="tcp",n=443,r=`${s??""}${i}`,e=o===yn?6:4),(o===b6||o===b3)&&(t="tcp"===a?"tcp":"udp",n=parseInt(s??"")),(o===b8||o===b7)&&(t="tcp",r=`${s??""}${i}`,e=o===b7?6:4);if(null==e||null==t||null==r||null==n)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:r,transport:t,port:n}}getComponents(){return[...this.#e]}protos(){return this.#e.map(({code:e,value:t})=>{let r=yY.getProtocol(e);return{code:e,size:r.size??0,name:r.name,resolvable:!!r.resolvable,path:!!r.path}})}protoCodes(){return this.#e.map(({code:e})=>e)}protoNames(){return this.#e.map(({name:e})=>e)}tuples(){return this.#e.map(({code:e,value:t})=>{if(null==t)return[e];let r=yY.getProtocol(e),n=[e];return null!=t&&n.push(r.valueToBytes?.(t)??bL(t)),n})}stringTuples(){return this.#e.map(({code:e,value:t})=>null==t?[e]:[e,t])}encapsulate(e){let t=new ge(e);return new ge([...this.#e,...t.getComponents()],{validate:!1})}decapsulate(e){let t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw new b2(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new ge(r.slice(0,n),{validate:!1})}decapsulateCode(e){let t;for(let r=this.#e.length-1;r>-1;r--)if(this.#e[r].code===e){t=r;break}return new ge(this.#e.slice(0,t),{validate:!1})}getPeerId(){try{let e=[];this.#e.forEach(({code:t,value:r})=>{t===yc&&e.push([t,r]),t===yN&&(e=[])});let t=e.pop();if(t?.[1]!=null){let e=t[1];if("Q"===e[0]||"1"===e[0])return bj(pP.decode(`z${e}`),"base58btc");return bj(bE.parse(e).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){for(let e of this.#e)if(yY.getProtocol(e.code).path)return e.value??null;return null}equals(e){return b$(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(e=>e.resolvable);if(null==t)return[this];let r=gr.get(t.name);if(null==r)throw new y7(`no available resolver for ${t.name}`);return(await r(this,e)).map(e=>gi(e))}nodeAddress(){let e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(){return 2===this.#e.length&&(this.#e[0].code===b8||this.#e[0].code===b7)&&(this.#e[1].code===b6||this.#e[1].code===b3)}[y6](){return`Multiaddr(${this.toString()})`}}function gt(e){e.getComponents().forEach(e=>{let t=yY.getProtocol(e.code);null!=e.value&&t.validate?.(e.value)})}parseInt("0xFFFF",16),new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);let gr=new Map;function gn(e){return!!e?.[y3]}function gi(e){return new ge(e)}function go(e){let t=yY.getProtocol(e);return{code:t.code,size:t.size??0,name:t.name,resolvable:!!t.resolvable,path:!!t.path}}function ga(e){let t;try{t=go("sni").code}catch(e){return null}for(let[r,n]of e)if(r===t&&void 0!==n)return n;return null}function gs(e){return e.some(([e,t])=>e===go("tls").code)}function gu(e,t,r){let n=gc[go(e).name];if(void 0===n)throw Error(`Can't interpret protocol ${go(e).name}`);let i=n(t,r);return e===go("ip6").code?`[${i}]`:i}let gc={ip4:(e,t)=>e,ip6:(e,t)=>0===t.length?e:`[${e}]`,tcp:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`tcp://${gu(r[0],r[1]??"",t)}:${e}`},udp:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`udp://${gu(r[0],r[1]??"",t)}:${e}`},dnsaddr:(e,t)=>e,dns4:(e,t)=>e,dns6:(e,t)=>e,dns:(e,t)=>e,ipfs:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${gu(r[0],r[1]??"",t)}/ipfs/${e}`},p2p:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${gu(r[0],r[1]??"",t)}/p2p/${e}`},http:(e,t)=>{let r=gs(t),n=ga(t);if(r&&null!==n)return`https://${n}`;let i=r?"https://":"http://",o=t.pop();if(void 0===o)throw Error("Unexpected end of multiaddr");let a=gu(o[0],o[1]??"",t);return a=a.replace("tcp://",""),`${i}${a}`},tls:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return gu(r[0],r[1]??"",t)},sni:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return gu(r[0],r[1]??"",t)},https:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");let n=gu(r[0],r[1]??"",t);return n=n.replace("tcp://",""),`https://${n}`},ws:(e,t)=>{let r=gs(t),n=ga(t);if(r&&null!==n)return`wss://${n}`;let i=r?"wss://":"ws://",o=t.pop();if(void 0===o)throw Error("Unexpected end of multiaddr");let a=gu(o[0],o[1]??"",t);return a=a.replace("tcp://",""),`${i}${a}`},wss:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");let n=gu(r[0],r[1]??"",t);return n=n.replace("tcp://",""),`wss://${n}`},"p2p-websocket-star":(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${gu(r[0],r[1]??"",t)}/p2p-websocket-star`},"p2p-webrtc-star":(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${gu(r[0],r[1]??"",t)}/p2p-webrtc-star`},"p2p-webrtc-direct":(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${gu(r[0],r[1]??"",t)}/p2p-webrtc-direct`}};function gl(e,t){let r=gi(e).stringTuples(),n=r.pop();if(void 0===n)throw Error("Unexpected end of multiaddr");let i=go(n[0]),o=gc[i.name];if(null==o)throw Error(`No interpreter found for ${i.name}`);let a=o(n[1]??"",r);return t?.assumeHttp!==!1&&n[0]===go("tcp").code&&(a=a.replace("tcp://","http://"),("443"===n[1]||"80"===n[1])&&("443"===n[1]&&(a=a.replace("http://","https://")),a=a.substring(0,a.lastIndexOf(":")))),a}function gf(e){try{e=gl(dD(e))}catch(e){}return e=e.toString()}var gh=()=>{};let gd=dY("ipfs-http-client:lib:error-handler"),gp=d1.bind({ignoreUndefined:!0}),gb=dN.isBrowser||dN.isWebWorker?location.protocol:"http",gy=dN.isBrowser||dN.isWebWorker?location.hostname:"localhost",gg=dN.isBrowser||dN.isWebWorker?location.port:"5001",gm=(e={})=>{let t,r;let n={};if("string"==typeof e||dk(e))t=new URL(gf(e));else if(e instanceof URL)t=e;else if("string"==typeof e.url||dk(e.url))t=new URL(gf(e.url)),n=e;else if(e.url instanceof URL)t=e.url,n=e;else{let r=((n=e||{}).protocol||gb).replace(":",""),i=(n.host||gy).split(":")[0],o=n.port||gg;t=new URL(`${r}://${i}:${o}`)}if(n.apiPath?t.pathname=n.apiPath:("/"===t.pathname||void 0===t.pathname)&&(t.pathname="api/v0"),dN.isNode){let e=gh(t);r=n.agent||new e({keepAlive:!0,maxSockets:6})}return{...n,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:r}},gw=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){let r=await e.json();gd(r),t=r.Message||r.message}else t=await e.text()}catch(e){gd("Failed to parse error response",e),t=e.message}let r=new d0.HTTPError(e);throw t&&(t.includes("deadline has elapsed")&&(r=new d0.TimeoutError),t&&t.includes("context deadline exceeded")&&(r=new d0.TimeoutError)),t&&t.includes("request timed out")&&(r=new d0.TimeoutError),t&&(r.message=t),r},gv=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,gE=e=>e.replace(gv,function(e){return"-"+e.toLowerCase()}),gx=e=>"string"==typeof e?dj(e):e;class gA extends d0{constructor(e={}){let t=gm(e);super({timeout:gx(t.timeout||0)||void 0,headers:t.headers,base:`${t.url}`,handleError:gw,transformSearchParams:e=>{let t=new URLSearchParams;for(let[r,n]of e)"undefined"!==n&&"null"!==n&&"signal"!==r&&t.append(gE(r),n),"timeout"!==r||isNaN(n)||t.append(gE(r),n);return t},agent:t.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;let r=this.fetch;this.fetch=(e,n={})=>("string"!=typeof e||e.startsWith("/")||(e=`${t.url}/${e}`),r.call(this,e,gp(n,{method:"POST"})))}}d0.HTTPError;let gC=e=>t=>e(new gA(t),t);function gS(e){return null==e?void 0:"string"==typeof e?e:e.toString(8).padStart(4,"0")}function gU(e){let t;if(null!=e){if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw dE(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}function gP({arg:e,searchParams:t,hashAlg:r,mtime:n,mode:i,...o}={}){t&&(o={...o,...t}),r&&(o.hash=r),null!=n&&(n=gU(n),o.mtime=n.secs,o.mtimeNsecs=n.nsecs),null!=i&&(o.mode=gS(i)),o.timeout&&!isNaN(o.timeout)&&(o.timeout=`${o.timeout}ms`),null==e?e=[]:Array.isArray(e)||(e=[e]);let a=new URLSearchParams(o);return e.forEach(e=>a.append("arg",e)),a}let gI=gC(e=>async function(t={}){return((await (await e.post("bitswap/wantlist",{signal:t.signal,searchParams:gP(t),headers:t.headers})).json()).Keys||[]).map(e=>cs.parse(e["/"]))}),gk=gC(e=>async function(t,r={}){return((await (await e.post("bitswap/wantlist",{signal:r.signal,searchParams:gP({...r,peer:t.toString()}),headers:r.headers})).json()).Keys||[]).map(e=>cs.parse(e["/"]))}),gT=Symbol.for("@libp2p/peer-id");var gD=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};new Uint8Array(0);let gN=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},gz=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},gB=e=>new TextEncoder().encode(e),gj=e=>new TextDecoder().decode(e);class g${constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gL{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return gV(this,e)}}class gO{constructor(e){this.decoders=e}or(e){return gV(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let gV=(e,t)=>new gO({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class gR{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new g$(e,t,r),this.decoder=new gL(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let gM=({name:e,prefix:t,encode:r,decode:n})=>new gR(e,t,r,n),gF=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=gD(r,t);return gM({prefix:e,name:t,encode:n,decode:e=>gz(i(e))})},g_=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},gq=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},gH=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>gM({prefix:t,name:e,encode:e=>gq(e,n,r),decode:t=>g_(t,n,r,e)}),gJ=gF({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gG=gF({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),gW=gM({prefix:"\0",name:"identity",encode:e=>gj(e),decode:e=>gB(e)}),gK=gH({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),gQ=gH({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gZ=gF({prefix:"9",name:"base10",alphabet:"0123456789"}),gX=gH({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gY=gH({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),g0=gH({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),g1=gH({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),g2=gH({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),g5=gH({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),g8=gH({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),g6=gH({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),g3=gH({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),g4=gH({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),g7=gH({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),g9=gF({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),me=gF({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),mt=gH({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mr=gH({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mn=gH({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mi=gH({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),mo=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ma=mo.reduce((e,t,r)=>(e[r]=t,e),[]),ms=mo.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),mu=gM({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ma[t],"")},decode:function(e){let t=[];for(let r of e){let e=ms[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var mc=128,ml=-128,mf=2147483648;function mh(e,t,r){t=t||[];for(var n=r=r||0;e>=mf;)t[r++]=255&e|mc,e/=128;for(;e&ml;)t[r++]=255&e|mc,e>>>=7;return t[r]=0|e,mh.bytes=r-n+1,t}var md=128,mp=127;function mb(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw mb.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&mp)<<i:(r&mp)*Math.pow(2,i),i+=7}while(r>=md);return mb.bytes=o-t,n}var my=128,mg=16384,mm=2097152,mw=268435456,mv=34359738368,mE=4398046511104,mx=562949953421312,mA=72057594037927940,mC=0x7fffffffffffffff,mS=mh,mU=mb,mP=function(e){return e<my?1:e<mg?2:e<mm?3:e<mw?4:e<mv?5:e<mE?6:e<mx?7:e<mA?8:e<mC?9:10};let mI=(e,t=0)=>[mU(e,t),mU.bytes],mk=(e,t,r=0)=>(mS(e,t,r),t),mT=e=>mP(e),mD=(e,t)=>{let r=t.byteLength,n=mT(e),i=n+mT(r),o=new Uint8Array(i+r);return mk(e,o,0),mk(r,o,n),o.set(t,i),new mB(e,r,t,o)},mN=e=>{let t=gz(e),[r,n]=mI(t),[i,o]=mI(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new mB(r,i,a,t)},mz=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&gN(e.bytes,r.bytes)}};class mB{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let mj=({name:e,code:t,encode:r})=>new m$(e,t,r);class m${constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?mD(this.code,t):t.then(e=>mD(this.code,e))}throw Error("Unknown type, must be binary type")}}let mL=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),mO=mj({name:"sha2-256",code:18,encode:mL("SHA-256")}),mV=mj({name:"sha2-512",code:19,encode:mL("SHA-512")}),mR=0,mM=gz,mF=e=>mD(mR,mM(e)),m_={code:mR,name:"identity",encode:mM,digest:mF},mq="raw",mH=85,mJ=e=>gz(e),mG=e=>gz(e),mW=new TextEncoder,mK=new TextDecoder,mQ="json",mZ=512,mX=e=>mW.encode(JSON.stringify(e)),mY=e=>JSON.parse(mK.decode(e)),m0=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?m6(r,m2(e),t||gJ.encoder):m3(r,m2(e),t||g0.encoder)},m1=new WeakMap,m2=e=>{let t=m1.get(e);if(null==t){let t=new Map;return m1.set(e,t),t}return t};class m5{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==m4)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==m7)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return m5.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=mD(e,t);return m5.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return m5.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&mz(e.multihash,r.multihash)}toString(e){return m0(this,e)}toJSON(){return{"/":m0(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof m5)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new m5(e,r,n,i||m9(e,r,n.bytes))}if(!0!==t[we])return null;{let{version:e,multihash:r,code:n}=t,i=mN(r);return m5.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===m4)return new m5(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${m4}) block encoding`);case 1:{let n=m9(e,t,r.bytes);return new m5(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return m5.create(0,m4,e)}static createV1(e,t){return m5.create(1,e,t)}static decode(e){let[t,r]=m5.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=m5.inspectBytes(e),r=t.size-t.multihashSize,n=gz(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new mB(t.multihashCode,t.digestSize,i,n);return[0===t.version?m5.createV0(o):m5.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=mI(e.subarray(t));return t+=n,r},n=r(),i=m4;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=m8(e,t),i=m5.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return m2(i).set(r,e),i}}let m8=(e,t)=>{switch(e[0]){case"Q":{let r=t||gJ;return[gJ.prefix,r.decode(`${gJ.prefix}${e}`)]}case gJ.prefix:{let r=t||gJ;return[gJ.prefix,r.decode(e)]}case g0.prefix:{let r=t||g0;return[g0.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},m6=(e,t,r)=>{let{prefix:n}=r;if(n!==gJ.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},m3=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},m4=112,m7=18,m9=(e,t,r)=>{let n=mT(e),i=n+mT(t),o=new Uint8Array(i+r.byteLength);return mk(e,o,0),mk(t,o,n),o.set(r,i),o},we=Symbol.for("@ipld/js-cid/CID"),wt={...ep,...eb,...ey,...eg,...em,...ew,...ev,...ed,...eE,...ex};function wr(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}({...eA,...eC});let wn=Symbol.for("nodejs.util.inspect.custom"),wi=Object.values(wt).map(e=>e.decoder).reduce((e,t)=>e.or(t),wt.identity.decoder),wo=114,wa=36,ws=37;class wu{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[gT]=!0;toString(){return null==this.string&&(this.string=gJ.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return m5.createV1(wo,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return wr(this.multihash.bytes,e);if("string"==typeof e)return wh(e).equals(this);if(e?.multihash?.bytes!=null)return wr(this.multihash.bytes,e.multihash.bytes);throw Error("not valid Id")}[wn](){return`PeerId(${this.toString()})`}}class wc extends wu{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}}class wl extends wu{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}}class wf extends wu{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}}function wh(e,t){if(t=t??wi,"1"===e.charAt(0)||"Q"===e.charAt(0)){let t=mN(gJ.decode(`z${e}`));return e.startsWith("12D")?new wl({multihash:t}):e.startsWith("16U")?new wf({multihash:t}):new wc({multihash:t})}return wd(wi.decode(e))}function wd(e){try{let t=mN(e);if(t.code===m_.code){if(t.digest.length===wa)return new wl({multihash:t});if(t.digest.length===ws)return new wf({multihash:t})}if(t.code===mO.code)return new wc({multihash:t})}catch{return wp(m5.decode(e))}throw Error("Supplied PeerID CID is invalid")}function wp(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==wo)throw Error("Supplied PeerID CID is invalid");let t=e.multihash;if(t.code===mO.code)return new wc({multihash:e.multihash});if(t.code===m_.code){if(t.digest.length===wa)return new wl({multihash:e.multihash});if(t.digest.length===ws)return new wf({multihash:e.multihash})}throw Error("Supplied PeerID CID is invalid")}let wb=gC(e=>async function(t={}){let r=await e.post("bitswap/stat",{searchParams:gP(t),signal:t.signal,headers:t.headers});return wy(await r.json())});function wy(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map(e=>cs.parse(e["/"])),peers:(e.Peers||[]).map(e=>wh(e)),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}let wg=gC(e=>async function(t,r={}){return(await e.post("bitswap/unwant",{signal:r.signal,searchParams:gP({arg:t.toString(),...r}),headers:r.headers})).json()});function wm(e){return{wantlist:gI(e),wantlistForPeer:gk(e),unwant:wg(e),stat:wb(e)}}let ww=gC(e=>async function(t,r={}){let n=await e.post("block/get",{signal:r.signal,searchParams:gP({arg:t.toString(),...r}),headers:r.headers});return new Uint8Array(await n.arrayBuffer())});function wv(e){let[t,r]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:e=>{n.push(e)},next:()=>n.length>0?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}async function*wE(e,t={}){let r=e.getReader();try{for(;;){let e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&await r.cancel(),r.releaseLock()}}async function wx(e){let t=[];for await(let r of e)t.push(r);return t}function wA(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function wC(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function wS(e){return"object"==typeof e&&(e.path||e.content)}let wU=e=>e&&"function"==typeof e.getReader;async function wP(e){if(wA(e))return new Blob([e]);if("string"==typeof e||e instanceof String)return new Blob([e.toString()]);if(wC(e))return e;if(wU(e)&&(e=wE(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=wv(e),{value:r,done:n}=await t.peek();if(n)return wI(t);if(t.push(r),Number.isInteger(r))return new Blob([Uint8Array.from(await wx(t))]);if(wA(r)||"string"==typeof r||r instanceof String)return wI(t)}throw dE(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}async function wI(e){let t=[];for await(let r of e)t.push(r);return new Blob(t)}async function*wk(e,t){for await(let r of e)yield t(r)}var wT=r(5680);let wD=wT.Reader,wN=wT.Writer,wz=wT.util,wB=wT.roots["ipfs-unixfs"]||(wT.roots["ipfs-unixfs"]={});function wj(e){return null==e?void 0:"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function w$(e){let t;if(null!=e){if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw dE(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}async function*wL(e,t){if("string"==typeof e||e instanceof String||wA(e)||wC(e)||e._readableState)throw dE(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(wU(e)&&(e=wE(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=wv(e),{value:n,done:i}=await r.peek();if(i){yield*[];return}if(r.push(n),Number.isInteger(n))throw dE(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*wk(r,e=>wO({content:e},t));return}if(wA(n)){yield wO({content:r},t);return}if(wS(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||wU(n)||wC(n)){yield*wk(r,e=>wO(e,t));return}}if(wS(e))throw dE(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw dE(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function wO(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:wj(n),mtime:w$(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function wV(e){return wL(e,wP,!0)}function wR(e){return null==e?void 0:"string"==typeof e?e:e.toString(8).padStart(4,"0")}async function wM(e,t,r={}){let n=[],i=new FormData,o=0,a=0;for await(let{content:t,path:r,mode:s,mtime:u}of wV(e)){let e="",c=t?"file":"dir";o>0&&(e=`-${o}`);let l=c+e,f=[];if(null!=s&&f.push(`mode=${wR(s)}`),null!=u){let{secs:e,nsecs:t}=u;f.push(`mtime=${e}`),null!=t&&f.push(`mtime-nsecs=${t}`)}if(f.length&&(l=`${l}?${f.join("&")}`),t){i.set(l,t,null!=r?encodeURIComponent(r):void 0);let e=a+t.size;n.push({name:r,start:a,end:e}),a=e}else if(null!=r)i.set(l,new File([""],encodeURIComponent(r),{type:"application/x-directory"}));else throw Error("path or content or both must be set");o++}return{total:a,parts:n,headers:r,body:i}}wB.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=wz.newBuffer([]),e.prototype.filesize=wz.Long?wz.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=wz.emptyArray,e.prototype.hashType=wz.Long?wz.Long.fromBits(0,0,!0):0,e.prototype.fanout=wz.Long?wz.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=wN.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&wB.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof wD||(e=wD.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new wB.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),(7&i)==2)for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=wB.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw wz.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof wB.Data)return e;var t=new wB.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?wz.base64.decode(e.Data,t.Data=wz.newBuffer(wz.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(wz.Long?(t.filesize=wz.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new wz.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)wz.Long?(t.blocksizes[r]=wz.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new wz.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(wz.Long?(t.hashType=wz.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new wz.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(wz.Long?(t.fanout=wz.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new wz.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=wB.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=wz.newBuffer(r.Data))),wz.Long){var n=new wz.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(wz.Long){var n=new wz.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(wz.Long){var n=new wz.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?wB.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?wz.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?wz.Long.prototype.toString.call(e.filesize):t.longs===Number?new wz.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?wz.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new wz.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?wz.Long.prototype.toString.call(e.hashType):t.longs===Number?new wz.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?wz.Long.prototype.toString.call(e.fanout):t.longs===Number?new wz.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=wB.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,wT.util.toJSONOptions)},e.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),wB.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=wz.Long?wz.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=wN.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof wD||(e=wD.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new wB.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw wz.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof wB.UnixTime)return e;var t=new wB.UnixTime;return null!=e.Seconds&&(wz.Long?(t.Seconds=wz.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new wz.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(wz.Long){var n=new wz.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?wz.Long.prototype.toString.call(e.Seconds):t.longs===Number?new wz.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,wT.util.toJSONOptions)},e})(),wB.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=wN.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof wD||(e=wD.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new wB.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof wB.Metadata)return e;var t=new wB.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,wT.util.toJSONOptions)},e})(),parseInt("0644",8),parseInt("0755",8);var wF=r(7701);function w_(e){return e.filter(Boolean)}function wq(...e){return(0,wF.anySignal)(w_(e))}let wH=gC(e=>{async function t(r,n={}){let i;let o=new AbortController,a=wq(o.signal,n.signal);try{let t=await e.post("block/put",{signal:a,searchParams:gP(n),...await wM([r],o,n.headers)});i=await t.json()}catch(e){if("dag-pb"===n.format)return t(r,{...n,format:"protobuf"});if("dag-cbor"===n.format)return t(r,{...n,format:"cbor"});throw e}return cs.parse(i.Key)}return t}),wJ=gC(e=>async function*(t,r={}){for await(let n of(Array.isArray(t)||(t=[t]),(await e.post("block/rm",{signal:r.signal,searchParams:gP({arg:t.map(e=>e.toString()),"stream-channels":!0,...r}),headers:r.headers})).ndjson()))yield wG(n)});function wG(e){let t={cid:cs.parse(e.Hash)};return e.Error&&(t.error=Error(e.Error)),t}let wW=gC(e=>async function(t,r={}){let n=await e.post("block/stat",{signal:r.signal,searchParams:gP({arg:t.toString(),...r}),headers:r.headers}),i=await n.json();return{cid:cs.parse(i.Key),size:i.Size}});function wK(e){return{get:ww(e),put:wH(e),rm:wJ(e),stat:wW(e)}}let wQ=gC(e=>async function(t,r={}){let n=await e.post("bootstrap/add",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),{Peers:i}=await n.json();return{Peers:i.map(e=>dD(e))}}),wZ=gC(e=>async function(t={}){let r=await e.post("bootstrap/rm",{signal:t.signal,searchParams:gP({...t,all:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>dD(e))}}),wX=gC(e=>async function(t={}){let r=await e.post("bootstrap/list",{signal:t.signal,searchParams:gP(t),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>dD(e))}}),wY=gC(e=>async function(t={}){let r=await e.post("bootstrap/add",{signal:t.signal,searchParams:gP({...t,default:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>dD(e))}}),w0=gC(e=>async function(t,r={}){let n=await e.post("bootstrap/rm",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),{Peers:i}=await n.json();return{Peers:i.map(e=>dD(e))}});function w1(e){return{add:wQ(e),clear:wZ(e),list:wX(e),reset:wY(e),rm:w0(e)}}let w2=gC(e=>async function(t,r={}){let n=await e.post("config/profile/apply",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),i=await n.json();return{original:i.OldCfg,updated:i.NewCfg}});function w5(e){if(null==e)return e;let t=/^[A-Z]+$/,r={};return Object.keys(e).reduce((r,n)=>(t.test(n)?r[n.toLowerCase()]=e[n]:t.test(n[0])?r[n[0].toLowerCase()+n.slice(1)]=e[n]:r[n]=e[n],r),r)}let w8=gC(e=>async function(t={}){let r=await e.post("config/profile/list",{signal:t.signal,searchParams:gP(t),headers:t.headers});return(await r.json()).map(e=>w5(e))});function w6(e){return{apply:w2(e),list:w8(e)}}let w3=gC(e=>async(t,r={})=>{if(!t)throw Error("key argument is required");let n=await e.post("config",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers});return(await n.json()).Value}),w4=gC(e=>async(t={})=>{let r=await e.post("config/show",{signal:t.signal,searchParams:gP({...t}),headers:t.headers});return await r.json()});function w7(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}var w9=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};new Uint8Array(0);let ve=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},vt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},vr=e=>new TextEncoder().encode(e),vn=e=>new TextDecoder().decode(e);class vi{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class vo{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return vs(this,e)}}class va{constructor(e){this.decoders=e}or(e){return vs(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let vs=(e,t)=>new va({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class vu{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new vi(e,t,r),this.decoder=new vo(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let vc=({name:e,prefix:t,encode:r,decode:n})=>new vu(e,t,r,n),vl=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=w9(r,t);return vc({prefix:e,name:t,encode:n,decode:e=>vt(i(e))})},vf=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},vh=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},vd=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>vc({prefix:t,name:e,encode:e=>vh(e,n,r),decode:t=>vf(t,n,r,e)}),vp=vl({prefix:"9",name:"base10",alphabet:"0123456789"}),vb=vd({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vy=vd({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),vg=vd({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),vm=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),vw=vm.reduce((e,t,r)=>(e[r]=t,e),[]),vv=vm.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),vE=vc({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=vw[t],"")},decode:function(e){let t=[];for(let r of e){let e=vv[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),vx=vd({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),vA=vd({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vC=vd({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vS=vd({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vU=vd({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vP=vd({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vI=vd({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vk=vd({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vT=vd({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),vD=vl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vN=vl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),vz=vl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vB=vl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),vj=vd({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),v$=vd({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),vL=vd({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vO=vd({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),vV=vd({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),vR=vc({prefix:"\0",name:"identity",encode:e=>vn(e),decode:e=>vr(e)}),vM=new TextEncoder,vF=new TextDecoder,v_="json",vq=512,vH=e=>vM.encode(JSON.stringify(e)),vJ=e=>JSON.parse(vF.decode(e)),vG="raw",vW=85,vK=e=>vt(e),vQ=e=>vt(e);var vZ=128,vX=-128,vY=2147483648;function v0(e,t,r){t=t||[];for(var n=r=r||0;e>=vY;)t[r++]=255&e|vZ,e/=128;for(;e&vX;)t[r++]=255&e|vZ,e>>>=7;return t[r]=0|e,v0.bytes=r-n+1,t}var v1=128,v2=127;function v5(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw v5.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&v2)<<i:(r&v2)*Math.pow(2,i),i+=7}while(r>=v1);return v5.bytes=o-t,n}var v8=128,v6=16384,v3=2097152,v4=268435456,v7=34359738368,v9=4398046511104,Ee=562949953421312,Et=72057594037927940,Er=0x7fffffffffffffff,En=v0,Ei=v5,Eo=function(e){return e<v8?1:e<v6?2:e<v3?3:e<v4?4:e<v7?5:e<v9?6:e<Ee?7:e<Et?8:e<Er?9:10};let Ea=(e,t=0)=>[Ei(e,t),Ei.bytes],Es=(e,t,r=0)=>(En(e,t,r),t),Eu=e=>Eo(e),Ec=(e,t)=>{let r=t.byteLength,n=Eu(e),i=n+Eu(r),o=new Uint8Array(i+r);return Es(e,o,0),Es(r,o,n),o.set(t,i),new Eh(e,r,t,o)},El=e=>{let t=vt(e),[r,n]=Ea(t),[i,o]=Ea(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new Eh(r,i,a,t)},Ef=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&ve(e.bytes,r.bytes)}};class Eh{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let Ed=0,Ep=vt,Eb=e=>Ec(Ed,Ep(e)),Ey={code:Ed,name:"identity",encode:Ep,digest:Eb},Eg=({name:e,code:t,encode:r})=>new Em(e,t,r);class Em{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Ec(this.code,t):t.then(e=>Ec(this.code,e))}throw Error("Unknown type, must be binary type")}}let Ew=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ev=Eg({name:"sha2-256",code:18,encode:Ew("SHA-256")}),EE=Eg({name:"sha2-512",code:19,encode:Ew("SHA-512")}),Ex=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?EP(r,EC(e),t||vz.encoder):EI(r,EC(e),t||vx.encoder)},EA=new WeakMap,EC=e=>{let t=EA.get(e);if(null==t){let t=new Map;return EA.set(e,t),t}return t};class ES{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==Ek)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ET)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ES.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Ec(e,t);return ES.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return ES.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&Ef(e.multihash,r.multihash)}toString(e){return Ex(this,e)}toJSON(){return{"/":Ex(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof ES)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new ES(e,r,n,i||ED(e,r,n.bytes))}if(!0!==t[EN])return null;{let{version:e,multihash:r,code:n}=t,i=El(r);return ES.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===Ek)return new ES(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${Ek}) block encoding`);case 1:{let n=ED(e,t,r.bytes);return new ES(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return ES.create(0,Ek,e)}static createV1(e,t){return ES.create(1,e,t)}static decode(e){let[t,r]=ES.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=ES.inspectBytes(e),r=t.size-t.multihashSize,n=vt(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new Eh(t.multihashCode,t.digestSize,i,n);return[0===t.version?ES.createV0(o):ES.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=Ea(e.subarray(t));return t+=n,r},n=r(),i=Ek;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=EU(e,t),i=ES.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return EC(i).set(r,e),i}}let EU=(e,t)=>{switch(e[0]){case"Q":{let r=t||vz;return[vz.prefix,r.decode(`${vz.prefix}${e}`)]}case vz.prefix:{let r=t||vz;return[vz.prefix,r.decode(e)]}case vx.prefix:{let r=t||vx;return[vx.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},EP=(e,t,r)=>{let{prefix:n}=r;if(n!==vz.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},EI=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},Ek=112,ET=18,ED=(e,t,r)=>{let n=Eu(e),i=n+Eu(t),o=new Uint8Array(i+r.byteLength);return Es(e,o,0),Es(t,o,n),o.set(r,i),o},EN=Symbol.for("@ipld/js-cid/CID"),Ez={...e$,...ek,...ej,...eP,...eI,...eD,...eN,...ez,...eB,...eT};function EB(e=0){return globalThis.Buffer?.allocUnsafe!=null?w7(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ej(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...eR,...eV});let E$=Ej("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),EL=Ej("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=EB((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t});var EO={utf8:E$,"utf-8":E$,hex:Ez.base16,latin1:EL,ascii:EL,binary:EL,...Ez};function EV(e,t="utf8"){let r=EO[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?w7(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}let ER=gC(e=>async(t,r={})=>{let n=new AbortController,i=wq(n.signal,r.signal),o=await e.post("config/replace",{signal:i,searchParams:gP(r),...await wM([EV(JSON.stringify(t))],n,r.headers)});await o.text()}),EM=gC(e=>async(t,r,n={})=>{if("string"!=typeof t)throw Error("Invalid key type");let i={...n,...EF(t,r)},o=await e.post("config",{signal:n.signal,searchParams:gP(i),headers:n.headers});await o.text()}),EF=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function E_(e){return{getAll:w4(e),get:w3(e),set:EM(e),replace:ER(e),profiles:w6(e)}}let Eq=gC(e=>async function*(t,r={}){let n=await e.post("dag/export",{signal:r.signal,searchParams:gP({arg:t.toString()}),headers:r.headers});yield*n.iterator()});async function*EH(e,t,r,n,i){let o=async e=>{let t=await r.getCodec(e.code),o=await n(e,i);return t.decode(o)},a=t.split("/").filter(Boolean),s=await o(e),u=e;for(;a.length;){let e=a.shift();if(!e)throw dE(Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(s,e))s=s[e],yield{value:s,remainderPath:a.join("/")};else throw dE(Error(`no link named "${e}" under ${u}`),"ERR_NO_LINK");let r=cs.asCID(s);r&&(u=r,s=await o(s))}yield{value:s,remainderPath:""}}async function EJ(e){for await(let t of e)return t}async function EG(e){let t;for await(let r of e)t=r;return t}let EW=(e,t)=>gC((t,r)=>{let n=ww(r);return async(t,r={})=>{if(r.path){let i=r.localResolve?await EJ(EH(t,r.path,e,n,r)):await EG(EH(t,r.path,e,n,r));if(!i)throw dE(Error("Not found"),"ERR_NOT_FOUND");return i}let i=await e.getCodec(t.code),o=await n(t,r);return{value:i.decode(o),remainderPath:""}}})(t),EK=gC(e=>async function*(t,r={}){let n=new AbortController,i=wq(n.signal,r.signal),{headers:o,body:a}=await wM(t,n,r.headers);for await(let{Root:t}of(await e.post("dag/import",{signal:i,headers:o,body:a,searchParams:gP({"pin-roots":r.pinRoots})})).ndjson())if(void 0!==t){let{Cid:{"/":e},PinErrorMsg:r}=t;yield{root:{cid:cs.parse(e),pinErrorMsg:r}}}}),EQ=(e,t)=>gC(t=>async(r,n={})=>{let i;let o={storeCodec:"dag-cbor",hashAlg:"sha2-256",...n};if(o.inputCodec){if(!(r instanceof Uint8Array))throw Error("Can only inputCodec on raw bytes that can be decoded");i=r}else i=(await e.getCodec(o.storeCodec)).encode(r),o.inputCodec=o.storeCodec;let a=new AbortController,s=wq(a.signal,o.signal),u=await t.post("dag/put",{timeout:o.timeout,signal:s,searchParams:gP(o),...await wM([i],a,o.headers)}),c=await u.json();return cs.parse(c.Cid["/"])})(t),EZ=gC(e=>async(t,r={})=>{let n=await e.post("dag/resolve",{signal:r.signal,searchParams:gP({arg:`${t}${r.path?`/${r.path}`.replace(/\/[/]+/g,"/"):""}`,...r}),headers:r.headers}),i=await n.json();return{cid:cs.parse(i.Cid["/"]),remainderPath:i.RemPath}});function EX(e,t){return{export:Eq(t),get:EW(e,t),import:EK(t),put:EQ(e,t),resolve:EZ(t)}}let EY=0,E0=1,E1=2,E2=3,E5=4,E8=5,E6=6,E3=7,E4=e=>{if(e.Type===EY)return{name:"SENDING_QUERY",type:e.Type};if(e.Type===E0)return{from:wh(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map(({ID:e,Addrs:t})=>({id:wh(e),multiaddrs:t.map(e=>dD(e)),protocols:[]})),providers:(e.Responses||[]).map(({ID:e,Addrs:t})=>({id:wh(e),multiaddrs:t.map(e=>dD(e)),protocols:[]}))};if(e.Type===E1){let t={id:e.ID??wh(e.ID),multiaddrs:[],protocols:[]};return e.Responses&&e.Responses.length&&(t={id:wh(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map(e=>dD(e)),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:t}}if(e.Type===E2)return{name:"QUERY_ERROR",type:e.Type,error:Error(e.Extra)};if(e.Type===E5)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map(({ID:e,Addrs:t})=>({id:wh(e),multiaddrs:t.map(e=>dD(e)),protocols:[]}))};if(e.Type===E8)return{name:"VALUE",type:e.Type,value:EV(e.Extra,"base64pad")};if(e.Type===E6){let t=e.Responses.map(({ID:e})=>wh(e));if(!t.length)throw Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:t[0]}}if(e.Type===E3)return{name:"DIALING_PEER",type:e.Type,peer:wh(e.ID)};throw Error("Unknown DHT event type")},E7=gC(e=>async function*(t,r={}){for await(let n of(await e.post("dht/findpeer",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers})).ndjson())yield E4(n)}),E9=gC(e=>async function*(t,r={}){for await(let n of(await e.post("dht/findprovs",{signal:r.signal,searchParams:gP({arg:t.toString(),...r}),headers:r.headers})).ndjson())yield E4(n)});function xe(e,t="utf8"){let r=EO[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}let xt=gC(e=>async function*(t,r={}){for await(let n of(await e.post("dht/get",{signal:r.signal,searchParams:gP({arg:t instanceof Uint8Array?xe(t):t.toString(),...r}),headers:r.headers})).ndjson())yield E4(n)}),xr=gC(e=>async function*(t,r={recursive:!1}){let n=Array.isArray(t)?t:[t];for await(let t of(await e.post("dht/provide",{signal:r.signal,searchParams:gP({arg:n.map(e=>e.toString()),...r}),headers:r.headers})).ndjson())yield E4(t)}),xn=gC(e=>async function*(t,r,n={}){let i=new AbortController,o=wq(i.signal,n.signal);for await(let a of(await e.post("dht/put",{signal:o,searchParams:gP({arg:t instanceof Uint8Array?xe(t):t.toString(),...n}),...await wM([r],i,n.headers)})).ndjson())yield E4(a)}),xi=gC(e=>async function*(t,r={}){for await(let n of(await e.post("dht/query",{signal:r.signal,searchParams:gP({arg:t.toString(),...r}),headers:r.headers})).ndjson())yield E4(n)});function xo(e){return{findPeer:E7(e),findProvs:E9(e),get:xt(e),provide:xr(e),put:xn(e),query:xi(e)}}let xa=gC(e=>async function(t={}){return(await e.post("diag/cmds",{signal:t.signal,searchParams:gP(t),headers:t.headers})).json()}),xs=gC(e=>async function(t={}){return(await e.post("diag/net",{signal:t.signal,searchParams:gP(t),headers:t.headers})).json()}),xu=gC(e=>async function(t={}){return(await e.post("diag/sys",{signal:t.signal,searchParams:gP(t),headers:t.headers})).json()});function xc(e){return{cmds:xa(e),net:xs(e),sys:xu(e)}}let xl=gC(e=>async function(t,r,n={}){let i=await e.post("files/chmod",{signal:n.signal,searchParams:gP({arg:t,mode:r,...n}),headers:n.headers});await i.text()}),xf=gC(e=>async function(t,r,n={}){let i=Array.isArray(t)?t:[t],o=await e.post("files/cp",{signal:n.signal,searchParams:gP({arg:i.concat(r).map(e=>cs.asCID(e)?`/ipfs/${e}`:e),...n}),headers:n.headers});await o.text()}),xh=gC(e=>async function(t,r={}){if(!t||"string"!=typeof t)throw Error("ipfs.files.flush requires a path");let n=await e.post("files/flush",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),i=await n.json();return cs.parse(i.Cid)});function xd(e){let t=w5(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}let xp=gC(e=>async function*(t,r={}){if(!t)throw Error("ipfs.files.ls requires a path");for await(let n of(await e.post("files/ls",{signal:r.signal,searchParams:gP({arg:cs.asCID(t)?`/ipfs/${t}`:t,long:!0,...r,stream:!0}),headers:r.headers})).ndjson())if("Entries"in n)for(let e of n.Entries||[])yield xb(xd(e));else yield xb(xd(n))});function xb(e){return e.hash&&(e.cid=cs.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}let xy=gC(e=>async function(t,r={}){let n=await e.post("files/mkdir",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers});await n.text()}),xg=gC(e=>async function(t,r,n={}){Array.isArray(t)||(t=[t]);let i=await e.post("files/mv",{signal:n.signal,searchParams:gP({arg:t.concat(r),...n}),headers:n.headers});await i.text()});var xm=r(2285);let xw=gC(e=>async function*(t,r={}){let n=await e.post("files/read",{signal:r.signal,searchParams:gP({arg:t,count:r.length,...r}),headers:r.headers});yield*xm(n.body)}),xv=gC(e=>async function(t,r={}){let n=await e.post("files/rm",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),i=await n.text();if(""!==i){let e=new d0.HTTPError(n);throw e.message=i,e}}),xE=gC(e=>async function(t,r={}){let n=await e.post("files/stat",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),i=await n.json();return i.WithLocality=i.WithLocality||!1,xx(xd(i))});function xx(e){return e.cid=cs.parse(e.hash),delete e.hash,e}let xA=gC(e=>async function(t,r={}){let n=await e.post("files/touch",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers});await n.text()}),xC=gC(e=>async function(t,r,n={}){let i=new AbortController,o=wq(i.signal,n.signal),a=await e.post("files/write",{signal:o,searchParams:gP({arg:t,streamChannels:!0,count:n.length,...n}),...await wM([{content:r,path:"arg",mode:gS(n.mode),mtime:gU(n.mtime)}],i,n.headers)});await a.text()});function xS(e){return{chmod:xl(e),cp:xf(e),flush:xh(e),ls:xp(e),mkdir:xy(e),mv:xg(e),read:xw(e),rm:xv(e),stat:xE(e),touch:xA(e),write:xC(e)}}let xU=gC(e=>async(e,t,r={})=>{throw dE(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),xP=gC(e=>async function(t,r){let n=r??{type:"Ed25519"},i=await e.post("key/gen",{signal:n.signal,searchParams:gP({arg:t,...n}),headers:n.headers});return w5(await i.json())}),xI=gC(e=>async function(t,r,n,i={}){let o=await e.post("key/import",{signal:i.signal,searchParams:gP({arg:t,pem:r,password:n,...i}),headers:i.headers});return w5(await o.json())}),xk=gC(e=>async(e,t={})=>{throw dE(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),xT=gC(e=>async function(t={}){let r=await e.post("key/list",{signal:t.signal,searchParams:gP(t),headers:t.headers});return((await r.json()).Keys||[]).map(e=>w5(e))}),xD=gC(e=>async function(t,r,n={}){let i=await e.post("key/rename",{signal:n.signal,searchParams:gP({arg:[t,r],...n}),headers:n.headers});return w5(await i.json())}),xN=gC(e=>async function(t,r={}){let n=await e.post("key/rm",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers});return w5((await n.json()).Keys[0])});function xz(e){return{export:xU(e),gen:xP(e),import:xI(e),info:xk(e),list:xT(e),rename:xD(e),rm:xN(e)}}let xB=gC(e=>async function(t,r,n={}){let i=await e.post("log/level",{signal:n.signal,searchParams:gP({arg:[t,r],...n}),headers:n.headers});return w5(await i.json())}),xj=gC(e=>async function(t={}){let r=await e.post("log/ls",{signal:t.signal,searchParams:gP(t),headers:t.headers});return(await r.json()).Strings}),x$=gC(e=>async function*(t={}){let r=await e.post("log/tail",{signal:t.signal,searchParams:gP(t),headers:t.headers});yield*r.ndjson()});function xL(e){return{level:xB(e),ls:xj(e),tail:x$(e)}}let xO=gC(e=>async function(t,r={}){let n=await e.post("name/publish",{signal:r.signal,searchParams:gP({arg:`${t}`,...r}),headers:r.headers});return w5(await n.json())}),xV=gC(e=>async function*(t,r={}){for await(let n of(await e.post("name/resolve",{signal:r.signal,searchParams:gP({arg:t,stream:!0,...r}),headers:r.headers})).ndjson())yield n.Path}),xR=gC(e=>async function(t,r={}){let n=await e.post("name/pubsub/cancel",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers});return w5(await n.json())}),xM=gC(e=>async function(t={}){let r=await e.post("name/pubsub/state",{signal:t.signal,searchParams:gP(t),headers:t.headers});return w5(await r.json())}),xF=gC(e=>async function(t={}){let r=await e.post("name/pubsub/subs",{signal:t.signal,searchParams:gP(t),headers:t.headers});return(await r.json()).Strings||[]});function x_(e){return{cancel:xR(e),state:xM(e),subs:xF(e)}}function xq(e){return{publish:xO(e),resolve:xV(e),pubsub:x_(e)}}let xH=gC(e=>async function(t,r={}){let n=await e.post("object/data",{signal:r.signal,searchParams:gP({arg:`${t instanceof Uint8Array?cs.decode(t):t}`,...r}),headers:r.headers}),i=await n.arrayBuffer();return new Uint8Array(i,0,i.byteLength)}),xJ=gC(e=>async function(t,r={}){let n=await e.post("object/get",{signal:r.signal,searchParams:gP({arg:`${t instanceof Uint8Array?cs.decode(t):t}`,dataEncoding:"base64",...r}),headers:r.headers}),i=await n.json();return{Data:EV(i.Data,"base64pad"),Links:(i.Links||[]).map(e=>({Name:e.Name,Hash:cs.parse(e.Hash),Tsize:e.Size}))}}),xG=gC(e=>async function(t,r={}){let n=await e.post("object/links",{signal:r.signal,searchParams:gP({arg:`${t instanceof Uint8Array?cs.decode(t):t}`,...r}),headers:r.headers});return((await n.json()).Links||[]).map(e=>({Name:e.Name,Tsize:e.Size,Hash:cs.parse(e.Hash)}))}),xW=gC(e=>async function(t={}){let r=await e.post("object/new",{signal:t.signal,searchParams:gP({arg:t.template,...t}),headers:t.headers}),{Hash:n}=await r.json();return cs.parse(n)}),xK=(e,t)=>gC(r=>{let n=EQ(e,t);return async function(e,t={}){return n(e,{...t,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}})(t),xQ=gC(e=>async function(t,r={}){let n=await e.post("object/stat",{signal:r.signal,searchParams:gP({arg:`${t}`,...r}),headers:r.headers}),i=await n.json();return{...i,Hash:cs.parse(i.Hash)}}),xZ=gC(e=>async function(t,r,n={}){let i=await e.post("object/patch/add-link",{signal:n.signal,searchParams:gP({arg:[`${t}`,r.Name||r.name||"",(r.Hash||r.cid||"").toString()||null],...n}),headers:n.headers}),{Hash:o}=await i.json();return cs.parse(o)}),xX=gC(e=>async function(t,r,n={}){let i=new AbortController,o=wq(i.signal,n.signal),a=await e.post("object/patch/append-data",{signal:o,searchParams:gP({arg:`${t}`,...n}),...await wM([r],i,n.headers)}),{Hash:s}=await a.json();return cs.parse(s)}),xY=gC(e=>async function(t,r,n={}){let i=await e.post("object/patch/rm-link",{signal:n.signal,searchParams:gP({arg:[`${t}`,r.Name||r.name||null],...n}),headers:n.headers}),{Hash:o}=await i.json();return cs.parse(o)}),x0=gC(e=>async function(t,r,n={}){let i=new AbortController,o=wq(i.signal,n.signal),a=await e.post("object/patch/set-data",{signal:o,searchParams:gP({arg:[`${t}`],...n}),...await wM([r],i,n.headers)}),{Hash:s}=await a.json();return cs.parse(s)});function x1(e){return{addLink:xZ(e),appendData:xX(e),rmLink:xY(e),setData:x0(e)}}function x2(e,t){return{data:xH(t),get:xJ(t),links:xG(t),new:xW(t),put:xK(e,t),stat:xQ(t),patch:x1(t)}}var x5=128,x8=-128,x6=2147483648;function x3(e,t,r){t=t||[];for(var n=r=r||0;e>=x6;)t[r++]=255&e|x5,e/=128;for(;e&x8;)t[r++]=255&e|x5,e>>>=7;return t[r]=0|e,x3.bytes=r-n+1,t}var x4=128,x7=127;function x9(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw x9.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&x7)<<i:(r&x7)*Math.pow(2,i),i+=7}while(r>=x4);return x9.bytes=o-t,n}var Ae=128,At=16384,Ar=2097152,An=268435456,Ai=34359738368,Ao=4398046511104,Aa=562949953421312,As=72057594037927940,Au=0x7fffffffffffffff,Ac=x3,Al=x9,Af=function(e){return e<Ae?1:e<At?2:e<Ar?3:e<An?4:e<Ai?5:e<Ao?6:e<Aa?7:e<As?8:e<Au?9:10};let Ah=(e,t=0)=>[Al(e,t),Al.bytes],Ad=(e,t,r=0)=>(Ac(e,t,r),t),Ap=e=>Af(e);new Uint8Array(0);let Ab=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Ay=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},Ag=(e,t)=>{let r=t.byteLength,n=Ap(e),i=n+Ap(r),o=new Uint8Array(i+r);return Ad(e,o,0),Ad(r,o,n),o.set(t,i),new Av(e,r,t,o)},Am=e=>{let t=Ay(e),[r,n]=Ah(t),[i,o]=Ah(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new Av(r,i,a,t)},Aw=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&Ab(e.bytes,r.bytes)}};class Av{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var AE=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};class Ax{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class AA{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return AS(this,e)}}class AC{constructor(e){this.decoders=e}or(e){return AS(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let AS=(e,t)=>new AC({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class AU{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ax(e,t,r),this.decoder=new AA(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let AP=({name:e,prefix:t,encode:r,decode:n})=>new AU(e,t,r,n),AI=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=AE(r,t);return AP({prefix:e,name:t,encode:n,decode:e=>Ay(i(e))})},Ak=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},AT=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},AD=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>AP({prefix:t,name:e,encode:e=>AT(e,n,r),decode:t=>Ak(t,n,r,e)}),AN=AI({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});AI({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let Az=AD({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});AD({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),AD({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),AD({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),AD({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),AD({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),AD({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),AD({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),AD({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let AB=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?AV(r,A$(e),t||AN.encoder):AR(r,A$(e),t||Az.encoder)},Aj=new WeakMap,A$=e=>{let t=Aj.get(e);if(null==t){let t=new Map;return Aj.set(e,t),t}return t};class AL{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==AM)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==AF)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return AL.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Ag(e,t);return AL.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return AL.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&Aw(e.multihash,r.multihash)}toString(e){return AB(this,e)}toJSON(){return{"/":AB(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof AL)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new AL(e,r,n,i||A_(e,r,n.bytes))}if(!0!==t[Aq])return null;{let{version:e,multihash:r,code:n}=t,i=Am(r);return AL.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===AM)return new AL(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${AM}) block encoding`);case 1:{let n=A_(e,t,r.bytes);return new AL(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return AL.create(0,AM,e)}static createV1(e,t){return AL.create(1,e,t)}static decode(e){let[t,r]=AL.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=AL.inspectBytes(e),r=t.size-t.multihashSize,n=Ay(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new Av(t.multihashCode,t.digestSize,i,n);return[0===t.version?AL.createV0(o):AL.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=Ah(e.subarray(t));return t+=n,r},n=r(),i=AM;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=AO(e,t),i=AL.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return A$(i).set(r,e),i}}let AO=(e,t)=>{switch(e[0]){case"Q":{let r=t||AN;return[AN.prefix,r.decode(`${AN.prefix}${e}`)]}case AN.prefix:{let r=t||AN;return[AN.prefix,r.decode(e)]}case Az.prefix:{let r=t||Az;return[Az.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},AV=(e,t,r)=>{let{prefix:n}=r;if(n!==AN.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},AR=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},AM=112,AF=18,A_=(e,t,r)=>{let n=Ap(e),i=n+Ap(t),o=new Uint8Array(i+r.byteLength);return Ad(e,o,0),Ad(t,o,n),o.set(r,i),o},Aq=Symbol.for("@ipld/js-cid/CID");function AH(e){return Symbol.iterator in e}function AJ(e){return Symbol.asyncIterator in e}function AG(e){return null!=AL.asCID(e)}async function*AW(e){if(null==e)throw dE(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");let t=AL.asCID(e);if(t){yield AK({cid:t});return}if(e instanceof String||"string"==typeof e){yield AK({path:e});return}if(null!=e.cid||null!=e.path)return yield AK(e);if(AH(e)){let t=e[Symbol.iterator](),r=t.next();if(r.done)return t;if(AG(r.value)){for(let e of(yield AK({cid:r.value}),t))yield AK({cid:e});return}if(r.value instanceof String||"string"==typeof r.value){for(let e of(yield AK({path:r.value}),t))yield AK({path:e});return}if(null!=r.value.cid||null!=r.value.path){for(let e of(yield AK(r.value),t))yield AK(e);return}throw dE(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(AJ(e)){let t=e[Symbol.asyncIterator](),r=await t.next();if(r.done)return t;if(AG(r.value)){for await(let e of(yield AK({cid:r.value}),t))yield AK({cid:e});return}if(r.value instanceof String||"string"==typeof r.value){for await(let e of(yield AK({path:r.value}),t))yield AK({path:e});return}if(null!=r.value.cid||null!=r.value.path){for await(let e of(yield AK(r.value),t))yield AK(e);return}}throw dE(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}function AK(e){let t=e.cid||`${e.path}`;if(!t)throw dE(Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let r={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(r.metadata=e.metadata),r}let AQ=gC(e=>async function*(t,r={}){for await(let{path:n,recursive:i,metadata:o}of AW(t))for await(let t of(await e.post("pin/add",{signal:r.signal,searchParams:gP({...r,arg:n,recursive:i,metadata:o?JSON.stringify(o):void 0,stream:!0}),headers:r.headers})).ndjson()){if(t.Pins){for(let e of t.Pins)yield cs.parse(e);continue}yield cs.parse(t)}});function AZ(e){let t=AQ(e);return gC(()=>async function(e,r={}){return EG(t([{path:e,...r}],r))})(e)}function AX(e,t,r){let n={type:e,cid:cs.parse(t)};return r&&(n.metadata=r),n}let AY=gC(e=>async function*(t={}){let r=[];for await(let n of(t.paths&&(r=Array.isArray(t.paths)?t.paths:[t.paths]),(await e.post("pin/ls",{signal:t.signal,searchParams:gP({...t,arg:r.map(e=>`${e}`),stream:!0}),headers:t.headers})).ndjson())){if(n.Keys){for(let e of Object.keys(n.Keys))yield AX(n.Keys[e].Type,e,n.Keys[e].Metadata);return}yield AX(n.Type,n.Cid,n.Metadata)}}),A0=gC(e=>async function*(t,r={}){for await(let{path:n,recursive:i}of AW(t)){let t=new URLSearchParams(r.searchParams);for await(let o of(t.append("arg",`${n}`),null!=i&&t.set("recursive",String(i)),(await e.post("pin/rm",{signal:r.signal,headers:r.headers,searchParams:gP({...r,arg:`${n}`,recursive:i})})).ndjson())){if(o.Pins){yield*o.Pins.map(e=>cs.parse(e));continue}yield cs.parse(o)}}}),A1=e=>{let t=A0(e);return gC(()=>async function(e,r={}){return EG(t([{path:e,...r}],r))})(e)},A2=({Name:e,Status:t,Cid:r})=>({cid:cs.parse(r),name:e,status:t}),A5=e=>{if("string"==typeof e&&""!==e)return e;throw TypeError("service name must be passed")},A8=e=>{if(cs.asCID(e))return e.toString();throw TypeError(`CID instance expected instead of ${typeof e}`)},A6=({service:e,cid:t,name:r,status:n,all:i})=>{let o=gP({service:A5(e),name:r,force:!!i||void 0});if(t)for(let e of t)o.append("cid",A8(e));if(n)for(let e of n)o.append("status",e);return o},A3=({cid:e,service:t,background:r,name:n,origins:i})=>{let o=gP({arg:A8(e),service:A5(t),name:n,background:!!r||void 0});if(i)for(let e of i)o.append("origin",e.toString());return o};function A4(e){return async function(t,{timeout:r,signal:n,headers:i,...o}){let a=await e.post("pin/remote/add",{timeout:r,signal:n,headers:i,searchParams:A3({cid:t,...o})});return A2(await a.json())}}function A7(e){return async function*({timeout:t,signal:r,headers:n,...i}){for await(let o of(await e.post("pin/remote/ls",{timeout:t,signal:r,headers:n,searchParams:A6(i)})).ndjson())yield A2(o)}}function A9(e){return async function({timeout:t,signal:r,headers:n,...i}){await e.post("pin/remote/rm",{timeout:t,signal:r,headers:n,searchParams:A6({...i,all:!1})})}}function Ce(e){return async function({timeout:t,signal:r,headers:n,...i}){await e.post("pin/remote/rm",{timeout:t,signal:r,headers:n,searchParams:A6({...i,all:!0})})}}function Ct(e){let t=String(e);if("undefined"===t)throw Error("endpoint is required");return"/"===t[t.length-1]?t.slice(0,-1):t}function Cr(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:Cn(e.Stat)}}}function Cn(e){switch(e.Status){case"valid":{let{Pinning:t,Pinned:r,Queued:n,Failed:i}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:r,failed:i}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function Ci(e){return async function(t,r){let{endpoint:n,key:i,headers:o,timeout:a,signal:s}=r;await e.post("pin/remote/service/add",{timeout:a,signal:s,searchParams:gP({arg:[t,Ct(n),i]}),headers:o})}}function Co(e){return async function(t={}){let{stat:r,headers:n,timeout:i,signal:o}=t,a=await e.post("pin/remote/service/ls",{timeout:i,signal:o,headers:n,searchParams:!0===r?gP({stat:r}):void 0}),{RemoteServices:s}=await a.json();return s.map(Cr)}}function Ca(e){return async function(t,r={}){await e.post("pin/remote/service/rm",{signal:r.signal,headers:r.headers,searchParams:gP({arg:t})})}}function Cs(e){let t=new gA(e);return{add:Ci(t),ls:Co(t),rm:Ca(t)}}function Cu(e){let t=new gA(e);return{add:A4(t),ls:A7(t),rm:A9(t),rmAll:Ce(t),service:Cs(e)}}function Cc(e){return{addAll:AQ(e),add:AZ(e),ls:AY(e),rmAll:A0(e),rm:A1(e),remote:Cu(e)}}let Cl=e=>Array.isArray(e)?e.map(Cf):e,Cf=e=>xe(Ch(e)),Ch=e=>uG.decode(e),Cd=e=>BigInt(`0x${xe(uG.decode(e),"base16")}`),Cp=e=>uG.encode(EV(e)),Cb=gC(e=>async function(t={}){let{Strings:r}=await (await e.post("pubsub/ls",{signal:t.signal,searchParams:gP(t),headers:t.headers})).json();return Cl(r)||[]}),Cy=gC(e=>async function(t,r={}){let n=await e.post("pubsub/peers",{signal:r.signal,searchParams:gP({arg:Cp(t),...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}),Cg=gC(e=>async function(t,r,n={}){let i=gP({arg:Cp(t),...n}),o=new AbortController,a=wq(o.signal,n.signal),s=await e.post("pubsub/pub",{signal:a,searchParams:i,...await wM([r],o,n.headers)});await s.text()}),Cm=dY("ipfs-http-client:pubsub:subscribe"),Cw=(e,t)=>gC(e=>async function(r,n,i={}){let o,a;i.signal=t.subscribe(r,n,i.signal);let s=new Promise((e,t)=>{o=e,a=t}),u=setTimeout(()=>o(),1e3);return e.post("pubsub/sub",{signal:i.signal,searchParams:gP({arg:Cp(r),...i}),headers:i.headers}).catch(e=>{t.unsubscribe(r,n),a(e)}).then(e=>{clearTimeout(u),e&&(Cv(e,{onMessage:e=>{if(n){if("function"==typeof n){n(e);return}"function"==typeof n.handleEvent&&n.handleEvent(e)}},onEnd:()=>t.unsubscribe(r,n),onError:i.onError}),o())}),s})(e);async function Cv(e,{onMessage:t,onEnd:r,onError:n}){n=n||Cm;try{for await(let r of e.ndjson())try{if(!r.from)continue;t(null!=r.from&&null!=r.seqno?{type:"signed",from:wh(r.from),data:Ch(r.data),sequenceNumber:Cd(r.seqno),topic:Cf(r.topicIDs[0]),key:Ch(r.key??"u"),signature:Ch(r.signature??"u")}:{type:"unsigned",data:Ch(r.data),topic:Cf(r.topicIDs[0])})}catch(e){e.message=`Failed to parse pubsub message: ${e.message}`,n(e,!1,r)}}catch(e){CE(e)||n(e,!0)}finally{r()}}let CE=e=>{switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}},Cx=(e,t)=>async function(e,r){t.unsubscribe(e,r)};class CA{constructor(){this._subs=new Map}subscribe(e,t,r){let n=this._subs.get(e)||[];if(n.find(e=>e.handler===t))throw Error(`Already subscribed to ${e} with this handler`);let i=new AbortController;return this._subs.set(e,[{handler:t,controller:i}].concat(n)),r&&r.addEventListener("abort",()=>this.unsubscribe(e,t)),i.signal}unsubscribe(e,t){let r;let n=this._subs.get(e)||[];t?(this._subs.set(e,n.filter(e=>e.handler!==t)),r=n.filter(e=>e.handler===t)):(this._subs.set(e,[]),r=n),(this._subs.get(e)||[]).length||this._subs.delete(e),r.forEach(e=>e.controller.abort())}}function CC(e){let t=new CA;return{ls:Cb(e),peers:Cy(e),publish:Cg(e),subscribe:Cw(e,t),unsubscribe:Cx(e,t)}}let CS=gC(e=>async function*(t={}){let r=await e.post("refs/local",{signal:t.signal,transform:w5,searchParams:gP(t),headers:t.headers});yield*r.ndjson()}),CU=gC((e,t)=>Object.assign(async function*(t,r={}){let n=Array.isArray(t)?t:[t],i=await e.post("refs",{signal:r.signal,searchParams:gP({arg:n.map(e=>`${e instanceof Uint8Array?cs.decode(e):e}`),...r}),headers:r.headers,transform:w5});yield*i.ndjson()},{local:CS(t)})),CP=gC(e=>async function*(t={}){let r=await e.post("repo/gc",{signal:t.signal,searchParams:gP(t),headers:t.headers,transform:e=>({err:e.Error?Error(e.Error):null,cid:(e.Key||{})["/"]?cs.parse(e.Key["/"]):null})});yield*r.ndjson()}),CI=gC(e=>async function(t={}){let r=await e.post("repo/stat",{signal:t.signal,searchParams:gP(t),headers:t.headers}),n=await r.json();return{numObjects:BigInt(n.NumObjects),repoSize:BigInt(n.RepoSize),repoPath:n.RepoPath,version:n.Version,storageMax:BigInt(n.StorageMax)}}),Ck=gC(e=>async function(t={}){return(await (await e.post("repo/version",{signal:t.signal,searchParams:gP(t),headers:t.headers})).json()).Version});function CT(e){return{gc:CP(e),stat:CI(e),version:Ck(e)}}let CD=gC(e=>async function*(t={}){let r=await e.post("stats/bw",{signal:t.signal,searchParams:gP(t),headers:t.headers,transform:e=>({totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:parseFloat(e.RateIn),rateOut:parseFloat(e.RateOut)})});yield*r.ndjson()});function CN(e){return{bitswap:wb(e),repo:CI(e),bw:CD(e)}}let Cz=gC(e=>async function(t={}){let r=await e.post("swarm/addrs",{signal:t.signal,searchParams:gP(t),headers:t.headers}),{Addrs:n}=await r.json();return Object.keys(n).map(e=>({id:wh(e),addrs:(n[e]||[]).map(e=>dD(e))}))}),CB=gC(e=>async function(t,r={}){let n=await e.post("swarm/connect",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}),Cj=gC(e=>async function(t,r={}){let n=await e.post("swarm/disconnect",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}),C$=gC(e=>async function(t={}){let r=await e.post("swarm/addrs/local",{signal:t.signal,searchParams:gP(t),headers:t.headers}),{Strings:n}=await r.json();return(n||[]).map(e=>dD(e))}),CL=gC(e=>async function(t={}){let r=await e.post("swarm/peers",{signal:t.signal,searchParams:gP(t),headers:t.headers}),{Peers:n}=await r.json();return(n||[]).map(e=>({addr:dD(e.Addr),peer:wh(e.Peer),muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"}))});function CO(e){return{addrs:Cz(e),connect:CB(e),disconnect:Cj(e),localAddrs:C$(e),peers:CL(e)}}let CV=gC(e=>async function*(t,r={}){let n=new AbortController,i=wq(n.signal,r.signal),{headers:o,body:a,total:s,parts:u}=await wM(t,n,r.headers),[c,l]="function"==typeof r.progress?CR(s,u,r.progress):[void 0,void 0];for await(let t of(await e.post("add",{searchParams:gP({"stream-channels":!0,...r,progress:!!c}),onUploadProgress:l,signal:i,headers:o,body:a})).ndjson())void 0!==(t=w5(t)).hash?yield CF(t):c&&c(t.bytes||0,t.name)}),CR=(e,t,r)=>t?[void 0,CM(e,t,r)]:[r,void 0],CM=(e,t,r)=>{let n=0,i=t.length;return({loaded:o,total:a})=>{let s=Math.floor(o/a*e);for(;n<i;){let{start:e,end:i,name:o}=t[n];if(s<i){r(s-e,o);break}r(i-e,o),n+=1}}};function CF({name:e,hash:t,size:r,mode:n,mtime:i,mtimeNsecs:o}){let a={path:e,cid:cs.parse(t),size:parseInt(r)};return null!=n&&(a.mode=parseInt(n,8)),null!=i&&(a.mtime={secs:i,nsecs:o||0}),a}function C_(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}var Cq=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var b=u.repeat(r);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:f,decode:h}};new Uint8Array(0);let CH=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},CJ=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},CG=e=>new TextEncoder().encode(e),CW=e=>new TextDecoder().decode(e);class CK{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class CQ{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return CX(this,e)}}class CZ{constructor(e){this.decoders=e}or(e){return CX(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let CX=(e,t)=>new CZ({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class CY{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new CK(e,t,r),this.decoder=new CQ(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let C0=({name:e,prefix:t,encode:r,decode:n})=>new CY(e,t,r,n),C1=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=Cq(r,t);return C0({prefix:e,name:t,encode:n,decode:e=>CJ(i(e))})},C2=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},C5=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},C8=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>C0({prefix:t,name:e,encode:e=>C5(e,n,r),decode:t=>C2(t,n,r,e)}),C6=C1({prefix:"9",name:"base10",alphabet:"0123456789"}),C3=C8({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),C4=C8({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),C7=C8({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),C9=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),Se=C9.reduce((e,t,r)=>(e[r]=t,e),[]),St=C9.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),Sr=C0({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Se[t],"")},decode:function(e){let t=[];for(let r of e){let e=St[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),Sn=C8({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Si=C8({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),So=C8({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sa=C8({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ss=C8({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Su=C8({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Sc=C8({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Sl=C8({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Sf=C8({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Sh=C1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sd=C1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Sp=C1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sb=C1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Sy=C8({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Sg=C8({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Sm=C8({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Sw=C8({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Sv=C8({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),SE=C0({prefix:"\0",name:"identity",encode:e=>CW(e),decode:e=>CG(e)}),Sx=new TextEncoder,SA=new TextDecoder,SC="json",SS=512,SU=e=>Sx.encode(JSON.stringify(e)),SP=e=>JSON.parse(SA.decode(e)),SI="raw",Sk=85,ST=e=>CJ(e),SD=e=>CJ(e);var SN=128,Sz=-128,SB=2147483648;function Sj(e,t,r){t=t||[];for(var n=r=r||0;e>=SB;)t[r++]=255&e|SN,e/=128;for(;e&Sz;)t[r++]=255&e|SN,e>>>=7;return t[r]=0|e,Sj.bytes=r-n+1,t}var S$=128,SL=127;function SO(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw SO.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&SL)<<i:(r&SL)*Math.pow(2,i),i+=7}while(r>=S$);return SO.bytes=o-t,n}var SV=128,SR=16384,SM=2097152,SF=268435456,S_=34359738368,Sq=4398046511104,SH=562949953421312,SJ=72057594037927940,SG=0x7fffffffffffffff,SW=Sj,SK=SO,SQ=function(e){return e<SV?1:e<SR?2:e<SM?3:e<SF?4:e<S_?5:e<Sq?6:e<SH?7:e<SJ?8:e<SG?9:10};let SZ=(e,t=0)=>[SK(e,t),SK.bytes],SX=(e,t,r=0)=>(SW(e,t,r),t),SY=e=>SQ(e),S0=(e,t)=>{let r=t.byteLength,n=SY(e),i=n+SY(r),o=new Uint8Array(i+r);return SX(e,o,0),SX(r,o,n),o.set(t,i),new S5(e,r,t,o)},S1=e=>{let t=CJ(e),[r,n]=SZ(t),[i,o]=SZ(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new S5(r,i,a,t)},S2=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&CH(e.bytes,r.bytes)}};class S5{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let S8=0,S6=CJ,S3=e=>S0(S8,S6(e)),S4={code:S8,name:"identity",encode:S6,digest:S3},S7=({name:e,code:t,encode:r})=>new S9(e,t,r);class S9{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?S0(this.code,t):t.then(e=>S0(this.code,e))}throw Error("Unknown type, must be binary type")}}let Ue=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ut=S7({name:"sha2-256",code:18,encode:Ue("SHA-256")}),Ur=S7({name:"sha2-512",code:19,encode:Ue("SHA-512")}),Un=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?Uu(r,Uo(e),t||Sp.encoder):Uc(r,Uo(e),t||Sn.encoder)},Ui=new WeakMap,Uo=e=>{let t=Ui.get(e);if(null==t){let t=new Map;return Ui.set(e,t),t}return t};class Ua{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==Ul)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Uf)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ua.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=S0(e,t);return Ua.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Ua.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&S2(e.multihash,r.multihash)}toString(e){return Un(this,e)}toJSON(){return{"/":Un(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof Ua)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new Ua(e,r,n,i||Uh(e,r,n.bytes))}if(!0!==t[Ud])return null;{let{version:e,multihash:r,code:n}=t,i=S1(r);return Ua.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===Ul)return new Ua(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${Ul}) block encoding`);case 1:{let n=Uh(e,t,r.bytes);return new Ua(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return Ua.create(0,Ul,e)}static createV1(e,t){return Ua.create(1,e,t)}static decode(e){let[t,r]=Ua.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=Ua.inspectBytes(e),r=t.size-t.multihashSize,n=CJ(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new S5(t.multihashCode,t.digestSize,i,n);return[0===t.version?Ua.createV0(o):Ua.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=SZ(e.subarray(t));return t+=n,r},n=r(),i=Ul;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=Us(e,t),i=Ua.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return Uo(i).set(r,e),i}}let Us=(e,t)=>{switch(e[0]){case"Q":{let r=t||Sp;return[Sp.prefix,r.decode(`${Sp.prefix}${e}`)]}case Sp.prefix:{let r=t||Sp;return[Sp.prefix,r.decode(e)]}case Sn.prefix:{let r=t||Sn;return[Sn.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Uu=(e,t,r)=>{let{prefix:n}=r;if(n!==Sp.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},Uc=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},Ul=112,Uf=18,Uh=(e,t,r)=>{let n=SY(e),i=n+SY(t),o=new Uint8Array(i+r.byteLength);return SX(e,o,0),SX(t,o,n),o.set(r,i),o},Ud=Symbol.for("@ipld/js-cid/CID"),Up={...eQ,...e_,...eK,...eM,...eF,...eH,...eJ,...eG,...eW,...eq};function Ub(e=0){return globalThis.Buffer?.allocUnsafe!=null?C_(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Uy(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...e0,...eY});let Ug=Uy("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Um=Uy("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=Ub((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t});var Uw={utf8:Ug,"utf-8":Ug,hex:Up.base16,latin1:Um,ascii:Um,binary:Um,...Up};function Uv(e,t="utf8"){let r=Uw[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?C_(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function UE(e){return"function"==typeof e.stream?wE(e.stream()):wE(new Response(e).body)}async function*Ux(e){yield e}async function UA(e){if(wA(e))return Ux(UC(e));if("string"==typeof e||e instanceof String)return Ux(UC(e.toString()));if(wC(e))return UE(e);if(wU(e)&&(e=wE(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=wv(e),{value:r,done:n}=await t.peek();if(n)return Ux(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return Ux(Uint8Array.from(await wx(t)));if(wA(r)||"string"==typeof r||r instanceof String)return wk(t,UC)}throw dE(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function UC(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):Uv(e.toString())}async function*US(e,t){if(null==e)throw dE(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof e||e instanceof String){yield UU(e.toString(),t);return}if(wA(e)||wC(e)){yield UU(e,t);return}if(wU(e)&&(e=wE(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=wv(e),{value:n,done:i}=await r.peek();if(i){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||wA(n)||"string"==typeof n||n instanceof String){yield UU(r,t);return}throw dE(Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(wS(e)){yield UU(e,t);return}throw dE(Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function UU(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:wj(n),mtime:w$(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function UP(e){return US(e,UA)}function UI(e){let t=CV(e);return gC(()=>async function(e,r={}){return await EG(t(UP(e),r))})(e)}let Uk=gC(e=>async function*(t,r={}){let n=await e.post("cat",{signal:r.signal,searchParams:gP({arg:t.toString(),...r}),headers:r.headers});yield*n.iterator()}),UT=gC(e=>async(t={})=>(await e.post("commands",{signal:t.signal,searchParams:gP(t),headers:t.headers})).json()),UD=gC(e=>async(t,r={})=>{let n=await e.post("dns",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers});return(await n.json()).Path}),UN=gC(e=>()=>{let t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}}),Uz=gC(e=>async function*(t,r={}){let n={arg:`${t instanceof Uint8Array?cs.decode(t):t}`,...r};n.compressionLevel&&(n["compression-level"]=n.compressionLevel,delete n.compressionLevel);let i=await e.post("get",{signal:r.signal,searchParams:gP(n),headers:r.headers});yield*i.iterator()}),UB=gC(e=>async function(t={}){let r=await e.post("id",{signal:t.signal,searchParams:gP({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers}),n={...w5(await r.json())};return n.id=wh(n.id),n.addresses&&(n.addresses=n.addresses.map(e=>dD(e))),n}),Uj=e=>{let t=UB(e);return async function(e={}){let r=await t(e);return!!(r&&r.addresses&&r.addresses.length)}},U$=gC((e,t)=>async function*(r,n={}){let i=`${r instanceof Uint8Array?cs.decode(r):r}`;async function o(e){let r=e.Hash;if(r.includes("/")){let e=r.startsWith("/ipfs/")?r:`/ipfs/${r}`;r=(await xE(t)(e)).cid}else r=cs.parse(r);let n={name:e.Name,path:i+(e.Name?`/${e.Name}`:""),size:e.Size,cid:r,type:UL(e)};return e.Mode&&(n.mode=parseInt(e.Mode,8)),void 0!==e.Mtime&&null!==e.Mtime&&(n.mtime={secs:e.Mtime},void 0!==e.MtimeNsecs&&null!==e.MtimeNsecs&&(n.mtime.nsecs=e.MtimeNsecs)),n}for await(let t of(await e.post("ls",{signal:n.signal,searchParams:gP({arg:i,...n}),headers:n.headers})).ndjson()){if(!(t=t.Objects))throw Error("expected .Objects in results");if(!(t=t[0]))throw Error("expected one array in results.Objects");let e=t.Links;if(!Array.isArray(e))throw Error("expected one array in results.Objects[0].Links");if(!e.length){yield o(t);return}yield*e.map(o)}});function UL(e){switch(e.Type){case 1:case 5:return"dir";default:return"file"}}let UO=gC(e=>async function(t={}){let r=await e.post("dns",{signal:t.signal,searchParams:gP(t),headers:t.headers});return w5(await r.json())}),UV=gC(e=>async function*(t,r={}){let n=await e.post("ping",{signal:r.signal,searchParams:gP({arg:`${t}`,...r}),headers:r.headers,transform:w5});yield*n.ndjson()}),UR=gC(e=>async function(t,r={}){let n=await e.post("resolve",{signal:r.signal,searchParams:gP({arg:t,...r}),headers:r.headers}),{Path:i}=await n.json();return i}),UM=gC(e=>async(e={})=>{throw dE(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),UF=gC(e=>async function(t={}){let r=await e.post("shutdown",{signal:t.signal,searchParams:gP(t),headers:t.headers});await r.text()}),U_=gC(e=>async function(t={}){let r=await e.post("version",{signal:t.signal,searchParams:gP(t),headers:t.headers});return{...w5(await r.json()),"ipfs-http-client":"1.0.0"}});function Uq(e={}){let t={name:up.name,code:up.code,encode:e=>e,decode:e=>e},r=Object.values(cb);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach(e=>r.push(e));let n=new e2({bases:r,loadBase:e.ipld&&e.ipld.loadBase}),i=Object.values(cg);[s,u,c,l,t].concat(e.ipld&&e.ipld.codecs||[]).forEach(e=>i.push(e));let o=new e8({codecs:i,loadCodec:e.ipld&&e.ipld.loadCodec}),a=Object.values(cy);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach(e=>a.push(e));let f=new e3({hashers:a,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:UI(e),addAll:CV(e),bitswap:wm(e),block:wK(e),bootstrap:w1(e),cat:Uk(e),commands:UT(e),config:E_(e),dag:EX(o,e),dht:xo(e),diag:xc(e),dns:UD(e),files:xS(e),get:Uz(e),getEndpointConfig:UN(e),id:UB(e),isOnline:Uj(e),key:xz(e),log:xL(e),ls:U$(e),mount:UO(e),name:xq(e),object:x2(o,e),pin:Cc(e),ping:UV(e),pubsub:CC(e),refs:CU(e),repo:CT(e),resolve:UR(e),start:UM(e),stats:CN(e),stop:UF(e),swarm:CO(e),version:U_(e),bases:n,codecs:o,hashers:f}}r(3897),r(3292)}}]);