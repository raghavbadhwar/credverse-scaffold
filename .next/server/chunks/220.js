"use strict";exports.id=220,exports.ids=[220],exports.modules={5712:(e,t,r)=>{r.d(t,{R:()=>S});var n=r(5467),s=r(2516),i=r(3367),a=r(1112),o=r(8424);class l extends s.XI{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=o._.dereference(t,"string");try{r=(0,i.K)(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return(0,i.K)((0,a.m9)(e.readValue(),20))}}var u=r(3791);class c extends s.XI{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function h(e,t,r){let i=[];if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let e={};i=t.map(t=>{let s=t.localName;return(0,n.hu)(s,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),(0,n.hu)(!e[s],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[s]=!0,r[s]})}else(0,n.en)(!1,"invalid tuple value","tuple",r);(0,n.en)(t.length===i.length,"types/value length mismatch","tuple",r);let a=new s.QV,o=new s.QV,l=[];return t.forEach((e,t)=>{let r=i[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=a.writeUpdatableValue();l.push(e=>{n(e+t)})}else e.encode(a,r)}),l.forEach(e=>{e(a.length)}),e.appendWriter(a)+e.appendWriter(o)}function f(e,t){let r=[],i=[],a=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let r=e.readIndex(),i=a.subReader(r);try{s=t.decode(i)}catch(e){if((0,n.VZ)(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if((0,n.VZ)(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw Error("investigate");r.push(s),i.push(t.localName||null)}),s.x4.fromItems(r,i)}class d extends s.XI{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),(0,u.h)(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=o._.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;-1===s&&(s=r.length,e.writeValue(r.length)),(0,n.fG)(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return h(e,i,r)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),(0,n.hu)(t*s.Bx<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*s.Bx,length:e.dataLength}));let r=[];for(let e=0;e<t;e++)r.push(new c(this.coder));return f(e,r)}}class p extends s.XI{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=o._.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}var g=r(9349);class A extends s.XI{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=(0,g.h_)(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class m extends A{constructor(e){super("bytes",e)}decode(e){return(0,g.Dv)(super.decode(e))}}class y extends s.XI{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),(0,u.h)(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,g.h_)(o._.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return(0,g.Dv)(e.readBytes(this.size))}}let w=new Uint8Array([]);class b extends s.XI{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(w)}decode(e){return e.readBytes(0),null}}let v=BigInt(0),E=BigInt(1),k=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class C extends s.XI{size;signed;constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),(0,u.h)(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=(0,a.yT)(o._.dereference(t,this.type)),n=(0,a.sS)(k,8*s.Bx);if(this.signed){let e=(0,a.sS)(n,8*this.size-1);(r>e||r<-(e+E))&&this._throwError("value out-of-bounds",t),r=(0,a.$j)(r,8*s.Bx)}else(r<v||r>(0,a.sS)(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=(0,a.sS)(e.readValue(),8*this.size);return this.signed&&(t=(0,a._Y)(t,8*this.size)),t}}var N=r(4251);class R extends A{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,N.Y0)(o._.dereference(t,"string")))}decode(e){return(0,N.ZN)(super.decode(e))}}class O extends s.XI{coders;constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),(0,u.h)(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let s=r.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[n]))}),Object.freeze(e)}encode(e,t){let r=o._.dereference(t,"tuple");return h(e,this.coders,r)}decode(e){return f(e,this.coders)}}var D=r(4820);let T=new Map;T.set(0,"GENERIC_PANIC"),T.set(1,"ASSERT_FALSE"),T.set(17,"OVERFLOW"),T.set(18,"DIVIDE_BY_ZERO"),T.set(33,"ENUM_RANGE_ERROR"),T.set(34,"BAD_STORAGE_DATA"),T.set(49,"STACK_UNDERFLOW"),T.set(50,"ARRAY_RANGE_ERROR"),T.set(65,"OUT_OF_MEMORY"),T.set(81,"UNINITIALIZED_FUNCTION_CALL");let B=new RegExp(/^bytes([0-9]*)$/),x=new RegExp(/^(u?int)([0-9]*)$/),I=null,P=1024;class S{#e(e){if(e.isArray())return new d(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new O(e.components.map(e=>this.#e(e)),e.name);switch(e.baseType){case"address":return new l(e.name);case"bool":return new p(e.name);case"string":return new R(e.name);case"bytes":return new m(e.name);case"":return new b(e.name)}let t=e.type.match(x);if(t){let r=parseInt(t[2]||"256");return(0,n.en)(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new C(r/8,"int"===t[1],e.name)}if(t=e.type.match(B)){let r=parseInt(t[1]);return(0,n.en)(0!==r&&r<=32,"invalid bytes length","param",e),new y(r,e.name)}(0,n.en)(!1,"invalid type","type",e.type)}getDefaultValue(e){return new O(e.map(e=>this.#e(D._R.from(e))),"_").defaultValue()}encode(e,t){(0,n.fG)(t.length,e.length,"types/values length mismatch");let r=new O(e.map(e=>this.#e(D._R.from(e))),"_"),i=new s.QV;return r.encode(i,t),i.data}decode(e,t,r){return new O(e.map(e=>this.#e(D._R.from(e))),"_").decode(new s.Ej(t,r,P))}static _setDefaultMaxInflation(e){(0,n.en)("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),P=e}static defaultAbiCoder(){return null==I&&(I=new S),I}static getBuiltinCallException(e,t,r){return function(e,t,r,s){let a="missing revert data",o=null,l=null;if(r){a="execution reverted";let e=(0,g.Pw)(r);if(r=(0,g.Dv)(r),0===e.length)a+=" (no data present; likely require(false) occurred",o="require(false)";else if(e.length%32!=4)a+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,g.Dv)(e.slice(0,4)))try{o=s.decode(["string"],e.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[o]},a+=`: ${JSON.stringify(o)}`}catch(e){a+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,g.Dv)(e.slice(0,4)))try{let t=Number(s.decode(["uint256"],e.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[t]},o=`Panic due to ${T.get(t)||"UNKNOWN"}(${t})`,a+=`: ${o}`}catch(e){a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}let u={to:t.to?(0,i.K)(t.to):null,data:t.data||"0x"};return t.from&&(u.from=(0,i.K)(t.from)),(0,n.wf)(a,"CALL_EXCEPTION",{action:e,data:r,reason:o,transaction:u,invocation:null,revert:l})}(e,t,r,S.defaultAbiCoder())}}},2516:(e,t,r)=>{r.d(t,{Bx:()=>o,Ej:()=>y,QV:()=>m,XI:()=>A,x4:()=>p});var n=r(1112),s=r(5467),i=r(9349),a=r(3791);let o=32,l=new Uint8Array(32),u=["then"],c={},h=new WeakMap;function f(e){return h.get(e)}function d(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class p extends Array{#t;constructor(...e){var t,r;let s=e[0],i=e[1],a=(e[2]||[]).slice(),o=!0;s!==c&&(i=e,a=[],o=!1),super(i.length),i.forEach((e,t)=>{this[t]=e});let l=a.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(t=Object.freeze(i.map((e,t)=>{let r=a[t];return null!=r&&1===l.get(r)?r:null})),h.set(this,t),this.#t=[],null==this.#t&&this.#t,!o)return;Object.freeze(this);let p=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=(0,n.Dx)(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let s=e[r];return s instanceof Error&&d(`index ${r}`,s),s}if(u.indexOf(t)>=0)return Reflect.get(e,t,r);let s=e[t];if(s instanceof Function)return function(...t){return s.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return r=f(this),h.set(p,r),p}toArray(e){let t=[];return this.forEach((r,n)=>{r instanceof Error&&d(`index ${n}`,r),e&&r instanceof p&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=f(this);return t.reduce((r,n,i)=>((0,s.hu)(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function e(t,r,n){return t.indexOf(null)>=0?r.map((t,r)=>t instanceof p?e(f(t),t,n):t):t.reduce((t,s,i)=>{let a=r.getValue(s);return s in t||(n&&a instanceof p&&(a=e(f(a),a,n)),t[s]=a),t},{})}(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=f(this),n=[],s=[];for(let i=e;i<t;i++)n.push(this[i]),s.push(r[i]);return new p(c,n,s)}filter(e,t){let r=f(this),n=[],s=[];for(let i=0;i<this.length;i++){let a=this[i];a instanceof Error&&d(`index ${i}`,a),e.call(t,a,i,this)&&(n.push(a),s.push(r[i]))}return new p(c,n,s)}map(e,t){let r=[];for(let n=0;n<this.length;n++){let s=this[n];s instanceof Error&&d(`index ${n}`,s),r.push(e.call(t,s,n,this))}return r}getValue(e){let t=f(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&d(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new p(c,e,t)}}function g(e){let t=(0,n.ot)(e);return(0,s.hu)(t.length<=o,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:o,offset:t.length}),t.length!==o&&(t=(0,i.h_)((0,i.zo)([l.slice(t.length%o),t]))),t}class A{name;type;localName;dynamic;constructor(e,t,r,n){(0,a.h)(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,s.en)(!1,e,this.localName,t)}}class m{#r;#n;constructor(){this.#r=[],this.#n=0}get data(){return(0,i.zo)(this.#r)}get length(){return this.#n}#s(e){return this.#r.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#s((0,i.h_)(e.data))}writeBytes(e){let t=(0,i.h_)(e),r=t.length%o;return r&&(t=(0,i.h_)((0,i.zo)([t,l.slice(r)]))),this.#s(t)}writeValue(e){return this.#s(g(e))}writeUpdatableValue(){let e=this.#r.length;return this.#r.push(l),this.#n+=o,t=>{this.#r[e]=g(t)}}}class y{allowLoose;#r;#i;#a;#o;#l;constructor(e,t,r){(0,a.h)(this,{allowLoose:!!t}),this.#r=(0,i.h_)(e),this.#a=0,this.#o=null,this.#l=null!=r?r:1024,this.#i=0}get data(){return(0,i.Dv)(this.#r)}get dataLength(){return this.#r.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#r)}#u(e){if(this.#o)return this.#o.#u(e);this.#a+=e,(0,s.hu)(this.#l<1||this.#a<=this.#l*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#l} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,i.h_)(this.#r),offset:this.#i,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#c(e,t,r){let n=Math.ceil(t/o)*o;return this.#i+n>this.#r.length&&(this.allowLoose&&r&&this.#i+t<=this.#r.length?n=t:(0,s.hu)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,i.h_)(this.#r),length:this.#r.length,offset:this.#i+n})),this.#r.slice(this.#i,this.#i+n)}subReader(e){let t=new y(this.#r.slice(this.#i+e),this.allowLoose,this.#l);return t.#o=this,t}readBytes(e,t){let r=this.#c(0,e,!!t);return this.#u(e),this.#i+=r.length,r.slice(0,e)}readValue(){return(0,n.Gh)(this.readBytes(o))}readIndex(){return(0,n.He)(this.readBytes(o))}}},4820:(e,t,r)=>{r.d(t,{HY:()=>G,IC:()=>K,QV:()=>_,Xg:()=>Z,YW:()=>q,_R:()=>J});var n=r(1112),s=r(5467),i=r(3791),a=r(7085);function o(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}let l=o("external public payable override".split(" ")),u="constant external internal payable private public pure view override",c=o(u.split(" ")),h="constructor error event fallback function receive struct",f=o(h.split(" ")),d="calldata memory storage payable indexed",p=o(d.split(" ")),g=o([h,d,"tuple returns",u].join(" ").split(" ")),A={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},m=RegExp("^(\\s*)"),y=RegExp("^([0-9]+)"),w=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),b=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),v=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class E{#i;#h;get offset(){return this.#i}get length(){return this.#h.length-this.#i}constructor(e){this.#i=0,this.#h=e.slice()}clone(){return new E(this.#h)}reset(){this.#i=0}#f(e=0,t=0){return new E(this.#h.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#f(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#i<e.match-1;){let e=this.peek().linkNext;t.push(this.#f(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#h.length)throw Error("out-of-bounds");return this.#h[this.#i]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#i++,e}toString(){let e=[];for(let t=this.#i;t<this.#h.length;t++){let r=this.#h[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function k(e){let t=[],r=t=>{let r=a<e.length?JSON.stringify(e[a]):"$EOI";throw Error(`invalid token ${r} at ${a}: ${t}`)},s=[],i=[],a=0;for(;a<e.length;){let o=e.substring(a),l=o.match(m);l&&(a+=l[1].length,o=e.substring(a));let u={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(u);let c=A[o[0]]||"";if(c){if(u.type=c,u.text=o[0],a++,"OPEN_PAREN"===c)s.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==c)0===s.length&&r("no matching open bracket"),u.match=s.pop(),t[u.match].match=t.length-1,u.depth--,u.linkBack=i.pop(),t[u.linkBack].linkNext=t.length-1;else if("COMMA"===c)u.linkBack=i.pop(),t[u.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===c)u.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=(0,n.Dx)(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(l=o.match(w)){if(u.text=l[1],a+=u.text.length,g.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(v)){u.type="TYPE";continue}u.type="ID";continue}if(l=o.match(y)){u.text=l[1],u.type="NUMBER",a+=u.text.length;continue}throw Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`)}return new E(t.map(e=>Object.freeze(e)))}function C(e,t){let r=[];for(let n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function N(e,t){if(t.peekKeyword(f)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function R(e,t){let r=new Set;for(;;){let n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function O(e){let t=R(e,c);return(C(t,o("constant payable nonpayable".split(" "))),C(t,o("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function D(e,t){return e.popParams().map(e=>J.from(e,t))}function T(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return(0,n.yT)(e.pop().text);throw Error("invalid gas")}return null}function B(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let x=new RegExp(/^(.*)\[([0-9]*)\]$/);function I(e){let t=e.match(v);if((0,s.en)(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);(0,s.en)(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);(0,s.en)(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let P={},S=Symbol.for("_ethers_internal"),F="_ParamTypeInternal",M="_ErrorInternal",U="_EventInternal",Q="_ConstructorInternal",L="_FallbackInternal",V="_FunctionInternal",j="_StructInternal";class J{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,a,o,l,u){if((0,s.NK)(e,P,"ParamType"),Object.defineProperty(this,S,{value:F}),o&&(o=Object.freeze(o.slice())),"array"===n){if(null==l||null==u)throw Error("")}else if(null!=l||null!=u)throw Error("");if("tuple"===n){if(null==o)throw Error("")}else if(null!=o)throw Error("");(0,i.h)(this,{name:t,type:r,baseType:n,indexed:a,components:o,arrayLength:l,arrayChildren:u})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?t+=this.arrayChildren.format(e)+`[${this.arrayLength<0?"":String(this.arrayLength)}]`:this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,n)=>r.components[n].walk(e,t))}return t(this.type,e)}#d(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let s=this.arrayChildren,i=t.slice();i.forEach((t,n)=>{s.#d(e,t,r,e=>{i[n]=e})}),n(i);return}if(this.isTuple()){let s;let i=this.components;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");s=i.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(s.length!==this.components.length)throw Error("array is wrong length");s.forEach((t,n)=>{i[n].#d(e,t,r,e=>{s[n]=e})}),n(s);return}let s=r(this.type,t);s.then?e.push(async function(){n(await s)}()):n(s)}async walkAsync(e,t){let r=[],n=[e];return this.#d(r,e,t,e=>{n[0]=e}),r.length&&await Promise.all(r),n[0]}static from(e,t){if(J.isParamType(e))return e;if("string"==typeof e)try{return J.from(k(e),t)}catch(t){(0,s.en)(!1,"invalid param type","obj",e)}else if(e instanceof E){let r="",n="",s=null;R(e,o(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",s=e.popParams().map(e=>J.from(e)),r=`tuple(${s.map(e=>e.format()).join(",")})`):n=r=I(e.popType("TYPE"));let i=null,a=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();i=new J(P,"",r,n,null,s,a,i),a=t.value,r+=t.text,n="array",s=null}let l=null;if(R(e,p).has("indexed")){if(!t)throw Error("");l=!0}let u=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new J(P,u,r,n,l,s,a,i)}let r=e.name;(0,s.en)(!r||"string"==typeof r&&r.match(b),"invalid name","obj.name",r);let n=e.indexed;null!=n&&((0,s.en)(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,a=i.match(x);if(a){let t=parseInt(a[2]||"-1"),s=J.from({type:a[1],components:e.components});return new J(P,r||"",i,"array",n,null,t,s)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){let t=null!=e.components?e.components.map(e=>J.from(e)):null;return new J(P,r||"",i,"tuple",n,t,null,null)}return new J(P,r||"",i=I(e.type),i,n,null,null,null)}static isParamType(e){return e&&e[S]===F}}class G{type;inputs;constructor(e,t,r){(0,s.NK)(e,P,"Fragment"),r=Object.freeze(r.slice()),(0,i.h)(this,{type:t,inputs:r})}static from(e){if("string"==typeof e){try{G.from(JSON.parse(e))}catch(e){}return G.from(k(e))}if(e instanceof E)switch(e.peekKeyword(f)){case"constructor":return Z.from(e);case"error":return K.from(e);case"event":return _.from(e);case"fallback":case"receive":return Y.from(e);case"function":return q.from(e);case"struct":return W.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return Z.from(e);case"error":return K.from(e);case"event":return _.from(e);case"fallback":case"receive":return Y.from(e);case"function":return q.from(e);case"struct":return W.from(e)}(0,s.hu)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,s.en)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Z.isFragment(e)}static isError(e){return K.isFragment(e)}static isEvent(e){return _.isFragment(e)}static isFunction(e){return q.isFragment(e)}static isStruct(e){return W.isFragment(e)}}class H extends G{name;constructor(e,t,r,n){super(e,t,n),(0,s.en)("string"==typeof r&&r.match(b),"invalid identifier","name",r),n=Object.freeze(n.slice()),(0,i.h)(this,{name:r})}}function z(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class K extends H{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,S,{value:M})}get selector(){return(0,a.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+z(e,this.inputs)),t.join(" ")}static from(e){if(K.isFragment(e))return e;if("string"==typeof e)return K.from(k(e));if(e instanceof E){let t=N("error",e),r=D(e);return B(e),new K(P,t,r)}return new K(P,e.name,e.inputs?e.inputs.map(J.from):[])}static isFragment(e){return e&&e[S]===M}}class _ extends H{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,S,{value:U}),(0,i.h)(this,{anonymous:n})}get topicHash(){return(0,a.id)(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+z(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new _(P,e,t=(t||[]).map(e=>J.from(e)),!1).topicHash}static from(e){if(_.isFragment(e))return e;if("string"==typeof e)try{return _.from(k(e))}catch(t){(0,s.en)(!1,"invalid event fragment","obj",e)}else if(e instanceof E){let t=N("event",e),r=D(e,!0),n=!!R(e,o(["anonymous"])).has("anonymous");return B(e),new _(P,t,r,n)}return new _(P,e.name,e.inputs?e.inputs.map(e=>J.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[S]===U}}class Z extends G{payable;gas;constructor(e,t,r,n,s){super(e,t,r),Object.defineProperty(this,S,{value:Q}),(0,i.h)(this,{payable:n,gas:s})}format(e){if((0,s.hu)(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${z(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Z.isFragment(e))return e;if("string"==typeof e)try{return Z.from(k(e))}catch(t){(0,s.en)(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof E){R(e,o(["constructor"]));let t=D(e),r=!!R(e,l).has("payable"),n=T(e);return B(e),new Z(P,"constructor",t,r,n)}return new Z(P,"constructor",e.inputs?e.inputs.map(J.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[S]===Q}}class Y extends G{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,S,{value:L}),(0,i.h)(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(Y.isFragment(e))return e;if("string"==typeof e)try{return Y.from(k(e))}catch(t){(0,s.en)(!1,"invalid fallback fragment","obj",e)}else if(e instanceof E){let t=e.toString(),r=e.peekKeyword(o(["fallback","receive"]));if((0,s.en)(r,"type must be fallback or receive","obj",t),"receive"===e.popKeyword(o(["fallback","receive"]))){let t=D(e);return(0,s.en)(0===t.length,"receive cannot have arguments","obj.inputs",t),R(e,o(["payable"])),B(e),new Y(P,[],!0)}let n=D(e);n.length?(0,s.en)(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map(e=>e.format("minimal")).join(", ")):n=[J.from("bytes")];let i=O(e);if((0,s.en)("nonpayable"===i||"payable"===i,"fallback cannot be constants","obj.stateMutability",i),R(e,o(["returns"])).has("returns")){let t=D(e);(0,s.en)(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return B(e),new Y(P,n,"payable"===i)}return"receive"===e.type?new Y(P,[],!0):"fallback"===e.type?new Y(P,[J.from("bytes")],"payable"===e.stateMutability):void(0,s.en)(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[S]===L}}class q extends H{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,s,a){super(e,"function",t,n),Object.defineProperty(this,S,{value:V}),s=Object.freeze(s.slice()),(0,i.h)(this,{constant:"view"===r||"pure"===r,gas:a,outputs:s,payable:"payable"===r,stateMutability:r})}get selector(){return(0,a.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+z(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(z(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new q(P,e,"view",t=(t||[]).map(e=>J.from(e)),[],null).selector}static from(e){if(q.isFragment(e))return e;if("string"==typeof e)try{return q.from(k(e))}catch(t){(0,s.en)(!1,"invalid function fragment","obj",e)}else if(e instanceof E){let t=N("function",e),r=D(e),n=O(e),s=[];R(e,o(["returns"])).has("returns")&&(s=D(e));let i=T(e);return B(e),new q(P,t,n,r,s,i)}let t=e.stateMutability;return null!=t||(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new q(P,e.name,t,e.inputs?e.inputs.map(J.from):[],e.outputs?e.outputs.map(J.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[S]===V}}class W extends H{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,S,{value:j})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return W.from(k(e))}catch(t){(0,s.en)(!1,"invalid struct fragment","obj",e)}else if(e instanceof E){let t=N("struct",e),r=D(e);return B(e),new W(P,t,r)}return new W(P,e.name,e.inputs?e.inputs.map(J.from):[])}static isFragment(e){return e&&e[S]===j}}},8424:(e,t,r)=>{r.d(t,{_:()=>u});var n=r(5467),s=r(3791);let i={};function a(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new u(i,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function o(e,t){return new u(i,`bytes${t||""}`,e,{size:t})}let l=Symbol.for("_ethers_typed");class u{type;value;#p;_typedSymbol;constructor(e,t,r,a){null==a&&(a=null),(0,n.NK)(i,e,"Typed"),(0,s.h)(this,{_typedSymbol:l,type:t,value:r}),this.#p=a,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#p}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#p?-1:!1===this.#p?this.value.length:null}static from(e,t){return new u(i,e,t)}static uint8(e){return a(e,8)}static uint16(e){return a(e,16)}static uint24(e){return a(e,24)}static uint32(e){return a(e,32)}static uint40(e){return a(e,40)}static uint48(e){return a(e,48)}static uint56(e){return a(e,56)}static uint64(e){return a(e,64)}static uint72(e){return a(e,72)}static uint80(e){return a(e,80)}static uint88(e){return a(e,88)}static uint96(e){return a(e,96)}static uint104(e){return a(e,104)}static uint112(e){return a(e,112)}static uint120(e){return a(e,120)}static uint128(e){return a(e,128)}static uint136(e){return a(e,136)}static uint144(e){return a(e,144)}static uint152(e){return a(e,152)}static uint160(e){return a(e,160)}static uint168(e){return a(e,168)}static uint176(e){return a(e,176)}static uint184(e){return a(e,184)}static uint192(e){return a(e,192)}static uint200(e){return a(e,200)}static uint208(e){return a(e,208)}static uint216(e){return a(e,216)}static uint224(e){return a(e,224)}static uint232(e){return a(e,232)}static uint240(e){return a(e,240)}static uint248(e){return a(e,248)}static uint256(e){return a(e,256)}static uint(e){return a(e,256)}static int8(e){return a(e,-8)}static int16(e){return a(e,-16)}static int24(e){return a(e,-24)}static int32(e){return a(e,-32)}static int40(e){return a(e,-40)}static int48(e){return a(e,-48)}static int56(e){return a(e,-56)}static int64(e){return a(e,-64)}static int72(e){return a(e,-72)}static int80(e){return a(e,-80)}static int88(e){return a(e,-88)}static int96(e){return a(e,-96)}static int104(e){return a(e,-104)}static int112(e){return a(e,-112)}static int120(e){return a(e,-120)}static int128(e){return a(e,-128)}static int136(e){return a(e,-136)}static int144(e){return a(e,-144)}static int152(e){return a(e,-152)}static int160(e){return a(e,-160)}static int168(e){return a(e,-168)}static int176(e){return a(e,-176)}static int184(e){return a(e,-184)}static int192(e){return a(e,-192)}static int200(e){return a(e,-200)}static int208(e){return a(e,-208)}static int216(e){return a(e,-216)}static int224(e){return a(e,-224)}static int232(e){return a(e,-232)}static int240(e){return a(e,-240)}static int248(e){return a(e,-248)}static int256(e){return a(e,-256)}static int(e){return a(e,-256)}static bytes1(e){return o(e,1)}static bytes2(e){return o(e,2)}static bytes3(e){return o(e,3)}static bytes4(e){return o(e,4)}static bytes5(e){return o(e,5)}static bytes6(e){return o(e,6)}static bytes7(e){return o(e,7)}static bytes8(e){return o(e,8)}static bytes9(e){return o(e,9)}static bytes10(e){return o(e,10)}static bytes11(e){return o(e,11)}static bytes12(e){return o(e,12)}static bytes13(e){return o(e,13)}static bytes14(e){return o(e,14)}static bytes15(e){return o(e,15)}static bytes16(e){return o(e,16)}static bytes17(e){return o(e,17)}static bytes18(e){return o(e,18)}static bytes19(e){return o(e,19)}static bytes20(e){return o(e,20)}static bytes21(e){return o(e,21)}static bytes22(e){return o(e,22)}static bytes23(e){return o(e,23)}static bytes24(e){return o(e,24)}static bytes25(e){return o(e,25)}static bytes26(e){return o(e,26)}static bytes27(e){return o(e,27)}static bytes28(e){return o(e,28)}static bytes29(e){return o(e,29)}static bytes30(e){return o(e,30)}static bytes31(e){return o(e,31)}static bytes32(e){return o(e,32)}static address(e){return new u(i,"address",e)}static bool(e){return new u(i,"bool",!!e)}static bytes(e){return new u(i,"bytes",e)}static string(e){return new u(i,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new u(i,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===l}static dereference(e,t){if(u.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}},1389:(e,t,r)=>{r.d(t,{CH:()=>X});var n=r(8424),s=r(2428),i=r(7085),a=r(3791),o=r(5467),l=r(9349),u=r(1112),c=r(5712),h=r(2516),f=r(4820);class d{fragment;name;signature;topic;args;constructor(e,t,r){let n=e.name,s=e.format();(0,a.h)(this,{fragment:e,name:n,signature:s,topic:t,args:r})}}class p{fragment;name;args;signature;selector;value;constructor(e,t,r,n){let s=e.name,i=e.format();(0,a.h)(this,{fragment:e,name:s,args:r,signature:i,selector:t,value:n})}}class g{fragment;name;args;signature;selector;constructor(e,t,r){let n=e.name,s=e.format();(0,a.h)(this,{fragment:e,name:n,args:r,signature:s,selector:t})}}class A{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){(0,a.h)(this,{hash:e,_isIndexed:!0})}}let m={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},y={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&m[e.toString()]&&(t=m[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class w{fragments;deploy;fallback;receive;#g;#A;#m;#y;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#m=new Map,this.#g=new Map,this.#A=new Map;let r=[];for(let e of t)try{r.push(f.HY.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}(0,a.h)(this,{fragments:Object.freeze(r)});let n=null,s=!1;this.#y=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,a.h)(this,{deploy:e});return;case"fallback":0===e.inputs.length?s=!0:((0,o.en)(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),s=(n=e).payable);return;case"function":r=this.#m;break;case"event":r=this.#A;break;case"error":r=this.#g;break;default:return}let i=e.format();r.has(i)||r.set(i,e)}),this.deploy||(0,a.h)(this,{deploy:f.Xg.from("constructor()")}),(0,a.h)(this,{fallback:n,receive:s})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return c.R.defaultAbiCoder()}#w(e,t,r){if((0,l.A7)(e)){let t=e.toLowerCase();for(let e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let s=[];for(let[t,r]of this.#m)t.split("(")[0]===e&&s.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,i=!0;n._.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=s.length-1;e>=0;e--){let t=s[e].inputs.length;t===r||i&&t===r-1||s.splice(e,1)}for(let e=s.length-1;e>=0;e--){let r=s[e].inputs;for(let i=0;i<t.length;i++)if(n._.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;s.splice(e,1);break}if(t[i].type!==r[i].baseType){s.splice(e,1);break}}}}if(1===s.length&&t&&t.length!==s[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&s.splice(0,1)}if(0===s.length)return null;if(s.length>1&&r){let t=s.map(e=>JSON.stringify(e.format())).join(", ");(0,o.en)(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return s[0]}return this.#m.get(f.YW.from(e).format())||null}getFunctionName(e){let t=this.#w(e,null,!1);return(0,o.en)(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#w(e,null,!1)}getFunction(e,t){return this.#w(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#m.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#m.get(n),r)}}#b(e,t,r){if((0,l.A7)(e)){let t=e.toLowerCase();for(let e of this.#A.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let s=[];for(let[t,r]of this.#A)t.split("(")[0]===e&&s.push(r);if(t){for(let e=s.length-1;e>=0;e--)s[e].inputs.length<t.length&&s.splice(e,1);for(let e=s.length-1;e>=0;e--){let r=s[e].inputs;for(let i=0;i<t.length;i++)if(n._.isTyped(t[i])&&t[i].type!==r[i].baseType){s.splice(e,1);break}}}if(0===s.length)return null;if(s.length>1&&r){let t=s.map(e=>JSON.stringify(e.format())).join(", ");(0,o.en)(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return s[0]}return this.#A.get(f.QV.from(e).format())||null}getEventName(e){let t=this.#b(e,null,!1);return(0,o.en)(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#b(e,null,!1)}getEvent(e,t){return this.#b(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#A.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#A.get(n),r)}}getError(e,t){if((0,l.A7)(e)){let t=e.toLowerCase();if(y[t])return f.IC.from(y[t].signature);for(let e of this.#g.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,n]of this.#g)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?f.IC.from("error Error(string)"):"Panic"===e?f.IC.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");(0,o.en)(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}return"Error(string)"===(e=f.IC.from(e).format())?f.IC.from("error Error(string)"):"Panic(uint256)"===e?f.IC.from("error Panic(uint256)"):this.#g.get(e)||null}forEachError(e){let t=Array.from(this.#g.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#g.get(n),r)}}_decodeParams(e,t){return this.#y.decode(e,t)}_encodeParams(e,t){return this.#y.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);(0,o.en)(t,"unknown error","fragment",e),e=t}return(0,o.en)((0,l.QB)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,l.QB)(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);(0,o.en)(t,"unknown error","fragment",e),e=t}return(0,l.zo)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}return(0,o.en)((0,l.QB)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,l.QB)(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}return(0,l.zo)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",n=(0,l.h_)(t);if(n.length%32==0)try{return this.#y.decode(e.outputs,n)}catch(e){r="could not decode result data"}(0,o.hu)(!1,r,"BAD_DATA",{value:(0,l.Dv)(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=(0,l.Pw)(e,"data"),n=c.R.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){let e=(0,l.Dv)(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#y.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}let s=this.parseTransaction(t);return s&&(n.invocation={method:s.name,signature:s.signature,args:s.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}return(0,l.Dv)(this.#y.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);(0,o.en)(t,"unknown event","eventFragment",e),e=t}(0,o.hu)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let n=(e,t)=>"string"===e.type?(0,i.id)(t):"bytes"===e.type?(0,s.w)((0,l.Dv)(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=(0,u.m9)(t):e.type.match(/^bytes/)?t=(0,l.SK)(t,32):"address"===e.type&&this.#y.encode(["address"],[t]),(0,l.U3)((0,l.Dv)(t),32));for(t.forEach((t,s)=>{let i=e.inputs[s];if(!i.indexed){(0,o.en)(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t);return}null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?(0,o.en)(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map(e=>n(i,e))):r.push(n(i,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);(0,o.en)(t,"unknown event","eventFragment",e),e=t}let r=[],n=[],a=[];return e.anonymous||r.push(e.topicHash),(0,o.en)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,o)=>{let l=t[o];if(e.indexed){if("string"===e.type)r.push((0,i.id)(l));else if("bytes"===e.type)r.push((0,s.w)(l));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#y.encode([e.type],[l]))}else n.push(e),a.push(l)}),{data:this.#y.encode(n,a),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);(0,o.en)(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;(0,o.en)((0,l.A7)(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let n=[],s=[],i=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(f._R.from({type:"bytes32",name:e.name})),i.push(!0)):(n.push(e),i.push(!1)):(s.push(e),i.push(!1))});let a=null!=r?this.#y.decode(n,(0,l.zo)(r)):null,u=this.#y.decode(s,t,!0),c=[],d=[],p=0,g=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed){if(null==a)r=new A(null);else if(i[t])r=new A(a[g++]);else try{r=a[g++]}catch(e){r=e}}else try{r=u[p++]}catch(e){r=e}c.push(r),d.push(e.name||null)}),h.x4.fromItems(c,d)}parseTransaction(e){let t=(0,l.Pw)(e.data,"tx.data"),r=(0,u.yT)(null!=e.value?e.value:0,"tx.value"),n=this.getFunction((0,l.Dv)(t.slice(0,4)));if(!n)return null;let s=this.#y.decode(n.inputs,t.slice(4));return new p(n,n.selector,s,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new d(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=(0,l.Dv)(e),r=this.getError((0,l.QB)(t,0,4));if(!r)return null;let n=this.#y.decode(r.inputs,(0,l.QB)(t,4));return new g(r,r.selector,n)}static from(e){return e instanceof w?e:new w("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}}var b=r(6687),v=r(5215),E=r(8721);class k extends v.Zb{interface;fragment;args;constructor(e,t,r){super(e,e.provider);let n=t.decodeEventLog(r,e.data,e.topics);(0,a.h)(this,{args:n,fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class C extends v.Zb{error;constructor(e,t){super(e,e.provider),(0,a.h)(this,{error:t})}}class N extends v.IX{#v;constructor(e,t,r){super(r,t),this.#v=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#v.getEvent(e.topics[0]):null;if(t)try{return new k(e,this.#v,t)}catch(t){return new C(e,t)}return e})}}class R extends v.Mw{#v;constructor(e,t,r){super(r,t),this.#v=e}async wait(e,t){let r=await super.wait(e,t);return null==r?null:new N(this.#v,this.provider,r)}}class O extends E.Z{log;constructor(e,t,r,n){super(e,t,r),(0,a.h)(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class D extends O{constructor(e,t,r,n,s){super(e,t,r,new k(s,e.interface,n));let i=e.interface.decodeEventLog(n,this.log.data,this.log.topics);(0,a.h)(this,{args:i,fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}let T=BigInt(0);function B(e){return e&&"function"==typeof e.call}function x(e){return e&&"function"==typeof e.estimateGas}function I(e){return e&&"function"==typeof e.resolveName}function P(e){return e&&"function"==typeof e.sendTransaction}function S(e){if(null!=e){if(I(e))return e;if(e.provider)return e.provider}}class F{#E;fragment;constructor(e,t,r){if((0,a.h)(this,{fragment:t}),t.inputs.length<r.length)throw Error("too many arguments");let n=M(e.runner,"resolveName"),s=I(n)?n:null;this.#E=async function(){let n=await Promise.all(t.inputs.map((e,t)=>null==r[t]?null:e.walkAsync(r[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>(0,b.ru)(e,s))):(0,b.ru)(t,s):t)));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#E}}function M(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function U(e){return null==e?null:e.provider||null}async function Q(e,t){let r=n._.dereference(e,"overrides");(0,o.en)("object"==typeof r,"invalid overrides parameter","overrides",e);let s=(0,v.kK)(r);return(0,o.en)(null==s.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),(0,o.en)(null==s.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=s.from),s}async function L(e,t,r){let s=M(e,"resolveName"),i=I(s)?s:null;return await Promise.all(t.map((e,t)=>e.walkAsync(r[t],(e,t)=>(t=n._.dereference(t,e),"address"===e)?(0,b.ru)(t,i):t)))}let V=Symbol.for("_ethersInternal_contract"),j=new WeakMap;function J(e){return j.get(e[V])}async function G(e,t){let r;let n=null;if(Array.isArray(t)){let n=function(t){if((0,l.A7)(t,32))return t;let r=e.interface.getEvent(t);return(0,o.en)(r,"unknown fragment","name",t),r.topicHash};r=t.map(e=>null==e?null:Array.isArray(e)?e.map(n):n(e))}else"*"===t?r=[null]:"string"==typeof t?(0,l.A7)(t,32)?r=[t]:(n=e.interface.getEvent(t),(0,o.en)(n,"unknown fragment","event",t),r=[n.topicHash]):t&&"object"==typeof t&&"getTopicFilter"in t&&"function"==typeof t.getTopicFilter&&t.fragment?r=await t.getTopicFilter():"fragment"in t?r=[(n=t.fragment).topicHash]:(0,o.en)(!1,"unknown event name","event",t);return{fragment:n,tag:(r=r.map(e=>{if(null==e)return null;if(Array.isArray(e)){let t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})).map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:r}}async function H(e,t){let{subs:r}=J(e);return r.get((await G(e,t)).tag)||null}async function z(e,t,r){let n=U(e.runner);(0,o.hu)(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:s,tag:i,topics:a}=await G(e,r),{addr:l,subs:u}=J(e),c=u.get(i);if(!c){let t={address:l||e,topics:a},o=t=>{let n=s;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){let i=n,a=s?e.interface.decodeEventLog(s,t.data,t.topics):[];Z(e,r,a,n=>new D(e,n,r,i,t))}else Z(e,r,[],n=>new O(e,n,r,t))},h=[];c={tag:i,listeners:[],start:()=>{h.length||h.push(n.on(t,o))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),n.off(t,o)}},u.set(i,c)}return c}let K=Promise.resolve();async function _(e,t,r,n){await K;let s=await H(e,t);if(!s)return!1;let i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:t,once:s})=>{let i=Array.from(r);n&&i.push(n(s?null:t));try{t.call(e,...i)}catch(e){}return!s}),0===s.listeners.length&&(s.stop(),J(e).subs.delete(s.tag)),i>0}async function Z(e,t,r,n){try{await K}catch(e){}let s=_(e,t,r,n);return K=s,await s}let Y=["then"];class q{target;interface;runner;filters;[V];fallback;constructor(e,t,r,n){var s;let i;(0,o.en)("string"==typeof e||(0,b.RC)(e),"invalid value for Contract target","target",e),null==r&&(r=null);let c=w.from(t);(0,a.h)(this,{target:e,runner:r,interface:c}),Object.defineProperty(this,V,{value:{}});let h=null,f=null;if(n){let e=U(r);f=new R(this.interface,e,n)}let d=new Map;if("string"==typeof e){if((0,l.A7)(e))h=e,i=Promise.resolve(e);else{let t=M(r,"resolveName");if(!I(t))throw(0,o.wf)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then(t=>{if(null==t)throw(0,o.wf)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return J(this).addr=t,t})}}else i=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return J(this).addr=e,e});s={addrPromise:i,addr:h,deployTx:f,subs:d},j.set(this[V],s);let p=new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||Y.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!(0,o.VZ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>Y.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return(0,a.h)(this,{filters:p}),(0,a.h)(this,{fallback:c.receive||c.fallback?function(e){let t=async function(t){let r=await Q(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await (0,b.ru)(r.from,S(e.runner)));let n=e.interface,s=(0,u.yT)(r.value||T,"overrides.value")===T,i="0x"===(r.data||"0x");!n.fallback||n.fallback.payable||!n.receive||i||s||(0,o.en)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),(0,o.en)(n.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data);let a=n.receive||n.fallback&&n.fallback.payable;return(0,o.en)(a||s,"cannot send value to non-payable fallback","overrides.value",r.value),(0,o.en)(n.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){let n=M(e.runner,"call");(0,o.hu)(B(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let s=await t(r);try{return await n.call(s)}catch(t){if((0,o.Hl)(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}},n=async function(r){let n=e.runner;(0,o.hu)(P(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let s=await n.sendTransaction(await t(r)),i=U(e.runner);return new R(e.interface,i,s)},s=async function(r){let n=M(e.runner,"estimateGas");return(0,o.hu)(x(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},i=async e=>await n(e);return(0,a.h)(i,{_contract:e,estimateGas:s,populateTransaction:t,send:n,staticCall:r}),i}(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||Y.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!(0,o.VZ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||Y.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new q(this.target,this.interface,e)}attach(e){return new q(e,this.interface,this.runner)}async getAddress(){return await J(this).addrPromise}async getDeployedCode(){let e=U(this.runner);(0,o.hu)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;let t=U(this.runner);return(0,o.hu)(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,r)=>{let n=async()=>{try{let r=await this.getDeployedCode();if(null!=r)return e(this);t.once("block",n)}catch(e){r(e)}};n()})}deploymentTransaction(){return J(this).deployTx}getFunction(e){return"string"!=typeof e&&(e=e.format()),function(e,t){let r=function(...r){let n=e.interface.getFunction(t,r);return(0,o.hu)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=async function(...t){let n=r(...t),s={};if(n.inputs.length+1===t.length&&(s=await Q(t.pop())).from&&(s.from=await (0,b.ru)(s.from,S(e.runner))),n.inputs.length!==t.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let i=await L(e.runner,n.inputs,t);return Object.assign({},s,await (0,a.m)({to:e.getAddress(),data:e.interface.encodeFunctionData(n,i)}))},s=async function(...e){let t=await u(...e);return 1===t.length?t[0]:t},i=async function(...t){let r=e.runner;(0,o.hu)(P(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let s=await r.sendTransaction(await n(...t)),i=U(e.runner);return new R(e.interface,i,s)},l=async function(...t){let r=M(e.runner,"estimateGas");return(0,o.hu)(x(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...t))},u=async function(...t){let s=M(e.runner,"call");(0,o.hu)(B(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let i=await n(...t),a="0x";try{a=await s.call(i)}catch(t){if((0,o.Hl)(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}let l=r(...t);return e.interface.decodeFunctionResult(l,a)},c=async(...e)=>r(...e).constant?await s(...e):await i(...e);return(0,a.h)(c,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:l,populateTransaction:n,send:i,staticCall:s,staticCallResult:u}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=e.interface.getFunction(t);return(0,o.hu)(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),c}(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){let r=function(...r){let n=e.interface.getEvent(t,r);return(0,o.hu)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=function(...t){return new F(e,r(...t),t)};return(0,a.h)(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=e.interface.getEvent(t);return(0,o.hu)(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}(this,e)}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");let{addr:n,addrPromise:s}=J(this),i=n||await s,{fragment:a,topics:l}=await G(this,e),u={address:i,topics:l,fromBlock:t,toBlock:r},c=U(this.runner);return(0,o.hu)(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(u)).map(e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new k(e,this.interface,t)}catch(t){return new C(e,t)}return new v.Zb(e,c)})}async on(e,t){let r=await z(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await z(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await Z(this,e,t,null)}async listenerCount(e){if(e){let t=await H(this,e);return t?t.listeners.length:0}let{subs:t}=J(this),r=0;for(let{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){let t=await H(this,e);return t?t.listeners.map(({listener:e})=>e):[]}let{subs:t}=J(this),r=[];for(let{listeners:e}of t.values())r=r.concat(e.map(({listener:e})=>e));return r}async off(e,t){let r=await H(this,e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return(null==t||0===r.listeners.length)&&(r.stop(),J(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await H(this,e);if(!t)return this;t.stop(),J(this).subs.delete(t.tag)}else{let{subs:e}=J(this);for(let{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends q{constructor(t,r=null){super(t,e,r)}}return t}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}function W(){return q}class X extends W(){}},382:(e,t,r)=>{let n,s,i,a,o,l,u,c,h,f,d,p,g,A,m,y;r.d(t,{Q:()=>tR});var w=r(5467),b=r(5712),v=r(3367),E=r(6687),k=r(9870),C=r(5080),N=r(7204),R=r(3791),O=r(4251),D=r(9349),T=r(1112),B=r(2615),x=r(8791),I=r(1568);function P(e){return async function(t,r){(0,w.hu)(null==r||!r.cancelled,"request cancelled before sending","CANCELLED");let n=t.url.split(":")[0].toLowerCase();(0,w.hu)("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),(0,w.hu)("https"===n||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s={method:t.method,headers:Object.assign({},t.headers)};e&&e.agent&&(s.agent=e.agent);let i=null;try{i=new AbortController,s.abort=i.signal}catch(e){console.log(e)}let a=("http"===n?B:x).request(t.url,s);a.setTimeout(t.timeout);let o=t.body;return o&&a.write(Buffer.from(o)),a.end(),new Promise((e,n)=>{r&&r.addListener(()=>{i&&i.abort(),n((0,w.wf)("request cancelled","CANCELLED"))}),a.on("timeout",()=>{n((0,w.wf)("request timeout","TIMEOUT"))}),a.once("response",s=>{let i=s.statusCode||0,a=s.statusMessage||"",o=Object.keys(s.headers||{}).reduce((e,t)=>{let r=s.headers[t]||"";return Array.isArray(r)&&(r=r.join(", ")),e[t]=r,e},{}),l=null;s.on("data",e=>{if(r)try{r.checkSignal()}catch(e){return n(e)}if(null==l)l=e;else{let t=new Uint8Array(l.length+e.length);t.set(l,0),t.set(e,l.length),l=t}}),s.on("end",()=>{try{"gzip"===o["content-encoding"]&&l&&(l=(0,D.Pw)((0,I.gunzipSync)(l))),e({statusCode:i,statusMessage:a,headers:o,body:l})}catch(e){n((0,w.wf)("bad response data","SERVER_ERROR",{request:t,info:{response:s,error:e}}))}}),s.on("error",e=>{e.response={statusCode:i,statusMessage:a,headers:o,body:l},n(e)})}),a.on("error",e=>{n(e)})})}}P({});let S=P(),F=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),M=RegExp("^ipfs://(ipfs/)?(.*)$","i"),U=!1;async function Q(e,t){try{var r,n;let t=e.match(F);if(!t)throw Error("invalid data");return new z(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?(r=t[3],(0,D.h_)(Buffer.from(r,"base64"))):(n=t[3],(0,O.Y0)(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new z(599,"BAD REQUEST (invalid data: URI)",{},null,new H(e))}}function L(e){return async function(t,r){try{let r=t.match(M);if(!r)throw Error("invalid link");return new H(`${e}${r[2]}`)}catch(e){return new z(599,"BAD REQUEST (invalid IPFS URI)",{},null,new H(t))}}}let V={data:Q,ipfs:L("https://gateway.ipfs.io/ipfs/")},j=new WeakMap;class J{#k;#C;constructor(e){this.#k=[],this.#C=!1,j.set(e,()=>{if(!this.#C){for(let e of(this.#C=!0,this.#k))setTimeout(()=>{e()},0);this.#k=[]}})}addListener(e){(0,w.hu)(!this.#C,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#k.push(e)}get cancelled(){return this.#C}checkSignal(){(0,w.hu)(!this.cancelled,"cancelled","CANCELLED",{})}}function G(e){if(null==e)throw Error("missing signal; should not happen");return e.checkSignal(),e}class H{#N;#R;#O;#D;#T;#B;#x;#I;#P;#S;#F;#M;#U;#Q;#L;get url(){return this.#B}set url(e){this.#B=String(e)}get body(){return null==this.#x?null:new Uint8Array(this.#x)}set body(e){if(null==e)this.#x=void 0,this.#I=void 0;else if("string"==typeof e)this.#x=(0,O.Y0)(e),this.#I="text/plain";else if(e instanceof Uint8Array)this.#x=e,this.#I="application/octet-stream";else if("object"==typeof e)this.#x=(0,O.Y0)(JSON.stringify(e)),this.#I="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#x}get method(){return this.#D?this.#D:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#D=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#O);if(this.#P){var t;e.authorization=`Basic ${t=(0,O.Y0)(this.#P),Buffer.from((0,D.Pw)(t)).toString("base64")}`}return this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#I&&(e["content-type"]=this.#I),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#O[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#O={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#P||null}setCredentials(e,t){(0,w.en)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#P=`${e}:${t}`}get allowGzip(){return this.#R}set allowGzip(e){this.#R=!!e}get allowInsecureAuthentication(){return!!this.#N}set allowInsecureAuthentication(e){this.#N=!!e}get timeout(){return this.#T}set timeout(e){(0,w.en)(e>=0,"timeout must be non-zero","timeout",e),this.#T=e}get preflightFunc(){return this.#S||null}set preflightFunc(e){this.#S=e}get processFunc(){return this.#F||null}set processFunc(e){this.#F=e}get retryFunc(){return this.#M||null}set retryFunc(e){this.#M=e}get getUrlFunc(){return this.#L||S}set getUrlFunc(e){this.#L=e}constructor(e){this.#B=String(e),this.#N=!1,this.#R=!0,this.#O={},this.#D="",this.#T=3e5,this.#Q={slotInterval:250,maxAttempts:12},this.#L=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#x?(0,D.Dv)(this.#x):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#Q.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#Q.maxAttempts=e.maxAttempts)}async #V(e,t,r,n,s){if(e>=this.#Q.maxAttempts)return s.makeServerError("exceeded maximum retry limit");(0,w.hu)(K()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await new Promise(e=>setTimeout(e,r));let i=this.clone(),a=(i.url.split(":")[0]||"").toLowerCase();if(a in V){let e=await V[a](i.url,G(n.#U));if(e instanceof z){let t=e;if(this.processFunc){G(n.#U);try{t=await this.processFunc(i,t)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&t.makeServerError("error in post-processing function",e).assertOk()}}return t}i=e}this.preflightFunc&&(i=await this.preflightFunc(i));let o=await this.getUrlFunc(i,G(n.#U)),l=new z(o.statusCode,o.statusMessage,o.headers,o.body,n);if(301===l.statusCode||302===l.statusCode){try{let r=l.headers.location||"";return i.redirect(r).#V(e+1,t,0,n,l)}catch(e){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(i,l,e))){let r=l.headers["retry-after"],s=this.#Q.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(s=parseInt(r)),i.clone().#V(e+1,t,s,n,l)}if(this.processFunc){G(n.#U);try{l=await this.processFunc(i,l)}catch(s){(null==s.throttle||"number"!=typeof s.stall)&&l.makeServerError("error in post-processing function",s).assertOk();let r=this.#Q.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return s.stall>=0&&(r=s.stall),i.clone().#V(e+1,t,r,n,l)}}return l}send(){return(0,w.hu)(null==this.#U,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#U=new J(this),this.#V(0,K()+this.timeout,0,this,new z(0,"",{},null,this))}cancel(){(0,w.hu)(null!=this.#U,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=j.get(this);if(!e)throw Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();(0,w.hu)("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let n=new H(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#O=Object.assign({},this.#O),this.#x&&(n.#x=new Uint8Array(this.#x)),n.#I=this.#I,n}clone(){let e=new H(this.url);return e.#D=this.#D,this.#x&&(e.#x=this.#x),e.#I=this.#I,e.#O=Object.assign({},this.#O),e.#P=this.#P,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#S=this.#S,e.#F=this.#F,e.#M=this.#M,e.#Q=Object.assign({},this.#Q),e.#L=this.#L,e}static lockConfig(){U=!0}static getGateway(e){return V[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw Error(`cannot intercept ${e}; use registerGetUrl`);if(U)throw Error("gateways locked");V[e]=t}static registerGetUrl(e){if(U)throw Error("gateways locked");S=e}static createGetUrlFunc(e){return P(e)}static createDataGateway(){return Q}static createIpfsGatewayFunc(e){return L(e)}}class z{#j;#J;#O;#x;#G;#H;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#x?(0,D.Dv)(this.#x):"null"}>`}get statusCode(){return this.#j}get statusMessage(){return this.#J}get headers(){return Object.assign({},this.#O)}get body(){return null==this.#x?null:new Uint8Array(this.#x)}get bodyText(){try{return null==this.#x?"":(0,O.ZN)(this.#x)}catch(e){(0,w.hu)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,w.hu)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,s){this.#j=e,this.#J=t,this.#O=Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=String(r[t]),e),{}),this.#x=null==n?null:new Uint8Array(n),this.#G=s||null,this.#H={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let n=new z(599,r,this.headers,this.body,this.#G||void 0);return n.#H={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:(0,w.en)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=Error(e||"throttling requests");throw(0,R.h)(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#x}get request(){return this.#G}ok(){return""===this.#H.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#H;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#x&&(n=(0,O.ZN)(this.#x))}catch(e){}(0,w.hu)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function K(){return new Date().getTime()}var _=r(5846),Z=r(1389),Y=r(2428);let q=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function W(e){var t;let r;return t=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),s=1,i=[0,1];for(let e=1;e<n;e++)i.push(s+=r());let a=r(),o=t;t+=a;let l=0,u=0;function c(){return 0==l&&(u=u<<8|e[t++],l=8),u>>--l&1}let h=2147483648-1,f=0;for(let e=0;e<31;e++)f=f<<1|c();let d=[],p=0,g=2147483648;for(;;){let e=Math.floor(((f-p+1)*s-1)/g),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<i[n]?r=n:t=n}if(0==t)break;d.push(t);let a=p+Math.floor(g*i[t]/s),o=p+Math.floor(g*i[t+1]/s)-1;for(;((a^o)&1073741824)==0;)f=f<<1&h|c(),a=a<<1&h,o=o<<1&h|1;for(;a&~o&536870912;)f=1073741824&f|f<<1&h>>>1|c(),a=a<<1^1073741824,o=(1073741824^o)<<1|1073741825;p=a,g=1+o-a}let A=n-4;return d.map(t=>{switch(t-A){case 3:return A+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return A+256+(e[o++]<<8|e[o++]);case 1:return A+e[o++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,r)=>t[e.charCodeAt(0)]=r);let r=e.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,a=0,o=0;s<r;s++)o=o<<6|t[e.charCodeAt(s)],(a+=6)>=8&&(n[i++]=o>>(a-=8));return n}(e)),r=0,()=>t[r++]}function X(e,t=0){let r=[];for(;;){let n=e(),s=e();if(!s)break;t+=n;for(let e=0;e<s;e++)r.push(t+e);t+=s+1}return r}function $(e){return et(()=>{let t=X(e);if(t.length)return t})}function ee(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),s=et(t);return er(s.length,1+e,t).flatMap((e,t)=>{let[i,...a]=e;return Array(s[t]).fill().map((e,t)=>{let s=t*n;return[i+t*r,a.map(e=>e+s)]})})}(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(er(1+e(),1+r,e).map(e=>[e[0],e.slice(1)]))}return t.flat()}function et(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function er(e,t,r){let n=Array(e).fill().map(()=>[]);for(let s=0;s<t;s++)(function(e,t){let r=Array(e);for(let s=0,i=0;s<e;s++){var n;r[s]=i+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}function en(e){return`{${e.toString(16).toUpperCase().padStart(2,"0")}}`}function es(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function ei(e,t){let r=e.length,n=r-t.length;for(let s=0;0==n&&s<r;s++)n=e[s]-t[s];return n}function ea(e){return e>>24&255}function eo(e){return 16777215&e}function el(e){return e>=44032&&e<55204}function eu(e){n||function(){let e=W("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");for(let[t,r]of(n=new Map($(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),s=new Set(X(e)),i=new Map,a=new Map,ee(e))){if(!s.has(t)&&2==r.length){let[e,n]=r,s=a.get(e);s||(s=new Map,a.set(e,s)),s.set(n,t)}i.set(t,r.reverse())}}();let t=[],r=[],o=!1;function l(e){let r=n.get(e);r&&(o=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(el(n)){let e=n-44032,t=e/588|0,r=e%588/28|0,s=e%28;l(4352+t),l(4449+r),s>0&&l(4519+s)}else{let e=i.get(n);e?r.push(...e):l(n)}if(!r.length)break;n=r.pop()}if(o&&t.length>1){let e=ea(t[0]);for(let r=1;r<t.length;r++){let n=ea(t[r]);if(0==n||e<=n){e=n;continue}let s=r-1;for(;;){let r=t[s+1];if(t[s+1]=t[s],t[s]=r,!s||(e=ea(t[--s]))<=n)break}e=ea(t[r])}}return t}function ec(e){return function(e){let t=[],r=[],n=-1,s=0;for(let i of e){let e=ea(i),o=eo(i);if(-1==n)0==e?n=o:t.push(o);else if(s>0&&s>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),s=e;else{let i=function(e,t){if(e>=4352&&e<4371&&t>=4449&&t<4470)return 44032+(e-4352)*588+(t-4449)*28;if(el(e)&&t>4519&&t<4547&&(e-44032)%28==0)return e+(t-4519);{let r=a.get(e);return r&&(r=r.get(t))?r:-1}}(n,o);i>=0?n=i:0==s&&0==e?(t.push(n),n=o):(r.push(o),s=e)}}return n>=0&&t.push(n,...r),t}(eu(e))}let eh=e=>Array.from(e);function ef(e,t){return e.P.has(t)||e.Q.has(t)}class ed extends Array{get is_emoji(){return!0}}function ep(){let e,t;if(o)return;let r=W("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"),n=()=>X(r),s=()=>new Set(n()),i=(e,t)=>t.forEach(t=>e.add(t));o=new Map(ee(r)),l=s(),u=n(),c=new Set(n().map(e=>u[e])),u=new Set(u),h=s(),s();let a=$(r),f=r(),w=()=>{let e=new Set;return n().forEach(t=>i(e,a[t])),i(e,n()),e};d=et(e=>{let t=et(r).map(e=>e+96);if(t.length){let n=e>=f;return t[0]-=32,t=es(t),n&&(t=`Restricted[${t}]`),{N:t,P:w(),Q:w(),M:!r(),R:n}}}),p=s(),g=new Map;let b=n().concat(eh(p)).sort((e,t)=>e-t);for(let{V:e,M:t}of(b.forEach((e,t)=>{let n=r(),s=b[t]=n?b[t-n]:{V:[],M:new Map};s.V.push(e),p.has(e)||g.set(e,s)}),new Set(g.values()))){let r=[];for(let t of e){let e=d.filter(e=>ef(e,t)),n=r.find(({G:t})=>e.some(e=>t.has(e)));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),i(n.G,e)}let n=r.flatMap(e=>eh(e.G));for(let{G:e,V:s}of r){let r=new Set(n.filter(t=>!e.has(t)));for(let e of s)t.set(e,r)}}A=new Set;let v=new Set,E=e=>A.has(e)?v.add(e):A.add(e);for(let e of d){for(let t of e.P)E(t);for(let t of e.Q)E(t)}for(let e of A)g.has(e)||v.has(e)||g.set(e,1);for(let n of(i(A,eu(A).map(eo)),m=(e=[],t=X(r),function t({S:r,B:n},s,i){if(!(4&r)||i!==s[s.length-1])for(let a of(2&r&&(i=s[s.length-1]),1&r&&e.push(s),n))for(let e of a.Q)t(a,[...s,e],i)}(function e(n){return{S:r(),B:et(()=>{let n=X(r).map(e=>t[e]);if(n.length)return e(n)}),Q:n}}([]),[]),e).map(e=>ed.from(e)).sort(ei),y=new Map,m)){let e=[y];for(let t of n){let r=e.map(e=>{let r=e.get(t);return r||(r=new Map,e.set(t,r)),r});65039===t?e.push(...r):e=r}for(let t of e)t.V=n}}function eg(e){return(ey(e)?"":`${eA(em([e]))} `)+en(e)}function eA(e){return`"${e}"\u200E`}function em(e,t=1/0,r=en){var n;let s=[];n=e[0],ep(),u.has(n)&&s.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,a=e.length;for(let t=0;t<a;t++){let n=e[t];ey(n)&&(s.push(es(e.slice(i,t))),s.push(r(n)),i=t+1)}return s.push(es(e.slice(i,a))),s.join("")}function ey(e){return ep(),h.has(e)}function ew(e){return Error(`disallowed character: ${eg(e)}`)}function eb(e,t){let r=eg(t),n=d.find(e=>e.P.has(t));return n&&(r=`${n.N} ${r}`),Error(`illegal mixture: ${e.N} + ${r}`)}function ev(e){return Error(`illegal placement: ${e}`)}function eE(e){return e.filter(e=>65039!=e)}let ek=new Uint8Array(32);function eC(e){return(0,w.en)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function eN(e){let t=(0,O.Y0)(function(e){try{var t;if(0===e.length)throw Error("empty label");return(t=function(e,t,r){if(!e)return[];ep();let n=0;return e.split(".").map(e=>{let s=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),i={input:s,offset:n};n+=s.length+1;try{let e,n=i.tokens=function(e,t,r){let n=[],s=[];for(e=e.slice().reverse();e.length;){let i=function(e,t){let r,n=y,s=e.length;for(;s&&(n=n.get(e[--s]));){let{V:t}=n;t&&(r=t,e.length=s)}return r}(e);if(i)s.length&&(n.push(t(s)),s=[]),n.push(r(i));else{let t=e.pop();if(A.has(t))s.push(t);else{let e=o.get(t);if(e)s.push(...e);else if(!l.has(t))throw ew(t)}}}return s.length&&n.push(t(s)),n}(s,t,r),a=n.length;if(!a)throw Error("empty label");let h=i.output=n.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw Error("underscore allowed only at start")}(h),!(i.emoji=a>1||n[0].is_emoji)&&h.every(e=>e<128))(function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw Error(`invalid label extension: "${es(e.slice(0,4))}"`)})(h),e="ASCII";else{let t=n.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(u.has(h[0]))throw ev("leading combining mark");for(let e=1;e<a;e++){let t=n[e];if(!t.is_emoji&&u.has(t[0]))throw ev(`emoji + combining mark: "${es(n[e-1])} + ${em([t[0]])}"`)}!function(e){let t=e[0],r=q.get(t);if(r)throw ev(`leading ${r}`);let n=e.length,s=-1;for(let i=1;i<n;i++){t=e[i];let n=q.get(t);if(n){if(s==i)throw ev(`${r} + ${n}`);s=i+1,r=n}}if(s==n)throw ev(`trailing ${r}`)}(h);let r=eh(new Set(t)),[s]=function(e){let t=d;for(let r of e){let e=t.filter(e=>ef(e,r));if(!e.length){if(d.some(e=>ef(e,r)))throw eb(t[0],r);throw ew(r)}if(t=e,1==e.length)break}return t}(r);(function(e,t){for(let r of t)if(!ef(e,r))throw eb(e,r);if(e.M){let e=eu(t).map(eo);for(let t=1,r=e.length;t<r;t++)if(c.has(e[t])){let n=t+1;for(let s;n<r&&c.has(s=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==s)throw Error(`duplicate non-spacing marks: ${eg(s)}`);if(n-t>4)throw Error(`excessive non-spacing marks: ${eA(em(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}})(s,t),function(e,t){let r;let n=[];for(let e of t){let t=g.get(e);if(1===t)return;if(t){let n=t.M.get(e);if(!(r=r?r.filter(e=>n.has(e)):eh(n)).length)return}else n.push(e)}if(r){for(let t of r)if(n.every(e=>ef(t,e)))throw Error(`whole-script confusable: ${e.N}/${t.N}`)}}(s,r),e=s.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i})}(e,ec,eE)).map(({input:e,error:r,output:n})=>{if(r){let n=r.message;throw Error(1==t.length?n:`Invalid label ${eA(em(e,63))}: ${n}`)}return es(n)}).join(".")}catch(t){(0,w.en)(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(eC(t.slice(n,e))),n=e+1);return(0,w.en)(n<t.length,"invalid ENS name; empty component","name",e),r.push(eC(t.slice(n))),r}function eR(e){(0,w.en)("string"==typeof e,"invalid ENS name; not a string","name",e),(0,w.en)(e.length,"invalid ENS name (empty label)","name",e);let t=ek,r=eN(e);for(;r.length;)t=(0,Y.w)((0,D.zo)([t,(0,Y.w)(r.pop())]));return(0,D.Dv)(t)}ek.fill(0);var eO=r(4560),eD=r(8721),eT=r(7070);function eB(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,w.en)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class ex{name;constructor(e){(0,R.h)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw Error("unsupported coin")}async decodeAddress(e,t){throw Error("unsupported coin")}}let eI=RegExp("^(ipfs)://(.*)$","i"),eP=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),eI,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class eS{provider;address;name;#z;#K;constructor(e,t,r){(0,R.h)(this,{provider:e,address:t,name:r}),this.#z=null,this.#K=new Z.CH(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#z&&(this.#z=(async()=>{try{return await this.#K.supportsInterface("0x9061b923")}catch(e){if((0,w.VZ)(e,"CALL_EXCEPTION"))return!1;throw this.#z=null,e}})()),await this.#z}async #_(e,t){var r;t=(t||[]).slice();let n=this.#K.interface;t.unshift(eR(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),(0,w.hu)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(r=this.name,(0,w.en)(!0,"DNS encoded label cannot exceed 255","length",255),(0,D.Dv)((0,D.zo)(eN(r).map(e=>{(0,w.en)(e.length<=255,`label ${JSON.stringify(r)} exceeds 255 bytes`,"name",r);let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let r=await this.#K[e](...t);if(s)return n.decodeFunctionResult(s,r)[0];return r}catch(e){if(!(0,w.VZ)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{let e=await this.#_("addr(bytes32)");if(null==e||e===_.N)return null;return e}catch(e){if((0,w.VZ)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648,r=await this.#_("addr(bytes32,uint)",[t]);if((0,D.A7)(r,20))return(0,v.K)(r)}let t=null;for(let r of this.provider.plugins)if(r instanceof ex&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;let r=await this.#_("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;let n=await t.decodeAddress(e,r);if(null!=n)return n;(0,w.hu)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let t=await this.#_("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){let e=await this.#_("contenthash(bytes32)");if(null==e||"0x"===e)return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${(0,eT.X)("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;(0,w.hu)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<eP.length;r++){let n=t.match(eP[r]);if(null==n)continue;let s=n[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let r=eB(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{let r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});let i=await this.getAddress();if(null==i)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let a=(n[2]||"").split("/");if(2!==a.length)return e.push({type:`!${s}caip`,value:n[2]||""}),{url:null,linkage:e};let o=a[1],l=new Z.CH(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){let t=await l.ownerOf(o);if(i!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){let t=await l.balanceOf(i,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await l[r](o);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",(0,T.m9)(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=eB(u)),e.push({type:"metadata-url",value:u});let c={},h=await new H(u).send();h.assertOk();try{c=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(r){let t=h.body;t&&e.push({type:"!metadata",value:(0,D.Dv)(t)})}return{url:null,linkage:e}}if(!c)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(c)});let f=c.image;if("string"!=typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{let t=f.match(eI);if(null==t)return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=eB(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return(0,w.hu)(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async #Z(e,t){let r=await eS.getEnsAddress(e);try{let n=new Z.CH(r,["function resolver(bytes32) view returns (address)"],e),s=await n.resolver(eR(t),{enableCcipRead:!0});if(s===_.N)return null;return s}catch(e){throw e}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r||"eth"!==t&&"eth"===r)return null;let n=await eS.#Z(e,r);if(null!=n){let s=new eS(e,n,t);if(r!==t&&!await s.supportsWildcard())return null;return s}r=r.split(".").slice(1).join(".")}}}var eF=r(5734),eM=r(1759);let eU=BigInt(0);function eQ(e,t){return function(r){return null==r?t:e(r)}}function eL(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw Error("not an array");return r.map(t=>e(t))}}function eV(e,t){return r=>{let n={};for(let s in e){let i=s;if(t&&s in t&&!(i in r)){for(let e of t[s])if(e in r){i=e;break}}try{let t=e[s](r[i]);void 0!==t&&(n[s]=t)}catch(t){let e=t instanceof Error?t.message:"not-an-error";(0,w.hu)(!1,`invalid value for value.${s} (${e})`,"BAD_DATA",{value:r})}}return n}}function ej(e){return(0,w.en)((0,D.A7)(e,!0),"invalid data","value",e),e}function eJ(e){return(0,w.en)((0,D.A7)(e,32),"invalid hash","value",e),e}let eG=eV({address:v.K,blockHash:eJ,blockNumber:T.Dx,data:ej,index:T.Dx,removed:eQ(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,w.en)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:eL(eJ),transactionHash:eJ,transactionIndex:T.Dx},{index:["logIndex"]}),eH=eV({hash:eQ(eJ),parentHash:eJ,parentBeaconBlockRoot:eQ(eJ,null),number:T.Dx,timestamp:T.Dx,nonce:eQ(ej),difficulty:T.yT,gasLimit:T.yT,gasUsed:T.yT,stateRoot:eQ(eJ,null),receiptsRoot:eQ(eJ,null),blobGasUsed:eQ(T.yT,null),excessBlobGas:eQ(T.yT,null),miner:eQ(v.K),prevRandao:eQ(eJ,null),extraData:ej,baseFeePerGas:eQ(T.yT)},{prevRandao:["mixHash"]}),ez=eV({transactionIndex:T.Dx,blockNumber:T.Dx,transactionHash:eJ,address:v.K,topics:eL(eJ),data:ej,index:T.Dx,blockHash:eJ},{index:["logIndex"]}),eK=eV({to:eQ(v.K,null),from:eQ(v.K,null),contractAddress:eQ(v.K,null),index:T.Dx,root:eQ(D.Dv),gasUsed:T.yT,blobGasUsed:eQ(T.yT,null),logsBloom:eQ(ej),blockHash:eJ,hash:eJ,logs:eL(function(e){return ez(e)}),blockNumber:T.Dx,cumulativeGasUsed:T.yT,effectiveGasPrice:eQ(T.yT),blobGasPrice:eQ(T.yT,null),status:eQ(T.Dx),type:eQ(T.Dx,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function e_(e){e.to&&(0,T.yT)(e.to)===eU&&(e.to="0x0000000000000000000000000000000000000000");let t=eV({hash:eJ,index:eQ(T.Dx,void 0),type:e=>"0x"===e||null==e?0:(0,T.Dx)(e),accessList:eQ(C.z,null),blobVersionedHashes:eQ(eL(eJ,!0),null),authorizationList:eQ(eL(e=>{let t;if(e.signature)t=e.signature;else{let r=e.yParity;"0x1b"===r?r=0:"0x1c"===r&&(r=1),t=Object.assign({},e,{yParity:r})}return{address:(0,v.K)(e.address),chainId:(0,T.yT)(e.chainId),nonce:(0,T.yT)(e.nonce),signature:eM.P.from(t)}},!1),null),blockHash:eQ(eJ,null),blockNumber:eQ(T.Dx,null),transactionIndex:eQ(T.Dx,null),from:v.K,gasPrice:eQ(T.yT),maxPriorityFeePerGas:eQ(T.yT),maxFeePerGas:eQ(T.yT),maxFeePerBlobGas:eQ(T.yT,null),gasLimit:T.yT,to:eQ(v.K,null),value:T.yT,nonce:T.Dx,data:ej,creates:eQ(v.K,null),chainId:eQ(T.yT,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){let t=(0,v.K)(e.from),r=(0,T.yT)(e.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,(0,v.K)((0,D.QB)((0,Y.w)((0,eF.e)([t,r])),12))}(t)),(1===e.type||2===e.type)&&null==e.accessList&&(t.accessList=[]),e.signature?t.signature=eM.P.from(e.signature):t.signature=eM.P.from(e),null==t.chainId){let e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&(0,T.yT)(t.blockHash)===eU&&(t.blockHash=null),t}class eZ{name;constructor(e){(0,R.h)(this,{name:e})}clone(){return new eZ(this.name)}}class eY extends eZ{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let r={effectiveBlock:e};function n(e,n){let s=(t||{})[e];null==s&&(s=n),(0,w.en)("number"==typeof s,`invalud value for ${e}`,"costs",t),r[e]=s}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),(0,R.h)(this,r)}clone(){return new eY(this.effectiveBlock,this)}}class eq extends eZ{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,R.h)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new eq(this.address,this.targetNetwork)}}class eW extends eZ{#B;#Y;get url(){return this.#B}get processFunc(){return this.#Y}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#B=e,this.#Y=t}clone(){return this}}let eX=new Map;class e${#q;#W;#X;constructor(e,t){this.#q=e,this.#W=(0,T.yT)(t),this.#X=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#q}set name(e){this.#q=e}get chainId(){return this.#W}set chainId(e){this.#W=(0,T.yT)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,T.yT)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,T.yT)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,T.yT)(e.chainId)}catch(e){}return!1}if(null!=e.name)return this.name===e.name}return!1}get plugins(){return Array.from(this.#X.values())}attachPlugin(e){if(this.#X.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#X.set(e.name,e.clone()),this}getPlugin(e){return this.#X.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new e$(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new eY,r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let n=(0,C.z)(e.accessList);for(let e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){e2||(e2=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[e1("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[e1("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1}));function e(e,t,r){let n=function(){let n=new e$(e,t);return null!=r.ensNetwork&&n.attachPlugin(new eq(null,r.ensNetwork)),n.attachPlugin(new eY),(r.plugins||[]).forEach(e=>{n.attachPlugin(e)}),n};e$.register(e,n),e$.register(t,n),r.altNames&&r.altNames.forEach(e=>{e$.register(e,n)})}}(),null==e)return e$.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){let t=eX.get(e);if(t)return t();if("bigint"==typeof e)return new e$("unknown",e);(0,w.en)(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){(0,w.en)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);let t=new e$(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new eq(e.ensAddress,e.ensNetwork)),t}(0,w.en)(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));let r=eX.get(e);r&&(0,w.en)(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),eX.set(e,t)}}function e0(e,t){let r=String(e);if(!r.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${e}`);let n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));!n[1].substring(9).match(/^0+$/)&&e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function e1(e){return new eW(e,async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{let[t,s]=await Promise.all([r.send(),e()]),i=(n=t).bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:e0(i.maxFee,9),maxPriorityFeePerGas:e0(i.maxPriorityFee,9)}}catch(e){(0,w.hu)(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:e})}})}let e2=!1;var e4=r(5215);function e8(e){return JSON.parse(JSON.stringify(e))}class e3{#$;#ee;#et;#er;constructor(e){this.#$=e,this.#ee=null,this.#et=4e3,this.#er=-2}get pollingInterval(){return this.#et}set pollingInterval(e){this.#et=e}async #en(){try{let e=await this.#$.getBlockNumber();if(-2===this.#er){this.#er=e;return}if(e!==this.#er){for(let t=this.#er+1;t<=e;t++){if(null==this.#ee)return;await this.#$.emit("block",t)}this.#er=e}}catch(e){}null!=this.#ee&&(this.#ee=this.#$._setTimeout(this.#en.bind(this),this.#et))}start(){this.#ee||(this.#ee=this.#$._setTimeout(this.#en.bind(this),this.#et),this.#en())}stop(){this.#ee&&(this.#$._clearTimeout(this.#ee),this.#ee=null)}pause(e){this.stop(),e&&(this.#er=-2)}resume(){this.start()}}class e6{#$;#en;#es;constructor(e){this.#$=e,this.#es=!1,this.#en=e=>{this._poll(e,this.#$)}}async _poll(e,t){throw Error("sub-classes must override this")}start(){this.#es||(this.#es=!0,this.#en(-2),this.#$.on("block",this.#en))}stop(){this.#es&&(this.#es=!1,this.#$.off("block",this.#en))}pause(e){this.stop()}resume(){this.start()}}class e9 extends e6{#ei;#ea;constructor(e,t){super(e),this.#ei=t,this.#ea=-2}pause(e){e&&(this.#ea=-2),super.pause(e)}async _poll(e,t){let r=await t.getBlock(this.#ei);null!=r&&(-2===this.#ea?this.#ea=r.number:r.number>this.#ea&&(t.emit(this.#ei,r.number),this.#ea=r.number))}}class e5 extends e6{#E;constructor(e,t){super(e),this.#E=e8(t)}async _poll(e,t){throw Error("@TODO")}}class e7 extends e6{#eo;constructor(e,t){super(e),this.#eo=t}async _poll(e,t){let r=await t.getTransactionReceipt(this.#eo);r&&t.emit(this.#eo,r)}}class te{#$;#E;#ee;#es;#er;constructor(e,t){this.#$=e,this.#E=e8(t),this.#ee=this.#en.bind(this),this.#es=!1,this.#er=-2}async #en(e){if(-2===this.#er)return;let t=e8(this.#E);t.fromBlock=this.#er+1,t.toBlock=e;let r=await this.#$.getLogs(t);if(0===r.length){this.#er<e-60&&(this.#er=e-60);return}for(let e of r)this.#$.emit(this.#E,e),this.#er=e.blockNumber}start(){this.#es||(this.#es=!0,-2===this.#er&&this.#$.getBlockNumber().then(e=>{this.#er=e}),this.#$.on("block",this.#ee))}stop(){this.#es&&(this.#es=!1,this.#$.off("block",this.#ee))}pause(e){this.stop(),e&&(this.#er=-2)}resume(){this.start()}}let tt=BigInt(2);function tr(e){return e&&"function"==typeof e.then}function tn(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){let e=Object.keys(t);return e.sort(),e.reduce((e,r)=>(e[r]=t[r],e),{})}return t})}class ts{name;constructor(e){(0,R.h)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function ti(e){return(e=Array.from(new Set(e).values())).sort(),e}async function ta(e,t){if(null==e)throw Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if((0,D.A7)(e,32)){let t=e.toLowerCase();return{type:"transaction",tag:tn("tx",{hash:t}),hash:t}}if(e.orphan){let t=e;return{type:"orphan",tag:tn("orphan",t),filter:JSON.parse(JSON.stringify(t))}}if(e.address||e.topics){let r=e,n={topics:(r.topics||[]).map(e=>null==e?null:Array.isArray(e)?ti(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(r.address){let e=[],s=[],i=r=>{(0,D.A7)(r)?e.push(r):s.push((async()=>{e.push(await (0,E.ru)(r,t))})())};Array.isArray(r.address)?r.address.forEach(i):i(r.address),s.length&&await Promise.all(s),n.address=ti(e.map(e=>e.toLowerCase()))}return{filter:n,tag:tn("event",n),type:"event"}}(0,w.en)(!1,"unknown ProviderEvent","event",e)}function to(){return new Date().getTime()}let tl={cacheTimeout:250,pollingInterval:4e3};class tu{#el;#X;#eu;#ec;#eh;#ef;#ed;#ep;#eg;#eA;#em;#p;constructor(e,t){if(this.#p=Object.assign({},tl,t||{}),"any"===e)this.#ef=!0,this.#eh=null;else if(e){let t=e$.from(e);this.#ef=!1,this.#eh=Promise.resolve(t),setTimeout(()=>{this.emit("network",t,null)},0)}else this.#ef=!1,this.#eh=null;this.#ep=-1,this.#ed=new Map,this.#el=new Map,this.#X=new Map,this.#eu=null,this.#ec=!1,this.#eg=1,this.#eA=new Map,this.#em=!1}get pollingInterval(){return this.#p.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#X.values())}attachPlugin(e){if(this.#X.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#X.set(e.name,e.connect(this)),this}getPlugin(e){return this.#X.get(e)||null}get disableCcipRead(){return this.#em}set disableCcipRead(e){this.#em=!!e}async #ey(e){let t=this.#p.cacheTimeout;if(t<0)return await this._perform(e);let r=tn(e.method,e),n=this.#ed.get(r);return n||(n=this._perform(e),this.#ed.set(r,n),setTimeout(()=>{this.#ed.get(r)===n&&this.#ed.delete(r)},t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;let n=e.to.toLowerCase(),s=t.toLowerCase(),i=[];for(let t=0;t<r.length;t++){let a;let o=r[t],l=new H(o.replace("{sender}",n).replace("{data}",s));-1===o.indexOf("{data}")&&(l.body={data:s,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let u="unknown error";try{a=await l.send()}catch(e){i.push(e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:e}});continue}try{let e=a.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(u=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}(0,w.hu)(a.statusCode<400||a.statusCode>=500,`response not found during CCIP fetch: ${u}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:u}}),i.push(u)}(0,w.hu)(!1,`error encountered during CCIP fetch: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:i}})}_wrapBlock(e,t){return new e4.gO(function(e){let t=eH(e);return t.transactions=e.transactions.map(e=>"string"==typeof e?e:e_(e)),t}(e),this)}_wrapLog(e,t){return new e4.Zb(eG(e),this)}_wrapTransactionReceipt(e,t){return new e4.IX(eK(e),this)}_wrapTransactionResponse(e,t){return new e4.Mw(e_(e),this)}_detectNetwork(){(0,w.hu)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,w.hu)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,T.Dx)(await this.#ey({method:"getBlockNumber"}),"%response");return this.#ep>=0&&(this.#ep=e),e}_getAddress(e){return(0,E.ru)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,D.A7)(e)?(0,D.A7)(e,32)?e:(0,T.B4)(e):("bigint"==typeof e&&(e=(0,T.Dx)(e,"blockTag")),"number"==typeof e)?e>=0?(0,T.B4)(e):this.#ep>=0?(0,T.B4)(this.#ep+e):this.getBlockNumber().then(t=>(0,T.B4)(t+e)):void(0,w.en)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t,r;let n=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?ti(e.map(e=>e.toLowerCase())):e.toLowerCase()),s="blockHash"in e?e.blockHash:void 0,i=(e,t,r)=>{let i;switch(e.length){case 0:break;case 1:i=e[0];break;default:e.sort(),i=e}if(s&&(null!=t||null!=r))throw Error("invalid filter");let a={};return i&&(a.address=i),n.length&&(a.topics=n),t&&(a.fromBlock=t),r&&(a.toBlock=r),s&&(a.blockHash=s),a},a=[];if(e.address){if(Array.isArray(e.address))for(let t of e.address)a.push(this._getAddress(t));else a.push(this._getAddress(e.address))}return"fromBlock"in e&&(t=this._getBlockTag(e.fromBlock)),("toBlock"in e&&(r=this._getBlockTag(e.toBlock)),a.filter(e=>"string"!=typeof e).length||null!=t&&"string"!=typeof t||null!=r&&"string"!=typeof r)?Promise.all([Promise.all(a),t,r]).then(e=>i(e[0],e[1],e[2])):i(a,t,r)}_getTransactionRequest(e){let t=(0,e4.kK)(e),r=[];if(["to","from"].forEach(e=>{if(null==t[e])return;let n=(0,E.ru)(t[e],this);tr(n)?r.push(async function(){t[e]=await n}()):t[e]=n}),null!=t.blockTag){let e=this._getBlockTag(t.blockTag);tr(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#eh){let e=(async()=>{try{let e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#eh===e&&(this.#eh=null),t}})();return this.#eh=e,(await e).clone()}let e=this.#eh,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#ef?(this.emit("network",r,t),this.#eh===e&&(this.#eh=Promise.resolve(r))):(0,w.hu)(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:t,gasPrice:r,priorityFee:n}=await (0,R.m)({_block:this.#ew("latest",!1),gasPrice:(async()=>{try{let e=await this.#ey({method:"getGasPrice"});return(0,T.yT)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{let e=await this.#ey({method:"getPriorityFee"});return(0,T.yT)(e,"%response")}catch(e){}return null})()}),s=null,i=null,a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(i=null!=n?n:BigInt("1000000000"),s=a.baseFeePerGas*tt+i),new e4.jW(r,s,i)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let e=new H(r.url),n=await r.processFunc(t,this,e);return new e4.jW(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return tr(t)&&(t=await t),(0,T.yT)(await this.#ey({method:"estimateGas",transaction:t}),"%response")}async #eb(e,t,r){(0,w.hu)(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let n=(0,e4.kK)(e);try{return(0,D.Dv)(await this._perform({method:"call",transaction:n,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,w.Hl)(e)&&e.data&&r>=0&&"latest"===t&&null!=n.to&&"0x556f1830"===(0,D.QB)(e.data,0,4)){let s;let i=e.data,a=await (0,E.ru)(n.to,this);try{s=function(e){let t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,w.hu)((0,D.M5)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=(0,D.QB)(e,0,32);(0,w.hu)((0,D.QB)(r,0,12)===(0,D.QB)(td,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,D.QB)(r,12);try{let r=[],n=(0,T.Dx)((0,D.QB)(e,32,64)),s=(0,T.Dx)((0,D.QB)(e,n,n+32)),i=(0,D.QB)(e,n+32);for(let e=0;e<s;e++){let t=function(e,t){try{let r=tc(e,t);if(r)return(0,O.ZN)(r)}catch(e){}return null}(i,32*e);if(null==t)throw Error("abort");r.push(t)}t.urls=r}catch(e){(0,w.hu)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=tc(e,64);if(null==r)throw Error("abort");t.calldata=r}catch(e){(0,w.hu)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,w.hu)((0,D.QB)(e,100,128)===(0,D.QB)(td,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,D.QB)(e,96,100);try{let r=tc(e,128);if(null==r)throw Error("abort");t.extraData=r}catch(e){(0,w.hu)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}((0,D.QB)(e.data,4))}catch(e){(0,w.hu)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:i}})}(0,w.hu)(s.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:s.errorArgs}});let o=await this.ccipReadFetch(n,s.calldata,s.urls);(0,w.hu)(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:e.data,errorArgs:s.errorArgs}});let l={to:a,data:(0,D.zo)([s.selector,function(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(tf),r+=32;for(let n=0;n<e.length;n++){let s=(0,D.Pw)(e[n]);t[n]=th(r),t.push(th(s.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(s)),r+=32+32*Math.ceil(s.length/32)}return(0,D.zo)(t)}([o,s.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{let e=await this.#eb(l,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e}),e}}throw e}}async #ev(e){let{value:t}=await (0,R.m)({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:r}=await (0,R.m)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#ev(this.#eb(t,r,e.enableCcipRead?0:-1))}async #eE(e,t,r){let n=this._getAddress(t),s=this._getBlockTag(r);return("string"!=typeof n||"string"!=typeof s)&&([n,s]=await Promise.all([n,s])),await this.#ev(this.#ey(Object.assign(e,{address:n,blockTag:s})))}async getBalance(e,t){return(0,T.yT)(await this.#eE({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,T.Dx)(await this.#eE({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,D.Dv)(await this.#eE({method:"getCode"},e,t))}async getStorage(e,t,r){let n=(0,T.yT)(t,"position");return(0,D.Dv)(await this.#eE({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){let{blockNumber:t,hash:r,network:n}=await (0,R.m)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=eO.Y.from(e);if(s.hash!==r)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,n).replaceableTransaction(t)}async #ew(e,t){if((0,D.A7)(e,32))return await this.#ey({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#ey({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){let{network:r,params:n}=await (0,R.m)({network:this.getNetwork(),params:this.#ew(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){let{network:t,params:r}=await (0,R.m)({network:this.getNetwork(),params:this.#ey({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){let{network:t,params:r}=await (0,R.m)({network:this.getNetwork(),params:this.#ey({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){let t=await this.#ey({method:"getTransaction",hash:e});if(null==t)throw Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){let{result:t}=await (0,R.m)({network:this.getNetwork(),result:this.#ey({method:"getTransactionResult",hash:e})});return null==t?null:(0,D.Dv)(t)}async getLogs(e){let t=this._getFilter(e);tr(t)&&(t=await t);let{network:r,params:n}=await (0,R.m)({network:this.getNetwork(),params:this.#ey({method:"getLogs",filter:t})});return n.map(e=>this._wrapLog(e,r))}_getProvider(e){(0,w.hu)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await eS.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){let t=eR((e=(0,v.K)(e)).substring(2).toLowerCase()+".addr.reverse");try{let r=await eS.getEnsAddress(this),n=new Z.CH(r,["function resolver(bytes32) view returns (address)"],this),s=await n.resolver(t);if(null==s||s===_.N)return null;let i=new Z.CH(s,["function name(bytes32) view returns (string)"],this),a=await i.name(t);if(await this.resolveName(a)!==e)return null;return a}catch(e){if((0,w.VZ)(e,"BAD_DATA")&&"0x"===e.value||(0,w.VZ)(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,r){let n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise(async(t,s)=>{let i=null,a=async r=>{try{let s=await this.getTransactionReceipt(e);if(null!=s&&r-s.blockNumber+1>=n){t(s),i&&(clearTimeout(i),i=null);return}}catch(e){console.log("EEE",e)}this.once("block",a)};null!=r&&(i=setTimeout(()=>{null!=i&&(i=null,this.off("block",a),s((0,w.wf)("timeout","TIMEOUT",{reason:"timeout"})))},r)),a(await this.getBlockNumber())})}async waitForBlock(e){(0,w.hu)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#eA.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#eA.delete(e))}_setTimeout(e,t){null==t&&(t=0);let r=this.#eg++,n=()=>{this.#eA.delete(r),e()};if(this.paused)this.#eA.set(r,{timer:null,func:n,time:t});else{let e=setTimeout(n,t);this.#eA.set(r,{timer:e,func:n,time:to()})}return r}_forEachSubscriber(e){for(let t of this.#el.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new ts(e.type);case"block":{let e=new e3(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new e9(this,e.type);case"event":return new te(this,e.filter);case"transaction":return new e7(this,e.hash);case"orphan":return new e5(this,e.filter)}throw Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#el.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#eu&&t.pause(this.#eu);break}}async #ek(e,t){let r=await ta(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await ta({orphan:"drop-log",log:t[0]},this)),this.#el.get(r.tag)||null}async #eC(e){let t=await ta(e,this),r=t.tag,n=this.#el.get(r);return!n&&(n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#el.set(r,n)),n}async on(e,t){let r=await this.#eC(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eu&&r.subscriber.pause(this.#eu)),this}async once(e,t){let r=await this.#eC(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eu&&r.subscriber.pause(this.#eu)),this}async emit(e,...t){let r=await this.#ek(e,t);if(!r||0===r.listeners.length)return!1;let n=r.listeners.length;return r.listeners=r.listeners.filter(({listener:r,once:n})=>{let s=new eD.Z(this,n?null:r,e);try{r.call(this,...t,s)}catch(e){}return!n}),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#el.delete(r.tag)),n>0}async listenerCount(e){if(e){let t=await this.#ek(e);return t?t.listeners.length:0}let t=0;for(let{listeners:e}of this.#el.values())t+=e.length;return t}async listeners(e){if(e){let t=await this.#ek(e);return t?t.listeners.map(({listener:e})=>e):[]}let t=[];for(let{listeners:e}of this.#el.values())t=t.concat(e.map(({listener:e})=>e));return t}async off(e,t){let r=await this.#ek(e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#el.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:r,subscriber:n}=await this.#eC(e);r&&n.stop(),this.#el.delete(t)}else for(let[e,{started:t,subscriber:r}]of this.#el)t&&r.stop(),this.#el.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#ec}destroy(){for(let e of(this.removeAllListeners(),this.#eA.keys()))this._clearTimeout(e);this.#ec=!0}get paused(){return null!=this.#eu}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#ep=-1,null!=this.#eu){if(!!e==this.#eu)return;(0,w.hu)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let t of(this._forEachSubscriber(t=>t.pause(e)),this.#eu=!!e,this.#eA.values()))t.timer&&clearTimeout(t.timer),t.time=to()-t.time}resume(){if(null!=this.#eu)for(let e of(this._forEachSubscriber(e=>e.resume()),this.#eu=null,this.#eA.values())){let t=e.time;t<0&&(t=0),e.time=to(),setTimeout(e.func,t)}}}function tc(e,t){if("0x"===e)return null;try{let r=(0,T.Dx)((0,D.QB)(e,t,t+32)),n=(0,T.Dx)((0,D.QB)(e,r,r+32));return(0,D.QB)(e,r+32,r+32+n)}catch(e){}return null}function th(e){let t=(0,T.ot)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}let tf=new Uint8Array([]),td="0x0000000000000000000000000000000000000000000000000000000000000000";var tp=r(3973);class tg{#$;#eN;#ee;#es;#eR;#eO;constructor(e){this.#$=e,this.#eN=null,this.#ee=this.#en.bind(this),this.#es=!1,this.#eR=null,this.#eO=!1}_subscribe(e){throw Error("subclasses must override this")}_emitResults(e,t){throw Error("subclasses must override this")}_recover(e){throw Error("subclasses must override this")}async #en(e){try{null==this.#eN&&(this.#eN=this._subscribe(this.#$));let e=null;try{e=await this.#eN}catch(e){if(!(0,w.VZ)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e){this.#eN=null,this.#$._recoverSubscriber(this,this._recover(this.#$));return}let t=await this.#$.getNetwork();if(this.#eR||(this.#eR=t),this.#eR.chainId!==t.chainId)throw Error("chaid changed");if(this.#eO)return;let r=await this.#$.send("eth_getFilterChanges",[e]);await this._emitResults(this.#$,r)}catch(e){console.log("@TODO",e)}this.#$.once("block",this.#ee)}#eD(){let e=this.#eN;e&&(this.#eN=null,e.then(e=>{this.#$.destroyed||this.#$.send("eth_uninstallFilter",[e])}))}start(){this.#es||(this.#es=!0,this.#en(-2))}stop(){this.#es&&(this.#es=!1,this.#eO=!0,this.#eD(),this.#$.off("block",this.#ee))}pause(e){e&&this.#eD(),this.#$.off("block",this.#ee)}resume(){this.start()}}class tA extends tg{#eT;constructor(e,t){super(e),this.#eT=JSON.parse(JSON.stringify(t))}_recover(e){return new te(e,this.#eT)}async _subscribe(e){return await e.send("eth_newFilter",[this.#eT])}async _emitResults(e,t){for(let r of t)e.emit(this.#eT,e._wrapLog(r,e._network))}}class tm extends tg{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let r of t)e.emit("pending",r)}}let ty="bigint,boolean,function,number,string,symbol".split(/,/g);function tw(e){if(null==e||ty.indexOf(typeof e)>=0||"function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(tw);if("object"==typeof e)return Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),{});throw Error(`should not happen: ${e} (${typeof e})`)}function tb(e){return e?e.toLowerCase():e}function tv(e){return e&&"number"==typeof e.pollingInterval}let tE={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class tk extends tp.g{address;constructor(e,t){super(e),t=(0,v.K)(t),(0,R.h)(this,{address:t})}connect(e){(0,w.hu)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=tw(e),r=[];if(t.from){let n=t.from;r.push((async()=>{let r=await (0,E.ru)(n,this.provider);(0,w.en)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){let e=t.to;r.push((async()=>{t.to=await (0,E.ru)(e,this.provider)})())}r.length&&await Promise.all(r);let n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((e,n)=>{let s=[1e3,100],i=0,a=async()=>{try{let n=await this.provider.getTransaction(r);if(null!=n){e(n.replaceableTransaction(t));return}}catch(e){if((0,w.VZ)(e,"CANCELLED")||(0,w.VZ)(e,"BAD_DATA")||(0,w.VZ)(e,"NETWORK_ERROR")||(0,w.VZ)(e,"UNSUPPORTED_OPERATION")){null==e.info&&(e.info={}),e.info.sendTransactionHash=r,n(e);return}if((0,w.VZ)(e,"INVALID_ARGUMENT")&&(i++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,i>10)){n(e);return}this.provider.emit("error",(0,w.wf)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{a()},s.pop()||4e3)};a()})}async signTransaction(e){let t=tw(e);if(t.from){let r=await (0,E.ru)(t.from,this.provider);(0,w.en)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let t="string"==typeof e?(0,O.Y0)(e):e;return await this.provider.send("personal_sign",[(0,D.Dv)(t),this.address.toLowerCase()])}async signTypedData(e,t,r){let n=tw(r),s=await k.E.resolveNames(e,t,n,async e=>{let t=await (0,E.ru)(e);return(0,w.en)(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(k.E.getPayload(s.domain,t,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t="string"==typeof e?(0,O.Y0)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,D.Dv)(t)])}}class tC extends tu{#p;#eB;#ex;#eI;#eP;#eR;#eS;#eF(){if(this.#eI)return;let e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#eI=setTimeout(()=>{this.#eI=null;let e=this.#ex;for(this.#ex=[];e.length;){let t=[e.shift()];for(;e.length&&t.length!==this.#p.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map(e=>e.payload)).length>this.#p.batchMaxSize){e.unshift(t.pop());break}(async()=>{let e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{let r=await this._send(e);for(let{resolve:e,reject:n,payload:s}of(this.emit("debug",{action:"receiveRpcResult",result:r}),t)){if(this.destroyed){n((0,w.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}let t=r.filter(e=>e.id===s.id)[0];if(null==t){let e=(0,w.wf)("missing response for request","BAD_DATA",{value:r,info:{payload:s}});this.emit("error",e),n(e);continue}if("error"in t){n(this.getRpcError(s,t));continue}e(t.result)}}catch(e){for(let{reject:r}of(this.emit("debug",{action:"receiveRpcError",error:e}),t))r(e)}})()}},e)}constructor(e,t){super(e,t),this.#eB=1,this.#p=Object.assign({},tE,t||{}),this.#ex=[],this.#eI=null,this.#eR=null,this.#eS=null;{let e=null,t=new Promise(t=>{e=t});this.#eP={promise:t,resolve:e}}let r=this._getOption("staticNetwork");"boolean"==typeof r?((0,w.en)(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#eR=e$.from(e))):r&&((0,w.en)(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#eR=r)}_getOption(e){return this.#p[e]}get _network(){return(0,w.hu)(this.#eR,"network is not available yet","NETWORK_ERROR"),this.#eR}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,T.yT)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){let r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}let t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#eR)return this.#eR}return this.#eS||(this.ready?this.#eS=(async()=>{try{let e=e$.from((0,T.yT)(await this.send("eth_chainId",[])));return this.#eS=null,e}catch(e){throw this.#eS=null,e}})():this.#eS=(async()=>{let e;let t={id:this.#eB++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#eS=null}catch(e){throw this.#eS=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return e$.from((0,T.yT)(e.result));throw this.getRpcError(t,e)})()),await this.#eS}_start(){null!=this.#eP&&null!=this.#eP.resolve&&(this.#eP.resolve(),this.#eP=null,(async()=>{for(;null==this.#eR&&!this.destroyed;)try{this.#eR=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,w.wf)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await new Promise(e=>{setTimeout(e,1e3)})}this.#eF()})())}async _waitUntilReady(){if(null!=this.#eP)return await this.#eP.promise}_getSubscriber(e){return"pending"===e.type?new tm(this):"event"===e.type?this._getOption("polling")?new te(this,e.filter):new tA(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new ts("orphan"):super._getSubscriber(e)}get ready(){return null==this.#eP}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=(0,T.B4)((0,T.yT)(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{null!=e[r]&&(t[r]=(0,D.Dv)(e[r]))}),e.accessList&&(t.accessList=(0,C.z)(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{let t=(0,N.F)(e);return{address:t.address,nonce:(0,T.B4)(t.nonce),chainId:(0,T.B4)(t.chainId),yParity:(0,T.B4)(t.signature.yParity),r:(0,T.B4)(t.signature.r),s:(0,T.B4)(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[tb(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[tb(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[tb(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[tb(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(tb):e.filter.address=tb(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let{method:r}=e,{error:n}=t;if("eth_estimateGas"===r&&n.message){let t=n.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return(0,w.wf)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:n}});if(t.match(/nonce/i)&&t.match(/too low/i))return(0,w.wf)("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){let t=function e(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&(0,D.A7)(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(let r in t){let n=e(t[r]);if(n)return n}return null}if("string"==typeof t)try{return e(JSON.parse(t))}catch(e){}return null}(n),s=b.R.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return s.info={error:n,payload:e},s}let s=JSON.stringify(function(e){let t=[];return function e(t,r){if(null!=t){if("string"==typeof t.message&&r.push(t.message),"object"==typeof t)for(let n in t)e(t[n],r);if("string"==typeof t)try{return e(JSON.parse(t),r)}catch(e){}}}(e,t),t}(n));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i))return(0,w.wf)("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:n}});if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){let t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return(0,w.wf)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:n}});if(s.match(/nonce/i)&&s.match(/too low/i))return(0,w.wf)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:n}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return(0,w.wf)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:n}});if(s.match(/only replay-protected/i))return(0,w.wf)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:n}}})}let i=!!s.match(/the method .* does not exist/i);return(!i&&n&&n.details&&n.details.startsWith("Unauthorized method:")&&(i=!0),i)?(0,w.wf)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:n,payload:e}}):(0,w.wf)("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:e})}send(e,t){if(this.destroyed)return Promise.reject((0,w.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#eB++,n=new Promise((n,s)=>{this.#ex.push({resolve:n,reject:s,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#eF(),n}async getSigner(e){null==e&&(e=0);let t=this.send("eth_accounts",[]);if("number"==typeof e){let r=await t;if(e>=r.length)throw Error("no such account");return new tk(this,r[e])}let{accounts:r}=await (0,R.m)({network:this.getNetwork(),accounts:t});for(let t of(e=(0,v.K)(e),r))if((0,v.K)(t)===e)return new tk(this,e);throw Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new tk(this,e))}destroy(){for(let{payload:e,reject:t}of(this.#eI&&(clearTimeout(this.#eI),this.#eI=null),this.#ex))t((0,w.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#ex=[],super.destroy()}}class tN extends tC{#eM;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=tE.pollingInterval),this.#eM=r}_getSubscriber(e){let t=super._getSubscriber(e);return tv(t)&&(t.pollingInterval=this.#eM),t}get pollingInterval(){return this.#eM}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw Error("invalid interval");this.#eM=e,this._forEachSubscriber(e=>{tv(e)&&(e.pollingInterval=this.#eM)})}}class tR extends tN{#G;#eU;constructor(e,t,r){let n=Object.assign({},null!=r?r:{},{batchMaxCount:1});(0,w.en)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,n),this.#eU=null,r&&r.providerInfo&&(this.#eU=r.providerInfo),this.#G=async(t,r)=>{let n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{let t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}get providerInfo(){return this.#eU}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,w.en)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#G(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#G("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new tR(e.provider);let t=e.window?e.window:"undefined"!=typeof window?window:null;if(null==t)return null;let r=e.anyProvider;if(r&&t.ethereum)return new tR(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let n=e.timeout?e.timeout:300;return 0===n?null:await new Promise((s,i)=>{let a=[],o=e=>{a.push(e.detail),r&&l()},l=()=>{if(clearTimeout(u),a.length){if(e&&e.filter){let t=e.filter(a.map(e=>Object.assign({},e.info)));if(null==t)s(null);else if(t instanceof tR)s(t);else{let e=null;if(t.uuid&&(e=a.filter(e=>t.uuid===e.info.uuid)[0]),e){let{provider:t,info:r}=e;s(new tR(t,void 0,{providerInfo:r}))}else i((0,w.wf)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{let{provider:e,info:t}=a[0];s(new tR(e,void 0,{providerInfo:t}))}}else s(null);t.removeEventListener("eip6963:announceProvider",o)},u=setTimeout(()=>{l()},n);t.addEventListener("eip6963:announceProvider",o),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}},8721:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(3791);class s{filter;emitter;#eQ;constructor(e,t,r){this.#eQ=t,(0,n.h)(this,{emitter:e,filter:r})}async removeListener(){null!=this.#eQ&&await this.emitter.off(this.filter,this.#eQ)}}},4723:(e,t,r)=>{r.d(t,{cI:()=>ew});var n=r(7577),s=e=>"checkbox"===e.type,i=e=>e instanceof Date,a=e=>null==e;let o=e=>"object"==typeof e;var l=e=>!a(e)&&!Array.isArray(e)&&o(e)&&!i(e),u=e=>l(e)&&e.target?s(e.target)?e.target.checked:e.target.value:e,c=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,h=(e,t)=>e.has(c(t)),f=e=>{let t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")},d="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function p(e){let t;let r=Array.isArray(e),n="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(!(!(d&&(e instanceof Blob||n))&&(r||l(e))))return e;else if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||f(e))for(let r in e)e.hasOwnProperty(r)&&(t[r]=p(e[r]));else t=e;return t}var g=e=>/^\w*$/.test(e),A=e=>void 0===e,m=e=>Array.isArray(e)?e.filter(Boolean):[],y=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,t,r)=>{if(!t||!l(e))return r;let n=(g(t)?[t]:y(t)).reduce((e,t)=>a(e)?e:e[t],e);return A(n)||n===e?A(e[t])?r:e[t]:n},b=e=>"boolean"==typeof e,v=(e,t,r)=>{let n=-1,s=g(t)?[t]:y(t),i=s.length,a=i-1;for(;++n<i;){let t=s[n],i=r;if(n!==a){let r=e[t];i=l(r)||Array.isArray(r)?r:isNaN(+s[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};let E={BLUR:"blur",FOCUS_OUT:"focusout"},k={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},C={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};n.createContext(null).displayName="HookFormContext";var N=(e,t,r,n=!0)=>{let s={defaultValues:t._defaultValues};for(let i in e)Object.defineProperty(s,i,{get:()=>(t._proxyFormState[i]!==k.all&&(t._proxyFormState[i]=!n||k.all),r&&(r[i]=!0),e[i])});return s};let R="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;var O=e=>"string"==typeof e,D=(e,t,r,n,s)=>O(e)?(n&&t.watch.add(e),w(r,e,s)):Array.isArray(e)?e.map(e=>(n&&t.watch.add(e),w(r,e))):(n&&(t.watchAll=!0),r),T=e=>a(e)||!o(e);function B(e,t,r=new WeakSet){if(T(e)||T(t))return e===t;if(i(e)&&i(t))return e.getTime()===t.getTime();let n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;for(let a of(r.add(e),r.add(t),n)){let n=e[a];if(!s.includes(a))return!1;if("ref"!==a){let e=t[a];if(i(n)&&i(e)||l(n)&&l(e)||Array.isArray(n)&&Array.isArray(e)?!B(n,e,r):n!==e)return!1}}return!0}var x=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},I=e=>Array.isArray(e)?e:[e],P=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},S=e=>l(e)&&!Object.keys(e).length,F=e=>"file"===e.type,M=e=>"function"==typeof e,U=e=>{if(!d)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Q=e=>"select-multiple"===e.type,L=e=>"radio"===e.type,V=e=>L(e)||s(e),j=e=>U(e)&&e.isConnected;function J(e,t){let r=Array.isArray(t)?t:g(t)?[t]:y(t),n=1===r.length?e:function(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=A(e)?n++:e[t[n++]];return e}(e,r),s=r.length-1,i=r[s];return n&&delete n[i],0!==s&&(l(n)&&S(n)||Array.isArray(n)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!A(e[t]))return!1;return!0}(n))&&J(e,r.slice(0,-1)),e}var G=e=>{for(let t in e)if(M(e[t]))return!0;return!1};function H(e,t={}){let r=Array.isArray(e);if(l(e)||r)for(let r in e)Array.isArray(e[r])||l(e[r])&&!G(e[r])?(t[r]=Array.isArray(e[r])?[]:{},H(e[r],t[r])):a(e[r])||(t[r]=!0);return t}var z=(e,t)=>(function e(t,r,n){let s=Array.isArray(t);if(l(t)||s)for(let s in t)Array.isArray(t[s])||l(t[s])&&!G(t[s])?A(r)||T(n[s])?n[s]=Array.isArray(t[s])?H(t[s],[]):{...H(t[s])}:e(t[s],a(r)?{}:r[s],n[s]):n[s]=!B(t[s],r[s]);return n})(e,t,H(t));let K={value:!1,isValid:!1},_={value:!0,isValid:!0};var Z=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!A(e[0].attributes.value)?A(e[0].value)||""===e[0].value?_:{value:e[0].value,isValid:!0}:_:K}return K},Y=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>A(e)?e:t?""===e?NaN:e?+e:e:r&&O(e)?new Date(e):n?n(e):e;let q={isValid:!1,value:null};var W=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,q):q;function X(e){let t=e.ref;return F(t)?t.files:L(t)?W(e.refs).value:Q(t)?[...t.selectedOptions].map(({value:e})=>e):s(t)?Z(e.refs).value:Y(A(t.value)?e.ref.value:t.value,e)}var $=(e,t,r,n)=>{let s={};for(let r of e){let e=w(t,r);e&&v(s,r,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ee=e=>e instanceof RegExp,et=e=>A(e)?e:ee(e)?e.source:l(e)?ee(e.value)?e.value.source:e.value:e,er=e=>({isOnSubmit:!e||e===k.onSubmit,isOnBlur:e===k.onBlur,isOnChange:e===k.onChange,isOnAll:e===k.all,isOnTouch:e===k.onTouched});let en="AsyncFunction";var es=e=>!!e&&!!e.validate&&!!(M(e.validate)&&e.validate.constructor.name===en||l(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===en)),ei=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ea=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let eo=(e,t,r,n)=>{for(let s of r||Object.keys(e)){let r=w(e,s);if(r){let{_f:e,...i}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],s)&&!n||e.ref&&t(e.ref,e.name)&&!n)return!0;if(eo(i,t))break}else if(l(i)&&eo(i,t))break}}};function el(e,t,r){let n=w(e,r);if(n||g(r))return{error:n,name:r};let s=r.split(".");for(;s.length;){let n=s.join("."),i=w(t,n),a=w(e,n);if(i&&!Array.isArray(i)&&r!==n)break;if(a&&a.type)return{name:n,error:a};if(a&&a.root&&a.root.type)return{name:`${n}.root`,error:a.root};s.pop()}return{name:r}}var eu=(e,t,r,n)=>{r(e);let{name:s,...i}=e;return S(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!n||k.all))},ec=(e,t,r)=>!e||!t||e===t||I(e).some(e=>e&&(r?e===t:e.startsWith(t)||t.startsWith(e))),eh=(e,t,r,n,s)=>!s.isOnAll&&(!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?!n.isOnChange:!s.isOnChange)||e),ef=(e,t)=>!m(w(e,t)).length&&J(e,t),ed=(e,t,r)=>{let n=I(w(e,r));return v(n,"root",t[r]),v(e,r,n),e},ep=e=>O(e);function eg(e,t,r="validate"){if(ep(e)||Array.isArray(e)&&e.every(ep)||b(e)&&!e)return{type:r,message:ep(e)?e:"",ref:t}}var eA=e=>l(e)&&!ee(e)?e:{value:e,message:""},em=async(e,t,r,n,i,o)=>{let{ref:u,refs:c,required:h,maxLength:f,minLength:d,min:p,max:g,pattern:m,validate:y,name:v,valueAsNumber:E,mount:k}=e._f,N=w(r,v);if(!k||t.has(v))return{};let R=c?c[0]:u,D=e=>{i&&R.reportValidity&&(R.setCustomValidity(b(e)?"":e||""),R.reportValidity())},T={},B=L(u),I=s(u),P=(E||F(u))&&A(u.value)&&A(N)||U(u)&&""===u.value||""===N||Array.isArray(N)&&!N.length,Q=x.bind(null,v,n,T),V=(e,t,r,n=C.maxLength,s=C.minLength)=>{let i=e?t:r;T[v]={type:e?n:s,message:i,ref:u,...Q(e?n:s,i)}};if(o?!Array.isArray(N)||!N.length:h&&(!(B||I)&&(P||a(N))||b(N)&&!N||I&&!Z(c).isValid||B&&!W(c).isValid)){let{value:e,message:t}=ep(h)?{value:!!h,message:h}:eA(h);if(e&&(T[v]={type:C.required,message:t,ref:R,...Q(C.required,t)},!n))return D(t),T}if(!P&&(!a(p)||!a(g))){let e,t;let r=eA(g),s=eA(p);if(a(N)||isNaN(N)){let n=u.valueAsDate||new Date(N),i=e=>new Date(new Date().toDateString()+" "+e),a="time"==u.type,o="week"==u.type;O(r.value)&&N&&(e=a?i(N)>i(r.value):o?N>r.value:n>new Date(r.value)),O(s.value)&&N&&(t=a?i(N)<i(s.value):o?N<s.value:n<new Date(s.value))}else{let n=u.valueAsNumber||(N?+N:N);a(r.value)||(e=n>r.value),a(s.value)||(t=n<s.value)}if((e||t)&&(V(!!e,r.message,s.message,C.max,C.min),!n))return D(T[v].message),T}if((f||d)&&!P&&(O(N)||o&&Array.isArray(N))){let e=eA(f),t=eA(d),r=!a(e.value)&&N.length>+e.value,s=!a(t.value)&&N.length<+t.value;if((r||s)&&(V(r,e.message,t.message),!n))return D(T[v].message),T}if(m&&!P&&O(N)){let{value:e,message:t}=eA(m);if(ee(e)&&!N.match(e)&&(T[v]={type:C.pattern,message:t,ref:u,...Q(C.pattern,t)},!n))return D(t),T}if(y){if(M(y)){let e=eg(await y(N,r),R);if(e&&(T[v]={...e,...Q(C.validate,e.message)},!n))return D(e.message),T}else if(l(y)){let e={};for(let t in y){if(!S(e)&&!n)break;let s=eg(await y[t](N,r),R,t);s&&(e={...s,...Q(t,s.message)},D(s.message),n&&(T[v]=e))}if(!S(e)&&(T[v]={ref:R,...e},!n))return T}}return D(!0),T};let ey={mode:k.onSubmit,reValidateMode:k.onChange,shouldFocusError:!0};function ew(e={}){let t=n.useRef(void 0),r=n.useRef(void 0),[o,c]=n.useState({isDirty:!1,isValidating:!1,isLoading:M(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:M(e.defaultValues)?void 0:e.defaultValues});if(!t.current){if(e.formControl)t.current={...e.formControl,formState:o},e.defaultValues&&!M(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:r,...n}=function(e={}){let t,r={...ey,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:M(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},o={},c=(l(r.defaultValues)||l(r.values))&&p(r.defaultValues||r.values)||{},f=r.shouldUnregister?{}:p(c),g={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},C=0,N={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},R={...N},T={array:P(),state:P()},x=r.criteriaMode===k.all,L=e=>t=>{clearTimeout(C),C=setTimeout(e,t)},G=async e=>{if(!r.disabled&&(N.isValid||R.isValid||e)){let e=r.resolver?S((await W()).errors):await en(o,!0);e!==n.isValid&&T.state.next({isValid:e})}},H=(e,t)=>{!r.disabled&&(N.isValidating||N.validatingFields||R.isValidating||R.validatingFields)&&((e||Array.from(y.mount)).forEach(e=>{e&&(t?v(n.validatingFields,e,t):J(n.validatingFields,e))}),T.state.next({validatingFields:n.validatingFields,isValidating:!S(n.validatingFields)}))},K=(e,t)=>{v(n.errors,e,t),T.state.next({errors:n.errors})},_=(e,t,r,n)=>{let s=w(o,e);if(s){let i=w(f,e,A(r)?w(c,e):r);A(i)||n&&n.defaultChecked||t?v(f,e,t?i:X(s._f)):eA(e,i),g.mount&&G()}},Z=(e,t,s,i,a)=>{let o=!1,l=!1,u={name:e};if(!r.disabled){if(!s||i){(N.isDirty||R.isDirty)&&(l=n.isDirty,n.isDirty=u.isDirty=ep(),o=l!==u.isDirty);let r=B(w(c,e),t);l=!!w(n.dirtyFields,e),r?J(n.dirtyFields,e):v(n.dirtyFields,e,!0),u.dirtyFields=n.dirtyFields,o=o||(N.dirtyFields||R.dirtyFields)&&!r!==l}if(s){let t=w(n.touchedFields,e);t||(v(n.touchedFields,e,s),u.touchedFields=n.touchedFields,o=o||(N.touchedFields||R.touchedFields)&&t!==s)}o&&a&&T.state.next(u)}return o?u:{}},q=(e,s,i,a)=>{let o=w(n.errors,e),l=(N.isValid||R.isValid)&&b(s)&&n.isValid!==s;if(r.delayError&&i?(t=L(()=>K(e,i)))(r.delayError):(clearTimeout(C),t=null,i?v(n.errors,e,i):J(n.errors,e)),(i?!B(o,i):o)||!S(a)||l){let t={...a,...l&&b(s)?{isValid:s}:{},errors:n.errors,name:e};n={...n,...t},T.state.next(t)}},W=async e=>{H(e,!0);let t=await r.resolver(f,r.context,$(e||y.mount,o,r.criteriaMode,r.shouldUseNativeValidation));return H(e),t},ee=async e=>{let{errors:t}=await W(e);if(e)for(let r of e){let e=w(t,r);e?v(n.errors,r,e):J(n.errors,r)}else n.errors=t;return t},en=async(e,t,s={valid:!0})=>{for(let i in e){let a=e[i];if(a){let{_f:e,...o}=a;if(e){let o=y.array.has(e.name),l=a._f&&es(a._f);l&&N.validatingFields&&H([i],!0);let u=await em(a,y.disabled,f,x,r.shouldUseNativeValidation&&!t,o);if(l&&N.validatingFields&&H([i]),u[e.name]&&(s.valid=!1,t))break;t||(w(u,e.name)?o?ed(n.errors,u,e.name):v(n.errors,e.name,u[e.name]):J(n.errors,e.name))}S(o)||await en(o,t,s)}}return s.valid},ep=(e,t)=>!r.disabled&&(e&&t&&v(f,e,t),!B(eC(),c)),eg=(e,t,r)=>D(e,y,{...g.mount?f:A(t)?c:O(e)?{[e]:t}:t},r,t),eA=(e,t,r={})=>{let n=w(o,e),i=t;if(n){let r=n._f;r&&(r.disabled||v(f,e,Y(t,r)),i=U(r.ref)&&a(t)?"":t,Q(r.ref)?[...r.ref.options].forEach(e=>e.selected=i.includes(e.value)):r.refs?s(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find(t=>t===e.value):e.checked=i===e.value||!!i)}):r.refs.forEach(e=>e.checked=e.value===i):F(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||T.state.next({name:e,values:p(f)})))}(r.shouldDirty||r.shouldTouch)&&Z(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ek(e)},ew=(e,t,r)=>{for(let n in t){if(!t.hasOwnProperty(n))return;let s=t[n],a=e+"."+n,u=w(o,a);(y.array.has(e)||l(s)||u&&!u._f)&&!i(s)?ew(a,s,r):eA(a,s,r)}},eb=(e,t,r={})=>{let s=w(o,e),i=y.array.has(e),l=p(t);v(f,e,l),i?(T.array.next({name:e,values:p(f)}),(N.isDirty||N.dirtyFields||R.isDirty||R.dirtyFields)&&r.shouldDirty&&T.state.next({name:e,dirtyFields:z(c,f),isDirty:ep(e,l)})):!s||s._f||a(l)?eA(e,l,r):ew(e,l,r),ea(e,y)&&T.state.next({...n,name:e}),T.state.next({name:g.mount?e:void 0,values:p(f)})},ev=async e=>{g.mount=!0;let s=e.target,a=s.name,l=!0,c=w(o,a),h=e=>{l=Number.isNaN(e)||i(e)&&isNaN(e.getTime())||B(e,w(f,a,e))},d=er(r.mode),A=er(r.reValidateMode);if(c){let i,g;let m=s.type?X(c._f):u(e),b=e.type===E.BLUR||e.type===E.FOCUS_OUT,k=!ei(c._f)&&!r.resolver&&!w(n.errors,a)&&!c._f.deps||eh(b,w(n.touchedFields,a),n.isSubmitted,A,d),C=ea(a,y,b);v(f,a,m),b?s&&s.readOnly||(c._f.onBlur&&c._f.onBlur(e),t&&t(0)):c._f.onChange&&c._f.onChange(e);let O=Z(a,m,b),D=!S(O)||C;if(b||T.state.next({name:a,type:e.type,values:p(f)}),k)return(N.isValid||R.isValid)&&("onBlur"===r.mode?b&&G():b||G()),D&&T.state.next({name:a,...C?{}:O});if(!b&&C&&T.state.next({...n}),r.resolver){let{errors:e}=await W([a]);if(h(m),l){let t=el(n.errors,o,a),r=el(e,o,t.name||a);i=r.error,a=r.name,g=S(e)}}else H([a],!0),i=(await em(c,y.disabled,f,x,r.shouldUseNativeValidation))[a],H([a]),h(m),l&&(i?g=!1:(N.isValid||R.isValid)&&(g=await en(o,!0)));l&&(c._f.deps&&ek(c._f.deps),q(a,g,i,O))}},eE=(e,t)=>{if(w(n.errors,t)&&e.focus)return e.focus(),1},ek=async(e,t={})=>{let s,i;let a=I(e);if(r.resolver){let t=await ee(A(e)?e:a);s=S(t),i=e?!a.some(e=>w(t,e)):s}else e?((i=(await Promise.all(a.map(async e=>{let t=w(o,e);return await en(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&G():i=s=await en(o);return T.state.next({...!O(e)||(N.isValid||R.isValid)&&s!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:s}:{},errors:n.errors}),t.shouldFocus&&!i&&eo(o,eE,e?a:y.mount),i},eC=e=>{let t={...g.mount?f:c};return A(e)?t:O(e)?w(t,e):e.map(e=>w(t,e))},eN=(e,t)=>({invalid:!!w((t||n).errors,e),isDirty:!!w((t||n).dirtyFields,e),error:w((t||n).errors,e),isValidating:!!w(n.validatingFields,e),isTouched:!!w((t||n).touchedFields,e)}),eR=(e,t,r)=>{let s=(w(o,e,{_f:{}})._f||{}).ref,{ref:i,message:a,type:l,...u}=w(n.errors,e)||{};v(n.errors,e,{...u,...t,ref:s}),T.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},eO=e=>T.state.subscribe({next:t=>{ec(e.name,t.name,e.exact)&&eu(t,e.formState||N,eF,e.reRenderRoot)&&e.callback({values:{...f},...n,...t,defaultValues:c})}}).unsubscribe,eD=(e,t={})=>{for(let s of e?I(e):y.mount)y.mount.delete(s),y.array.delete(s),t.keepValue||(J(o,s),J(f,s)),t.keepError||J(n.errors,s),t.keepDirty||J(n.dirtyFields,s),t.keepTouched||J(n.touchedFields,s),t.keepIsValidating||J(n.validatingFields,s),r.shouldUnregister||t.keepDefaultValue||J(c,s);T.state.next({values:p(f)}),T.state.next({...n,...t.keepDirty?{isDirty:ep()}:{}}),t.keepIsValid||G()},eT=({disabled:e,name:t})=>{(b(e)&&g.mount||e||y.disabled.has(t))&&(e?y.disabled.add(t):y.disabled.delete(t))},eB=(e,t={})=>{let n=w(o,e),s=b(t.disabled)||b(r.disabled);return v(o,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),y.mount.add(e),n?eT({disabled:b(t.disabled)?t.disabled:r.disabled,name:e}):_(e,!0,t.value),{...s?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:et(t.min),max:et(t.max),minLength:et(t.minLength),maxLength:et(t.maxLength),pattern:et(t.pattern)}:{},name:e,onChange:ev,onBlur:ev,ref:s=>{if(s){eB(e,t),n=w(o,e);let r=A(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,i=V(r),a=n._f.refs||[];(i?a.find(e=>e===r):r===n._f.ref)||(v(o,e,{_f:{...n._f,...i?{refs:[...a.filter(j),r,...Array.isArray(w(c,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),_(e,!1,void 0,r))}else(n=w(o,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&!(h(y.array,e)&&g.action)&&y.unMount.add(e)}}},ex=()=>r.shouldFocusError&&eo(o,eE,y.mount),eI=(e,t)=>async s=>{let i;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let a=p(f);if(T.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await W();n.errors=e,a=p(t)}else await en(o);if(y.disabled.size)for(let e of y.disabled)J(a,e);if(J(n.errors,"root"),S(n.errors)){T.state.next({errors:{}});try{await e(a,s)}catch(e){i=e}}else t&&await t({...n.errors},s),ex(),setTimeout(ex);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:S(n.errors)&&!i,submitCount:n.submitCount+1,errors:n.errors}),i)throw i},eP=(e,t={})=>{let s=e?p(e):c,i=p(s),a=S(e),l=a?c:i;if(t.keepDefaultValues||(c=s),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...y.mount,...Object.keys(z(c,f))])))w(n.dirtyFields,e)?v(l,e,w(f,e)):eb(e,w(l,e));else{if(d&&A(e))for(let e of y.mount){let t=w(o,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(U(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of y.mount)eb(e,w(l,e));else o={}}f=r.shouldUnregister?t.keepDefaultValues?p(c):{}:p(l),T.array.next({values:{...l}}),T.state.next({values:{...l}})}y={mount:t.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},g.mount=!N.isValid||!!t.keepIsValid||!!t.keepDirtyValues,g.watch=!!r.shouldUnregister,T.state.next({submitCount:t.keepSubmitCount?n.submitCount:0,isDirty:!a&&(t.keepDirty?n.isDirty:!!(t.keepDefaultValues&&!B(e,c))),isSubmitted:!!t.keepIsSubmitted&&n.isSubmitted,dirtyFields:a?{}:t.keepDirtyValues?t.keepDefaultValues&&f?z(c,f):n.dirtyFields:t.keepDefaultValues&&e?z(c,e):t.keepDirty?n.dirtyFields:{},touchedFields:t.keepTouched?n.touchedFields:{},errors:t.keepErrors?n.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:c})},eS=(e,t)=>eP(M(e)?e(f):e,t),eF=e=>{n={...n,...e}},eM={control:{register:eB,unregister:eD,getFieldState:eN,handleSubmit:eI,setError:eR,_subscribe:eO,_runSchema:W,_focusError:ex,_getWatch:eg,_getDirty:ep,_setValid:G,_setFieldArray:(e,t=[],s,i,a=!0,l=!0)=>{if(i&&s&&!r.disabled){if(g.action=!0,l&&Array.isArray(w(o,e))){let t=s(w(o,e),i.argA,i.argB);a&&v(o,e,t)}if(l&&Array.isArray(w(n.errors,e))){let t=s(w(n.errors,e),i.argA,i.argB);a&&v(n.errors,e,t),ef(n.errors,e)}if((N.touchedFields||R.touchedFields)&&l&&Array.isArray(w(n.touchedFields,e))){let t=s(w(n.touchedFields,e),i.argA,i.argB);a&&v(n.touchedFields,e,t)}(N.dirtyFields||R.dirtyFields)&&(n.dirtyFields=z(c,f)),T.state.next({name:e,isDirty:ep(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else v(f,e,t)},_setDisabledField:eT,_setErrors:e=>{n.errors=e,T.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>m(w(g.mount?f:c,e,r.shouldUnregister?w(c,e,[]):[])),_reset:eP,_resetDefaultValues:()=>M(r.defaultValues)&&r.defaultValues().then(e=>{eS(e,r.resetOptions),T.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of y.unMount){let t=w(o,e);t&&(t._f.refs?t._f.refs.every(e=>!j(e)):!j(t._f.ref))&&eD(e)}y.unMount=new Set},_disableForm:e=>{b(e)&&(T.state.next({disabled:e}),eo(o,(t,r)=>{let n=w(o,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach(t=>{t.disabled=n._f.disabled||e}))},0,!1))},_subjects:T,_proxyFormState:N,get _fields(){return o},get _formValues(){return f},get _state(){return g},set _state(value){g=value},get _defaultValues(){return c},get _names(){return y},set _names(value){y=value},get _formState(){return n},get _options(){return r},set _options(value){r={...r,...value}}},subscribe:e=>(g.mount=!0,R={...R,...e.formState},eO({...e,formState:R})),trigger:ek,register:eB,handleSubmit:eI,watch:(e,t)=>M(e)?T.state.subscribe({next:r=>"values"in r&&e(eg(void 0,t),r)}):eg(e,t,!0),setValue:eb,getValues:eC,reset:eS,resetField:(e,t={})=>{w(o,e)&&(A(t.defaultValue)?eb(e,p(w(c,e))):(eb(e,t.defaultValue),v(c,e,p(t.defaultValue))),t.keepTouched||J(n.touchedFields,e),t.keepDirty||(J(n.dirtyFields,e),n.isDirty=t.defaultValue?ep(e,p(w(c,e))):ep()),!t.keepError&&(J(n.errors,e),N.isValid&&G()),T.state.next({...n}))},clearErrors:e=>{e&&I(e).forEach(e=>J(n.errors,e)),T.state.next({errors:e?n.errors:{}})},unregister:eD,setError:eR,setFocus:(e,t={})=>{let r=w(o,e),n=r&&r._f;if(n){let e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&M(e.select)&&e.select())}},getFieldState:eN};return{...eM,formControl:eM}}(e);t.current={...n,formState:o}}}let f=t.current.control;return f._options=e,R(()=>{let e=f._subscribe({formState:f._proxyFormState,callback:()=>c({...f._formState}),reRenderRoot:!0});return c(e=>({...e,isReady:!0})),f._formState.isReady=!0,e},[f]),n.useEffect(()=>f._disableForm(e.disabled),[f,e.disabled]),n.useEffect(()=>{e.mode&&(f._options.mode=e.mode),e.reValidateMode&&(f._options.reValidateMode=e.reValidateMode)},[f,e.mode,e.reValidateMode]),n.useEffect(()=>{e.errors&&(f._setErrors(e.errors),f._focusError())},[f,e.errors]),n.useEffect(()=>{e.shouldUnregister&&f._subjects.state.next({values:f._getWatch()})},[f,e.shouldUnregister]),n.useEffect(()=>{if(f._proxyFormState.isDirty){let e=f._getDirty();e!==o.isDirty&&f._subjects.state.next({isDirty:e})}},[f,o.isDirty]),n.useEffect(()=>{e.values&&!B(e.values,r.current)?(f._reset(e.values,{keepFieldsRef:!0,...f._options.resetOptions}),r.current=e.values,c(e=>({...e}))):f._resetDefaultValues()},[f,e.values]),n.useEffect(()=>{f._state.mount||(f._setValid(),f._state.mount=!0),f._state.watch&&(f._state.watch=!1,f._subjects.state.next({...f._formState})),f._removeUnmounted()}),t.current.formState=N(o,f),t.current}}};