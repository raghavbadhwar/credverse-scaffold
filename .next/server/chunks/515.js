exports.id=515,exports.ids=[515],exports.modules={7415:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=7415,e.exports=t},1417:e=>{"use strict";function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,a){r[n]=function(e){if(o){if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}})}e.exports=t},5386:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,a=[],s=0,c=0;t<r;){var l=e[t++];switch(c){case 0:a[s++]=n[l>>2],i=(3&l)<<4,c=1;break;case 1:a[s++]=n[i|l>>4],i=(15&l)<<2,c=2;break;case 2:a[s++]=n[i|l>>6],a[s++]=n[63&l],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return(c&&(a[s++]=n[i],a[s++]=61,1===c&&(a[s++]=61)),o)?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,s=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&s>1)break;if(void 0===(l=i[l]))throw Error(a);switch(s){case 0:n=l,s=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,s=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,s=3;break;case 3:t[r++]=(3&n)<<6|l,s=0}}if(1===s)throw Error(a);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},3478:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},5256:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),a=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|a)>>>0,r,n)}}function a(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:1/0*i:0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a,s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}function a(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=(a>>31)*2+1,c=a>>>20&2047,l=4294967296*(1048575&a)+o;return 2047===c?l?NaN:1/0*s:0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},1374:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6733:e=>{"use strict";function t(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=(7|a)+1),s}}e.exports=t},3670:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(a+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-o}},5569:e=>{function t(e){let t=new globalThis.AbortController;function r(){for(let n of(t.abort(),e))n&&n.removeEventListener&&n.removeEventListener("abort",r)}for(let t of e)if(t&&t.addEventListener){if(t.aborted){r();break}t.addEventListener("abort",r)}return t.signal}e.exports=t,e.exports.anySignal=t},1197:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=r(e,i)),t instanceof RegExp&&(t=r(t,i));var o=n(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,i,o,a,s,c=r.indexOf(e),l=r.indexOf(t,c+1),u=c;if(c>=0&&l>0){if(e===t)return[c,l];for(n=[],o=r.length;u>=0&&!s;)u==c?(n.push(u),c=r.indexOf(e,u+1)):1==n.length?s=[n.pop(),l]:((i=n.pop())<o&&(o=i,a=l),l=r.indexOf(t,u+1)),u=c<l&&c>=0?c:l;n.length&&(s=[o,a])}return s}e.exports=t,t.range=n},2742:(e,t,r)=>{var n=r(5201),i=r(1197);e.exports=p;var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(s).split("\\,").join(c).split("\\.").join(l)}function f(e){return e.split(o).join("\\").split(a).join("{").split(s).join("}").split(c).join(",").split(l).join(".")}function d(e){if(!e)return[""];var t=[],r=i("{","}",e);if(!r)return e.split(",");var n=r.pre,o=r.body,a=r.post,s=n.split(",");s[s.length-1]+="{"+o+"}";var c=d(a);return a.length&&(s[s.length-1]+=c.shift(),s.push.apply(s,c)),t.push.apply(t,s),t}function p(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),w(h(e),!0).map(f)):[]}function b(e){return"{"+e+"}"}function y(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function m(e,t){return e>=t}function w(e,t){var r=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),l=a||c,h=o.body.indexOf(",")>=0;if(!l&&!h)return o.post.match(/,(?!,).*\}/)?w(e=o.pre+"{"+o.body+s+o.post):[e];if(l)v=o.body.split(/\.\./);else if(1===(v=d(o.body)).length&&1===(v=w(v[0],!1).map(b)).length){var f=o.post.length?w(o.post,!1):[""];return f.map(function(e){return o.pre+v[0]+e})}var p=o.pre,f=o.post.length?w(o.post,!1):[""];if(l){var v,E,x,C=u(v[0]),A=u(v[1]),S=Math.max(v[0].length,v[1].length),U=3==v.length?Math.abs(u(v[2])):1,P=g;A<C&&(U*=-1,P=m);var I=v.some(y);E=[];for(var k=C;P(k,A);k+=U){if(c)"\\"===(x=String.fromCharCode(k))&&(x="");else if(x=String(k),I){var T=S-x.length;if(T>0){var D=Array(T+1).join("0");x=k<0?"-"+D+x.slice(1):D+x}}E.push(x)}}else E=n(v,function(e){return w(e,!1)});for(var N=0;N<E.length;N++)for(var j=0;j<f.length;j++){var B=p+E[N]+f[j];(!t||l||B)&&r.push(B)}return r}},5201:e=>{e.exports=function(e,r){for(var n=[],i=0;i<e.length;i++){var o=r(e[i],i);t(o)?n.push.apply(n,o):n.push(o)}return n};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},9662:(e,t,r)=>{function n(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)}function o(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function a(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function s(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=o,t.load=a,t.useColors=n,t.storage=s(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(7507)(t);let{formatters:c}=e.exports;c.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7507:(e,t,r)=>{function n(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let t,r,o;let a=null;function s(...e){if(!s.enabled)return;let r=s,i=Number(new Date),o=i-(t||i);r.diff=o,r.prev=t,r.curr=i,t=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return"%";a++;let o=n.formatters[i];if("function"==typeof o){let n=e[a];t=o.call(r,n),e.splice(a,1),a--}return t}),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return s.namespace=e,s.useColors=n.useColors(),s.color=n.selectColor(e),s.extend=i,s.destroy=n.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(r!==n.namespaces&&(r=n.namespaces,o=n.enabled(e)),o),set:e=>{a=e}}),"function"==typeof n.init&&n.init(s),s}function i(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){for(let t of(n.save(e),n.namespaces=e,n.names=[],n.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===t[0]?n.skips.push(t.slice(1)):n.names.push(t)}function a(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}function s(){let e=[...n.names,...n.skips.map(e=>"-"+e)].join(",");return n.enable(""),e}function c(e){for(let t of n.skips)if(a(e,t))return!1;for(let t of n.names)if(a(e,t))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=o,n.enabled=c,n.humanize=r(7914),n.destroy=u,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}e.exports=n},8589:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=r(9662):e.exports=r(6027)},6027:(e,t,r)=>{let n=r(4175),i=r(1764);t.init=h,t.log=c,t.formatArgs=a,t.save=l,t.load=u,t.useColors=o,t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r(7495);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function a(t){let{namespace:r,useColors:n}=this;if(n){let n=this.color,i="\x1b[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${r} \u001B[0m`;t[0]=o+t[0].split("\n").join("\n"+o),t.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else t[0]=s()+r+" "+t[0]}function s(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function c(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")}function l(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function u(){return process.env.DEBUG}function h(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(7507)(t);let{formatters:f}=e.exports;f.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},f.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},8343:e=>{"use strict";function t(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function r(e,r,n){if(!e||"string"==typeof e)throw TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(i){n.message=e.message,n.stack=e.stack;let r=function(){};return r.prototype=Object.create(Object.getPrototypeOf(e)),t(new r,n)}}e.exports=r},9335:e=>{e.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}}},5905:(e,t,r)=>{let n=r(9335);e.exports=class{constructor(e){this.hwm=e||16,this.head=new n(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let t=this.head;this.head=t.next=new n(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;let e=this.tail.shift();if(void 0===e&&this.tail.next){let e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){let e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}}},2244:e=>{e.exports=function(e){if(e){if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();if("function"==typeof e.next)return e}throw Error("argument is not an iterator or iterable")}},3285:e=>{"use strict";e.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}},3822:e=>{"use strict";async function*t(e,t={}){let r=e.getReader();try{for(;;){let e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}e.exports=t},8961:e=>{"use strict";let t=async e=>{let t=[];for await(let r of e)t.push(r);return t};e.exports=t},5390:(e,t,r)=>{"use strict";let n=r(8366),i="object"==typeof window&&"object"==typeof document&&9===document.nodeType,o=n(),a=i&&!o,s=o&&!i,c=o&&i,l="undefined"!=typeof process&&void 0!==process.release&&"node"===process.release.name&&!o,u="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,h="undefined"!=typeof process&&void 0!==process.env&&!1,f="undefined"!=typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:h,isElectron:o,isElectronMain:s,isElectronRenderer:c,isNode:l,isBrowser:a,isWebWorker:u,isEnvWithDom:i,isReactNative:f}},5502:(e,t,r)=>{"use strict";let n=r(2048).promises,i=r(2048),o=r(5889),a=r(5315),s=r(8343);e.exports=async function*(e,t,r){if(r=r||{},"string"!=typeof t)throw s(Error("Pattern must be a string"),"ERR_INVALID_PATH",{pattern:t});for await(let s of(a.isAbsolute(e)||(e=a.resolve(process.cwd(),e)),o(e,t,Object.assign({},{nodir:!1,realpath:!1,absolute:!0,dot:!!r.hidden,follow:null==r.followSymlinks||r.followSymlinks})))){let t=await n.stat(s),o=r.mode;r.preserveMode&&(o=t.mode);let a=r.mtime;r.preserveMtime&&(a=t.mtime),yield{path:c(s.replace(e,"")),content:t.isFile()?i.createReadStream(s):void 0,mode:o,mtime:a}}};let c=e=>e.replace(/\\/g,"/")},8548:(e,t,r)=>{"use strict";let n=r(9437),i=(e,t)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:o(e,t)});async function*o(e,t){let r=new n,i=await r.get(e,t);yield*i.iterator()}e.exports=i},9437:(e,t,r)=>{"use strict";let{fetch:n,Request:i,Headers:o}=r(5820),{TimeoutError:a,HTTPError:s}=r(1844),c=r(5799).bind({ignoreUndefined:!0}),{URL:l,URLSearchParams:u}=r(3898),h=r(5569),f=r(3822),{isBrowser:d,isWebWorker:p}=r(5390),b=r(8961),y=(e,t,r)=>{if(void 0===t)return e;let n=Date.now(),i=()=>Date.now()-n>=t;return new Promise((n,o)=>{let s=setTimeout(()=>{i()&&(o(new a),r.abort())},t),c=e=>t=>{if(clearTimeout(s),i()){o(new a);return}e(t)};e.then(c(n),c(o))})},g={throwHttpErrors:!0,credentials:"same-origin"};class m{constructor(e={}){this.opts=c(g,e)}async fetch(e,t={}){let r=c(this.opts,t),a=new o(r.headers);if("string"!=typeof e&&!(e instanceof l||e instanceof i))throw TypeError("`resource` must be a string, URL, or Request");let g=new l(e.toString(),r.base),{searchParams:m,transformSearchParams:E,json:x}=r;m&&("function"==typeof E?g.search=E(new u(r.searchParams)):g.search=new u(r.searchParams)),x&&(r.body=JSON.stringify(r.json),a.set("content-type","application/json"));let C=new AbortController,A=h([C.signal,r.signal]);null!=globalThis.ReadableStream&&r.body instanceof globalThis.ReadableStream&&(d||p)&&(r.body=new Blob(await b(f(r.body))));let S=await y(n(g.toString(),{...r,signal:A,timeout:void 0,headers:a,duplex:"half"}),r.timeout,C);if(!S.ok&&r.throwHttpErrors)throw r.handleError&&await r.handleError(S),new s(S);return S.iterator=async function*(){yield*v(S.body)},S.ndjson=async function*(){for await(let e of w(S.iterator()))t.transform?yield t.transform(e):yield e},S}post(e,t={}){return this.fetch(e,{...t,method:"POST"})}get(e,t={}){return this.fetch(e,{...t,method:"GET"})}put(e,t={}){return this.fetch(e,{...t,method:"PUT"})}delete(e,t={}){return this.fetch(e,{...t,method:"DELETE"})}options(e,t={}){return this.fetch(e,{...t,method:"OPTIONS"})}}let w=async function*(e){let t=new TextDecoder,r="";for await(let n of e){let e=(r+=t.decode(n,{stream:!0})).split(/\r?\n/);for(let t=0;t<e.length-1;t++){let r=e[t].trim();r.length>0&&(yield JSON.parse(r))}r=e[e.length-1]}r+=t.decode(),0!==(r=r.trim()).length&&(yield JSON.parse(r))},v=e=>{if(E(e))return e;if(C(e)){let t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:t.next.bind(t),return:r=>(e.destroy(),"function"==typeof t.return)?t.return():Promise.resolve({done:!0,value:r})})}}if(x(e)){let t=e.getReader();return async function*(){try{for(;;){let{done:e,value:r}=await t.read();if(e)return;r&&(yield r)}}finally{t.releaseLock()}}()}throw TypeError("Body can't be converted to AsyncIterable")},E=e=>"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator],x=e=>e&&"function"==typeof e.getReader,C=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");m.HTTPError=s,m.TimeoutError=a,m.streamToAsyncIterator=v,m.post=(e,t)=>new m(t).post(e,t),m.get=(e,t)=>new m(t).get(e,t),m.put=(e,t)=>new m(t).put(e,t),m.delete=(e,t)=>new m(t).delete(e,t),m.options=(e,t)=>new m(t).options(e,t),e.exports=m},1844:(e,t)=>{"use strict";class r extends Error{constructor(e="Request timed out"){super(e),this.name="TimeoutError"}}t.TimeoutError=r;class n extends Error{constructor(e="The operation was aborted."){super(e),this.name="AbortError"}}t.AbortError=n;class i extends Error{constructor(e){super(e.statusText),this.name="HTTPError",this.response=e}}t.HTTPError=i},5820:(e,t,r)=>{"use strict";let n="./fetch.node";"function"==typeof XMLHttpRequest&&(n="./fetch.browser");let i=r(7415)(n);e.exports=i},8366:e=>{function t(){return!!("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}e.exports=t},3328:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},3898:(e,t,r)=>{"use strict";let{URLWithLegacySupport:n,format:i,URLSearchParams:o,defaultBase:a}=r(2883),s=r(1296);e.exports={URL:n,URLSearchParams:o,format:i,relative:s,defaultBase:a}},1296:(e,t,r)=>{"use strict";let{URLWithLegacySupport:n,format:i}=r(2883);e.exports=(e,t={},r={},o)=>{let a,s=t.protocol?t.protocol.replace(":",""):"http";s=(r[s]||o||s)+":";try{a=new n(e)}catch(e){a={}}return new n(e,i(Object.assign({},t,{protocol:s||a.protocol,host:t.host||a.host}))).toString()}},2883:(e,t,r)=>{"use strict";let{URL:n,URLSearchParams:i,format:o}=r(7360),a="http://localhost";class s extends n{constructor(e="",t=a){super(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}format(){return this.toString()}}e.exports={URLWithLegacySupport:s,URLSearchParams:i,format:o,defaultBase:a}},5889:(e,t,r)=>{"use strict";let n=r(2048).promises,i=r(5315),o=r(7228);async function*a(e,t,r={}){let a=i.resolve(e),c=i.relative(r.cwd||process.cwd(),e);if((await n.stat(a)).isDirectory()){for await(let e of s(a,"",t,r))yield e;return}o(c,t,r)&&(yield r.absolute?a:c)}async function*s(e,t,r,a){for await(let c of(await n.opendir(i.join(e,t)))){let n=i.join(t,c.name),l=i.join(e,t,c.name),u=o(n,r,a),h=c.isDirectory();h&&a.nodir&&(u=!1),u&&(yield a.absolute?l:n),h&&(yield*s(e,n,r,a))}}e.exports=a},6360:e=>{"use strict";let t=()=>{let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e};e.exports=t},2176:(e,t,r)=>{let{Readable:n,Writable:i,Duplex:o}=r(6162),a=r(2244),s=r(6804),{Buffer:c}=r(8893),l=c.alloc(0);e.exports=function(e,t){let r,c;t=t||{};let u=!1,h=new s;e={sink:e.sink,source:e.source?a(e.source):null};let f=o;e.source?e.sink||(f=n):f=i,e.source&&(r={async read(t){if(!u){u=!0;try{for(;;){let{value:r,done:n}=await e.source.next(t);if(n)return this.push(null);if(!this.push(r))break}}catch(e){this.emit("error",e)}finally{u=!1}}}}),e.sink&&(c={write(e,t,r){h.push(e).then(()=>r(),r)},final(e){h.push(l).then(()=>e(),e)}}),Object.assign(t,r,c);let d=new f(t);return e.sink&&e.sink({[Symbol.asyncIterator](){return this},async next(){let e=await h.shift();return e===l?{done:!0}:{value:e}},throw:async e=>(d.destroy(e),{done:!0}),return:async()=>(d.destroy(),{done:!0})}),d}},4216:(e,t,r)=>{"use strict";let n=r(8872),i=r(2176);function o(e,t){return i({source:e},t)}function a(e,t){return i({sink:e},t)}e.exports=o,e.exports.readable=o,e.exports.writable=a,e.exports.transform=n,e.exports.duplex=i},8872:(e,t,r)=>{let n=r(2176),i=r(6360);e.exports=function(e,t){let{promise:r,resolve:o}=i();return n({sink:t=>o(e(t)),source:async function*(){for await(let e of(await r))yield e}()},t)}},5799:function(e,t,r){"use strict";let n=r(3328),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),s=this,c={concatArrays:!1,ignoreUndefined:!1},l=e=>{let t=[];for(let r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols)for(let r of Object.getOwnPropertySymbols(e))o.call(e,r)&&t.push(r);return t};function u(e){return Array.isArray(e)?h(e):n(e)?f(e):e}function h(e){let t=e.slice(0,0);return l(e).forEach(r=>{a(t,r,u(e[r]))}),t}function f(e){let t=null===Object.getPrototypeOf(e)?Object.create(null):{};return l(e).forEach(r=>{a(t,r,u(e[r]))}),t}let d=(e,t,r,n)=>(r.forEach(r=>{void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?a(e,r,b(e[r],t[r],n)):a(e,r,u(t[r])))}),e),p=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(t=>{let s=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(s.push(String(r)),t===e?a(n,o++,t[r]):a(n,o++,u(t[r])));n=d(n,t,l(t).filter(e=>!s.includes(e)),r)}),n};function b(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?p(e,t,r):n(t)&&n(e)?d(e,t,l(t),r):u(t)}e.exports=function(...e){let t=b(u(c),this!==s&&this||{},c),r={_:{}};for(let i of e)if(void 0!==i){if(!n(i))throw TypeError("`"+i+"` is not an Option Object");r=b(r,{_:i},t)}return r._}},7228:(e,t,r)=>{e.exports=y,y.Minimatch=g;var n=function(){try{return r(5315)}catch(e){}}()||{sep:"/"};y.sep=n.sep;var i=y.GLOBSTAR=g.GLOBSTAR={},o=r(2742),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s="[^/]",c=s+"*?",l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",u="(?:(?!(?:\\/|^)\\.).)*?",h=f("().*{}+?[]^$\\!");function f(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}var d=/\/+/;function p(e,t){return t=t||{},function(r,n,i){return y(r,e,t)}}function b(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function y(e,t,r){return x(t),r||(r={}),(!!r.nocomment||"#"!==t.charAt(0))&&new g(t,r).match(e)}function g(e,t){if(!(this instanceof g))return new g(e,t);x(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===n.sep||(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function m(){var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0)){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(e){return e.split(d)}),this.debug(this.pattern,r),r=r.map(function(e,t,r){return e.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(e){return -1===e.indexOf(!1)}),this.debug(this.pattern,r),this.set=r}function w(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}function v(e,t){return(t||(t=this instanceof g?this.options:{}),x(e=void 0===e?this.pattern:e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e))?[e]:o(e)}y.filter=p,y.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return y;var t=y,r=function(r,n,i){return t(r,n,b(e,i))};return r.Minimatch=function(r,n){return new t.Minimatch(r,b(e,n))},r.Minimatch.defaults=function(r){return t.defaults(b(e,r)).Minimatch},r.filter=function(r,n){return t.filter(r,b(e,n))},r.defaults=function(r){return t.defaults(b(e,r))},r.makeRe=function(r,n){return t.makeRe(r,b(e,n))},r.braceExpand=function(r,n){return t.braceExpand(r,b(e,n))},r.match=function(r,n,i){return t.match(r,n,b(e,i))},r},g.defaults=function(e){return y.defaults(e).Minimatch},g.prototype.debug=function(){},g.prototype.make=m,g.prototype.parseNegate=w,y.braceExpand=function(e,t){return v(e,t)},g.prototype.braceExpand=v;var E=65536,x=function(e){if("string"!=typeof e)throw TypeError("invalid pattern");if(e.length>E)throw TypeError("pattern is too long")};g.prototype.parse=A;var C={};function A(e,t){x(e);var r=this.options;if("**"===e){if(!r.noglobstar)return i;e="*"}if(""===e)return"";var n="",o=!!r.nocase,l=!1,u=[],f=[],d=!1,p=-1,b=-1,y="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function m(){if(w){switch(w){case"*":n+=c,o=!0;break;case"?":n+=s,o=!0;break;default:n+="\\"+w}g.debug("clearStateChar %j %j",w,n),w=!1}}for(var w,v,E=0,A=e.length;E<A&&(v=e.charAt(E));E++){if(this.debug("%s	%s %s %j",e,E,n,v),l&&h[v]){n+="\\"+v,l=!1;continue}switch(v){case"/":return!1;case"\\":m(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,E,n,v),d){this.debug("  in class"),"!"===v&&E===b+1&&(v="^"),n+=v;continue}g.debug("call clearStateChar %j",w),m(),w=v,r.noext&&m();continue;case"(":if(d){n+="(";continue}if(!w){n+="\\(";continue}u.push({type:w,start:E-1,reStart:n.length,open:a[w].open,close:a[w].close}),n+="!"===w?"(?:(?!(?:":"(?:",this.debug("plType %j %j",w,n),w=!1;continue;case")":if(d||!u.length){n+="\\)";continue}m(),o=!0;var S=u.pop();n+=S.close,"!"===S.type&&f.push(S),S.reEnd=n.length;continue;case"|":if(d||!u.length||l){n+="\\|",l=!1;continue}m(),n+="|";continue;case"[":if(m(),d){n+="\\"+v;continue}d=!0,b=E,p=n.length,n+=v;continue;case"]":if(E===b+1||!d){n+="\\"+v,l=!1;continue}var P=e.substring(b+1,E);try{RegExp("["+P+"]")}catch(e){var I=this.parse(P,C);n=n.substr(0,p)+"\\["+I[0]+"\\]",o=o||I[1],d=!1;continue}o=!0,d=!1,n+=v;continue;default:m(),l?l=!1:h[v]&&!("^"===v&&d)&&(n+="\\"),n+=v}}for(d&&(P=e.substr(b+1),I=this.parse(P,C),n=n.substr(0,p)+"\\["+I[0],o=o||I[1]),S=u.pop();S;S=u.pop()){var k=n.slice(S.reStart+S.open.length);this.debug("setting tail",n,S),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,r){return r||(r="\\"),t+t+r+"|"}),this.debug("tail=%j\n   %s",k,k,S,n);var T="*"===S.type?c:"?"===S.type?s:"\\"+S.type;o=!0,n=n.slice(0,S.reStart)+T+"\\("+k}m(),l&&(n+="\\\\");var D=!1;switch(n.charAt(0)){case"[":case".":case"(":D=!0}for(var N=f.length-1;N>-1;N--){var j=f[N],B=n.slice(0,j.reStart),z=n.slice(j.reStart,j.reEnd-8),L=n.slice(j.reEnd-8,j.reEnd),$=n.slice(j.reEnd);L+=$;var O=B.split("(").length-1,M=$;for(E=0;E<O;E++)M=M.replace(/\)[+*?]?/,"");var R="";""===($=M)&&t!==C&&(R="$"),n=B+z+$+R+L}if(""!==n&&o&&(n="(?=.)"+n),D&&(n=y+n),t===C)return[n,o];if(!o)return U(e);var V=r.nocase?"i":"";try{var _=RegExp("^"+n+"$",V)}catch(e){return RegExp("$.")}return _._glob=e,_._src=n,_}function S(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?l:u,n=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===i?r:"string"==typeof e?P(e):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp}function U(e){return e.replace(/\\(.)/g,"$1")}function P(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}y.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=S,y.match=function(e,t,r){var n=new g(t,r=r||{});return e=e.filter(function(e){return n.match(e)}),n.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r,i,o=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(d),this.debug(this.pattern,"split",e);var a=this.set;for(this.debug(this.pattern,"set",a),i=e.length-1;i>=0&&!(r=e[i]);i--);for(i=0;i<a.length;i++){var s=a[i],c=e;if(o.matchBase&&1===s.length&&(c=[r]),this.matchOne(c,s,t)){if(o.flipNegate)return!0;return!this.negate}}return!o.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,s=e.length,c=t.length;o<s&&a<c;o++,a++){this.debug("matchOne loop");var l,u=t[a],h=e[o];if(this.debug(t,u,h),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,h]);var f=o,d=a+1;if(d===c){for(this.debug("** at the end");o<s;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<s;){var p=e[f];if(this.debug("\nglobstar while",e,f,t,d,p),this.matchOne(e.slice(f),t.slice(d),r))return this.debug("globstar found match!",f,s,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,f,t,d);break}this.debug("globstar swallow a segment, and continue"),f++}if(r&&(this.debug("\n>>> no match, partial?",e,f,t,d),f===s))return!0;return!1}if("string"==typeof u?(l=h===u,this.debug("string match",u,h,l)):(l=h.match(u),this.debug("pattern match",u,h,l)),!l)return!1}if(o===s&&a===c)return!0;if(o===s)return r;if(a===c)return o===s-1&&""===e[o];throw Error("wtf?")}},7914:e=>{var t=1e3,r=6e4,n=36e5,i=864e5,o=6048e5,a=315576e5;function s(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function c(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}function l(e){var o=Math.abs(e);return o>=i?u(e,o,i,"day"):o>=n?u(e,o,n,"hour"):o>=r?u(e,o,r,"minute"):o>=t?u(e,o,t,"second"):e+" ms"}function u(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return s(e);if("number"===r&&isFinite(e))return t.long?l(e):c(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6804:(e,t,r)=>{let n=r(5905),i=r(6612);e.exports=class{constructor(){this._buffer=new n,this._waitingConsumers=new n}push(e){let{promise:t,resolve:r}=i();return this._buffer.push({chunk:e,resolve:r}),this._consume(),t}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){let e=this._waitingConsumers.shift(),t=this._buffer.shift();e.resolve(t.chunk),t.resolve()}}shift(){let{promise:e,resolve:t}=i();return this._waitingConsumers.push({resolve:t}),this._consume(),e}isEmpty(){return this._buffer.isEmpty()}}},6612:e=>{"use strict";let t=()=>{let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e};e.exports=t},5331:(e,t,r)=>{"use strict";e.exports=r(8690)},8690:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(8458),n.BufferWriter=r(8386),n.Reader=r(2279),n.BufferReader=r(424),n.util=r(745),n.rpc=r(4774),n.roots=r(9694),n.configure=i,i()},2279:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(745),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},u=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function h(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=u(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},424:(e,t,r)=>{"use strict";e.exports=o;var n=r(2279);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(745);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},9694:e=>{"use strict";e.exports={}},4774:(e,t,r)=>{"use strict";t.Service=r(3829)},3829:(e,t,r)=>{"use strict";e.exports=i;var n=r(745);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(!s.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return s.emit("error",e,t),a(e);if(null===r){s.end(!0);return}if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)})}catch(e){s.emit("error",e,t),setTimeout(function(){a(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},3674:(e,t,r)=>{"use strict";e.exports=i;var n=r(745);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},745:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(1417),n.base64=r(5386),n.EventEmitter=r(3478),n.float=r(5256),n.inquire=r(1374),n.utf8=r(3670),n.pool=r(6733),n.LongBits=r(3674),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},8458:(e,t,r)=>{"use strict";e.exports=h;var n,i=r(745),o=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(h.create=function(){return new n})()}:function(){return new h}};function d(e,t,r){t[r]=255&e}function p(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function b(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}h.create=f(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},b.prototype=Object.create(c.prototype),b.prototype.fn=p,h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new b((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(y,10,o.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=o.from(e);return this._push(y,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(y,t.length(),t)},h.prototype.bool=function(e){return this._push(d,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=h.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},h.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},h._configure=function(e){n=e,h.create=f(),n._configure()}},8386:(e,t,r)=>{"use strict";e.exports=o;var n=r(8458);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(745);function o(){n.call(this)}function a(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},1351:e=>{e.exports=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}();throw Error("unknown stream")}},7495:(e,t,r)=>{"use strict";let n;let i=r(9801),o=r(4175),a=r(3285),{env:s}=process;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===n)return 0;if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let r=n||0;if("dumb"===s.TERM)return r;if("win32"===process.platform){let e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in s)||"codeship"===s.CI_NAME?1:r;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){let e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:r}function u(e){return c(l(e,e&&e.isTTY))}a("no-color")||a("no-colors")||a("color=false")||a("color=never")?n=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(n=1),"FORCE_COLOR"in s&&(n="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:u,stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},4880:e=>{e.exports=n;var t=128,r=127;function n(e,i){var o,a=0,i=i||0,s=0,c=i,l=e.length;do{if(c>=l||s>49)throw n.bytes=0,RangeError("Could not decode varint");o=e[c++],a+=s<28?(o&r)<<s:(o&r)*Math.pow(2,s),s+=7}while(o>=t);return n.bytes=c-i,a}},1020:e=>{e.exports=i;var t=128,r=-128,n=2147483648;function i(e,o,a){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw i.bytes=0,RangeError("Could not encode varint");o=o||[];for(var s=a=a||0;e>=n;)o[a++]=255&e|t,e/=128;for(;e&r;)o[a++]=255&e|t,e>>>=7;return o[a]=0|e,i.bytes=a-s+1,o}},5307:(e,t,r)=>{e.exports={encode:r(1020),decode:r(4880),encodingLength:r(597)}},597:e=>{var t=128,r=16384,n=2097152,i=268435456,o=34359738368,a=4398046511104,s=562949953421312,c=72057594037927940,l=0x7fffffffffffffff;e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<a?6:e<s?7:e<c?8:e<l?9:10}},4515:(e,t,r)=>{"use strict";let n,i;r.d(t,{create:()=>Ux});var o,a,s,c,l={};r.r(l),r.d(l,{code:()=>ry,createLink:()=>rd,createNode:()=>rf,decode:()=>rm,encode:()=>rg,name:()=>rb,prepare:()=>ru,validate:()=>rh});var u={};r.r(u),r.d(u,{code:()=>ow,decode:()=>oE,decodeOptions:()=>og,encode:()=>ov,encodeOptions:()=>op,name:()=>om,toByteView:()=>of});var h={};r.r(h),r.d(h,{code:()=>aA,decode:()=>aU,encode:()=>aS,format:()=>aP,name:()=>aC,parse:()=>ak,stringify:()=>aP});var f={};r.r(f),r.d(f,{code:()=>sD,decode:()=>sO,encode:()=>s$,name:()=>sT,toGeneral:()=>sL});var d={};r.r(d),r.d(d,{identity:()=>ca});var p={};r.r(p),r.d(p,{identity:()=>cm});var b={};r.r(b),r.d(b,{base2:()=>cw});var y={};r.r(y),r.d(y,{base8:()=>cv});var g={};r.r(g),r.d(g,{base10:()=>cE});var m={};r.r(m),r.d(m,{base16:()=>cx,base16upper:()=>cC});var w={};r.r(w),r.d(w,{base32:()=>cA,base32hex:()=>cI,base32hexpad:()=>cT,base32hexpadupper:()=>cD,base32hexupper:()=>ck,base32pad:()=>cU,base32padupper:()=>cP,base32upper:()=>cS,base32z:()=>cN});var v={};r.r(v),r.d(v,{base36:()=>cj,base36upper:()=>cB});var E={};r.r(E),r.d(E,{base58btc:()=>cz,base58flickr:()=>cL});var x={};r.r(x),r.d(x,{base64:()=>c$,base64pad:()=>cO,base64url:()=>cM,base64urlpad:()=>cR});var C={};r.r(C),r.d(C,{base256emoji:()=>cH});var A={};r.r(A),r.d(A,{sha256:()=>cW,sha512:()=>cK});var S={};r.r(S),r.d(S,{code:()=>cZ,decode:()=>cY,encode:()=>cX,name:()=>cQ});var U={};r.r(U),r.d(U,{code:()=>c5,decode:()=>c6,encode:()=>c8,name:()=>c2});var P={};r.r(P),r.d(P,{base10:()=>lP});var I={};r.r(I),r.d(I,{base16:()=>lI,base16upper:()=>lk});var k={};r.r(k),r.d(k,{base2:()=>lT});var T={};r.r(T),r.d(T,{base256emoji:()=>lB});var D={};r.r(D),r.d(D,{base32:()=>lz,base32hex:()=>lM,base32hexpad:()=>lV,base32hexpadupper:()=>l_,base32hexupper:()=>lR,base32pad:()=>l$,base32padupper:()=>lO,base32upper:()=>lL,base32z:()=>lF});var N={};r.r(N),r.d(N,{base36:()=>lH,base36upper:()=>lq});var j={};r.r(j),r.d(j,{base58btc:()=>lJ,base58flickr:()=>lG});var B={};r.r(B),r.d(B,{base64:()=>lW,base64pad:()=>lK,base64url:()=>lQ,base64urlpad:()=>lZ});var z={};r.r(z),r.d(z,{base8:()=>lX});var L={};r.r(L),r.d(L,{identity:()=>lY});var $={};r.r($),r.d($,{code:()=>l5,decode:()=>l6,encode:()=>l8,name:()=>l2});var O={};r.r(O),r.d(O,{code:()=>l4,decode:()=>l9,encode:()=>l7,name:()=>l3});var M={};r.r(M),r.d(M,{identity:()=>uP});var R={};r.r(R),r.d(R,{sha256:()=>uT,sha512:()=>uD});var V={};r.r(V),r.d(V,{base58btc:()=>hB,base58flickr:()=>hz});var _={};r.r(_),r.d(_,{base32:()=>hL,base32hex:()=>hR,base32hexpad:()=>h_,base32hexpadupper:()=>hF,base32hexupper:()=>hV,base32pad:()=>hO,base32padupper:()=>hM,base32upper:()=>h$,base32z:()=>hH});var F={};r.r(F),r.d(F,{identity:()=>h2});var H={};r.r(H),r.d(H,{base2:()=>h5});var q={};r.r(q),r.d(q,{base8:()=>h8});var J={};r.r(J),r.d(J,{base10:()=>h6});var G={};r.r(G),r.d(G,{base16:()=>h3,base16upper:()=>h4});var W={};r.r(W),r.d(W,{base36:()=>h7,base36upper:()=>h9});var K={};r.r(K),r.d(K,{base64:()=>fe,base64pad:()=>ft,base64url:()=>fr,base64urlpad:()=>fn});var Q={};r.r(Q),r.d(Q,{base256emoji:()=>fs});var Z={};r.r(Z),r.d(Z,{sha256:()=>fu,sha512:()=>fh});var X={};r.r(X),r.d(X,{identity:()=>fb});var Y={};r.r(Y),r.d(Y,{code:()=>fg,decode:()=>fw,encode:()=>fm,name:()=>fy});var ee={};r.r(ee),r.d(ee,{code:()=>fC,decode:()=>fS,encode:()=>fA,name:()=>fx});var et={};r.r(et),r.d(et,{base10:()=>dZ});var er={};r.r(er),r.d(er,{base16:()=>dX,base16upper:()=>dY});var en={};r.r(en),r.d(en,{base2:()=>d0});var ei={};r.r(ei),r.d(ei,{base256emoji:()=>d8});var eo={};r.r(eo),r.d(eo,{base32:()=>d6,base32hex:()=>d9,base32hexpad:()=>pt,base32hexpadupper:()=>pr,base32hexupper:()=>pe,base32pad:()=>d4,base32padupper:()=>d7,base32upper:()=>d3,base32z:()=>pn});var ea={};r.r(ea),r.d(ea,{base36:()=>pi,base36upper:()=>po});var es={};r.r(es),r.d(es,{base58btc:()=>pa,base58flickr:()=>ps});var ec={};r.r(ec),r.d(ec,{base64:()=>pc,base64pad:()=>pl,base64url:()=>pu,base64urlpad:()=>ph});var el={};r.r(el),r.d(el,{base8:()=>pf});var eu={};r.r(eu),r.d(eu,{identity:()=>pd});var eh={};r.r(eh),r.d(eh,{code:()=>pg,decode:()=>pw,encode:()=>pm,name:()=>py});var ef={};r.r(ef),r.d(ef,{code:()=>pE,decode:()=>pC,encode:()=>px,name:()=>pv});var ed={};r.r(ed),r.d(ed,{identity:()=>pZ});var ep={};r.r(ep),r.d(ep,{sha256:()=>p2,sha512:()=>p5});var eb={};r.r(eb),r.d(eb,{base58btc:()=>gS,base58flickr:()=>gU});var ey={};r.r(ey),r.d(ey,{identity:()=>gP});var eg={};r.r(eg),r.d(eg,{base2:()=>gI});var em={};r.r(em),r.d(em,{base8:()=>gk});var ew={};r.r(ew),r.d(ew,{base10:()=>gT});var ev={};r.r(ev),r.d(ev,{base16:()=>gD,base16upper:()=>gN});var eE={};r.r(eE),r.d(eE,{base32:()=>gj,base32hex:()=>g$,base32hexpad:()=>gM,base32hexpadupper:()=>gR,base32hexupper:()=>gO,base32pad:()=>gz,base32padupper:()=>gL,base32upper:()=>gB,base32z:()=>gV});var ex={};r.r(ex),r.d(ex,{base36:()=>g_,base36upper:()=>gF});var eC={};r.r(eC),r.d(eC,{base64:()=>gH,base64pad:()=>gq,base64url:()=>gJ,base64urlpad:()=>gG});var eA={};r.r(eA),r.d(eA,{base256emoji:()=>gZ});var eS={};r.r(eS),r.d(eS,{sha256:()=>mp,sha512:()=>mb});var eU={};r.r(eU),r.d(eU,{identity:()=>mw});var eP={};r.r(eP),r.d(eP,{code:()=>mE,decode:()=>mC,encode:()=>mx,name:()=>mv});var eI={};r.r(eI),r.d(eI,{code:()=>mP,decode:()=>mk,encode:()=>mI,name:()=>mU});var ek={};r.r(ek),r.d(ek,{base10:()=>wf});var eT={};r.r(eT),r.d(eT,{base16:()=>wd,base16upper:()=>wp});var eD={};r.r(eD),r.d(eD,{base2:()=>wb});var eN={};r.r(eN),r.d(eN,{base256emoji:()=>ww});var ej={};r.r(ej),r.d(ej,{base32:()=>wv,base32hex:()=>wA,base32hexpad:()=>wU,base32hexpadupper:()=>wP,base32hexupper:()=>wS,base32pad:()=>wx,base32padupper:()=>wC,base32upper:()=>wE,base32z:()=>wI});var eB={};r.r(eB),r.d(eB,{base36:()=>wk,base36upper:()=>wT});var ez={};r.r(ez),r.d(ez,{base58btc:()=>wD,base58flickr:()=>wN});var eL={};r.r(eL),r.d(eL,{base64:()=>wj,base64pad:()=>wB,base64url:()=>wz,base64urlpad:()=>wL});var e$={};r.r(e$),r.d(e$,{base8:()=>w$});var eO={};r.r(eO),r.d(eO,{identity:()=>wO});var eM={};r.r(eM),r.d(eM,{code:()=>w_,decode:()=>wH,encode:()=>wF,name:()=>wV});var eR={};r.r(eR),r.d(eR,{code:()=>wJ,decode:()=>wW,encode:()=>wG,name:()=>wq});var eV={};r.r(eV),r.d(eV,{identity:()=>vf});var e_={};r.r(e_),r.d(e_,{sha256:()=>vb,sha512:()=>vy});var eF={};r.r(eF),r.d(eF,{base10:()=>EF});var eH={};r.r(eH),r.d(eH,{base16:()=>EH,base16upper:()=>Eq});var eq={};r.r(eq),r.d(eq,{base2:()=>EJ});var eJ={};r.r(eJ),r.d(eJ,{base256emoji:()=>EQ});var eG={};r.r(eG),r.d(eG,{base32:()=>EZ,base32hex:()=>E1,base32hexpad:()=>E5,base32hexpadupper:()=>E8,base32hexupper:()=>E2,base32pad:()=>EY,base32padupper:()=>E0,base32upper:()=>EX,base32z:()=>E6});var eW={};r.r(eW),r.d(eW,{base36:()=>E3,base36upper:()=>E4});var eK={};r.r(eK),r.d(eK,{base58btc:()=>E7,base58flickr:()=>E9});var eQ={};r.r(eQ),r.d(eQ,{base64:()=>xe,base64pad:()=>xt,base64url:()=>xr,base64urlpad:()=>xn});var eZ={};r.r(eZ),r.d(eZ,{base8:()=>xi});var eX={};r.r(eX),r.d(eX,{identity:()=>xo});var eY={};r.r(eY),r.d(eY,{code:()=>xl,decode:()=>xh,encode:()=>xu,name:()=>xc});var e0={};r.r(e0),r.d(e0,{code:()=>xd,decode:()=>xb,encode:()=>xp,name:()=>xf});var e1={};r.r(e1),r.d(e1,{identity:()=>xF});var e2={};r.r(e2),r.d(e2,{sha256:()=>xJ,sha512:()=>xG});let e5=e=>Promise.reject(Error(`No base found for "${e}"`));class e8{constructor(e){for(let t of(this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||e5,e.bases))this.addBase(t)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw Error(`Codec already exists for codec "${e.name}"`);this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];let t=await this._loadBase(e);return null==this._basesByName[t.name]&&null==this._basesByPrefix[t.prefix]&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}}let e6=e=>Promise.reject(Error(`No codec found for "${e}"`));class e3{constructor(e){for(let t of(this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||e6,e.codecs))this.addCodec(t)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw Error(`Resolver already exists for codec "${e.name}"`);this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){let t="string"==typeof e?this._codecsByName:this._codecsByCode;if(t[e])return t[e];let r=await this._loadCodec(e);return null==t[e]&&this.addCodec(r),r}listCodecs(){return Object.values(this._codecsByName)}}let e4=e=>Promise.reject(Error(`No hasher found for "${e}"`));class e7{constructor(e){for(let t of(this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||e4,e.hashers))this.addHasher(t)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw Error(`Resolver already exists for codec "${e.name}"`);this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){let t="string"==typeof e?this._hashersByName:this._hashersByCode;if(t[e])return t[e];let r=await this._loadHasher(e);return null==t[e]&&this.addHasher(r),r}listHashers(){return Object.values(this._hashersByName)}}function e9(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function te(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}new Uint8Array(0);let tt=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};class tr{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tn{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return to(this,e)}}class ti{decoders;constructor(e){this.decoders=e}or(e){return to(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function to(e,t){return new ti({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class ta{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new tr(e,t,r),this.decoder=new tn(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function ts({name:e,prefix:t,encode:r,decode:n}){return new ta(e,t,r,n)}function tc({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=tt(r,e);return ts({prefix:t,name:e,encode:n,decode:e=>te(i(e))})}function tl(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,c=0;for(let l=0;l<i;++l){let i=t[e[l]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[c++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function tu(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function th(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function tf({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=th(n);return ts({prefix:t,name:e,encode:e=>tu(e,n,r),decode:t=>tl(t,i,r,e)})}let td=tf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});tf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let tp=tc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});tc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});let tb=tc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});tc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ty=128,tg=-128,tm=2147483648;function tw(e,t,r){t=t||[];for(var n=r=r||0;e>=tm;)t[r++]=255&e|ty,e/=128;for(;e&tg;)t[r++]=255&e|ty,e>>>=7;return t[r]=0|e,tw.bytes=r-n+1,t}var tv=128,tE=127;function tx(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw tx.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&tE)<<i:(r&tE)*Math.pow(2,i),i+=7}while(r>=tv);return tx.bytes=o-t,n}var tC=128,tA=16384,tS=2097152,tU=268435456,tP=34359738368,tI=4398046511104,tk=562949953421312,tT=72057594037927940,tD=0x7fffffffffffffff;let tN={encode:tw,decode:tx,encodingLength:function(e){return e<tC?1:e<tA?2:e<tS?3:e<tU?4:e<tP?5:e<tI?6:e<tk?7:e<tT?8:e<tD?9:10}};function tj(e,t=0){return[tN.decode(e,t),tN.decode.bytes]}function tB(e,t,r=0){return tN.encode(e,t,r),t}function tz(e){return tN.encodingLength(e)}function tL(e,t){let r=t.byteLength,n=tz(e),i=n+tz(r),o=new Uint8Array(i+r);return tB(e,o,0),tB(r,o,n),o.set(t,i),new tM(e,r,t,o)}function t$(e){let t=te(e),[r,n]=tj(t),[i,o]=tj(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new tM(r,i,a,t)}function tO(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&e9(e.bytes,r.bytes)}}class tM{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function tR(e,t){let{bytes:r,version:n}=e;return 0===n?tq(r,t_(e),t??tb.encoder):tJ(r,t_(e),t??td.encoder)}let tV=new WeakMap;function t_(e){let t=tV.get(e);if(null==t){let t=new Map;return tV.set(e,t),t}return t}class tF{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==tG)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==tW)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return tF.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=tL(e,t);return tF.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return tF.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&tO(e.multihash,r.multihash)}toString(e){return tR(this,e)}toJSON(){return{"/":tR(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof tF)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new tF(e,r,n,i??tK(e,r,n.bytes))}if(!0!==t[tQ])return null;{let{version:e,multihash:r,code:n}=t,i=t$(r);return tF.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===tG)return new tF(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${tG}) block encoding`);case 1:{let n=tK(e,t,r.bytes);return new tF(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return tF.create(0,tG,e)}static createV1(e,t){return tF.create(1,e,t)}static decode(e){let[t,r]=tF.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=tF.inspectBytes(e),r=t.size-t.multihashSize,n=te(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new tM(t.multihashCode,t.digestSize,i,n);return[0===t.version?tF.createV0(o):tF.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=tj(e.subarray(t));return t+=n,r},n=r(),i=tG;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=tH(e,t),i=tF.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return t_(i).set(r,e),i}}function tH(e,t){switch(e[0]){case"Q":{let r=t??tb;return[tb.prefix,r.decode(`${tb.prefix}${e}`)]}case tb.prefix:{let r=t??tb;return[tb.prefix,r.decode(e)]}case td.prefix:{let r=t??td;return[td.prefix,r.decode(e)]}case tp.prefix:{let r=t??tp;return[tp.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function tq(e,t,r){let{prefix:n}=r;if(n!==tb.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function tJ(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let tG=112,tW=18;function tK(e,t,r){let n=tz(e),i=n+tz(t),o=new Uint8Array(i+r.byteLength);return tB(e,o,0),tB(t,o,n),o.set(r,i),o}let tQ=Symbol.for("@ipld/js-cid/CID"),tZ=new TextDecoder;function tX(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw Error("protobuf: varint overflow");if(t>=e.length)throw Error("protobuf: unexpected end of data");let i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function tY(e,t){let r;[r,t]=tX(e,t);let n=t+r;if(r<0||n<0)throw Error("protobuf: invalid length");if(n>e.length)throw Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function t0(e,t){let r;return[r,t]=tX(e,t),[7&r,r>>3,t]}function t1(e){let t={},r=e.length,n=0;for(;n<r;){let r,i;if([r,i,n]=t0(e,n),1===i){if(t.Hash)throw Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=tY(e,n)}else if(2===i){let i;if(void 0!==t.Name)throw Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Name");[i,n]=tY(e,n),t.Name=tZ.decode(i)}else if(3===i){if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=tX(e,n)}else throw Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw Error("protobuf: (PBLink) unexpected end of data");return t}function t2(e){let t,r;let n=e.length,i=0,o=!1;for(;i<n;){let n,a;if([n,a,i]=t0(e,i),2!==n)throw Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${n}`);if(1===a){if(r)throw Error("protobuf: (PBNode) duplicate Data section");[r,i]=tY(e,i),t&&(o=!0)}else if(2===a){let r;if(o)throw Error("protobuf: (PBNode) duplicate Links section");t||(t=[]),[r,i]=tY(e,i),t.push(t1(r))}else throw Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${a}`)}if(i>n)throw Error("protobuf: (PBNode) unexpected end of data");let a={};return r&&(a.Data=r),a.Links=t||[],a}let t5=new TextEncoder,t8=4294967296,t6=2147483648;function t3(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw Error("Tsize too large for encoding");r=re(t,r,e.Tsize)-1,t[r]=24}if("string"==typeof e.Name){let n=t5.encode(e.Name);r-=n.length,t.set(n,r),r=re(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=re(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function t4(e){let t=t9(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=re(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){let i=t3(e.Links[t],r.subarray(0,n));n-=i,n=re(r,n,i)-1,r[n]=18}return r}function t7(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+rt(r)}if("string"==typeof e.Name){let r=t5.encode(e.Name).length;t+=1+r+rt(r)}return"number"==typeof e.Tsize&&(t+=1+rt(e.Tsize)),t}function t9(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+rt(r)}if(e.Links)for(let r of e.Links){let e=t7(r);t+=1+e+rt(e)}return t}function re(e,t,r){let n=t-=rt(r);for(;r>=t6;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function rt(e){return e%2==0&&e++,Math.floor((rr(e)+6)/7)}function rr(e){let t=0;return e>=t8&&(e=Math.floor(e/t8),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+rn[e]}let rn=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],ri=["Data","Links"],ro=["Hash","Name","Tsize"],ra=new TextEncoder;function rs(e,t){if(e===t)return 0;let r=e.Name?ra.encode(e.Name):[],n=t.Name?ra.encode(t.Name):[],i=r.length,o=n.length;for(let e=0,t=Math.min(i,o);e<t;++e)if(r[e]!==n[e]){i=r[e],o=n[e];break}return i<o?-1:o<i?1:0}function rc(e,t){return!Object.keys(e).some(e=>!t.includes(e))}function rl(e){if("object"==typeof e.asCID){let t=tF.asCID(e);if(!t)throw TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=tF.asCID(e.Hash);try{!r&&("string"==typeof e.Hash?r=tF.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=tF.decode(e.Hash)))}catch(e){throw TypeError(`Invalid DAG-PB form: ${e.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function ru(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(void 0!==e.Data){if("string"==typeof e.Data)t.Data=ra.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw TypeError("Invalid DAG-PB form")}if(void 0!==e.Links){if(Array.isArray(e.Links))t.Links=e.Links.map(rl),t.Links.sort(rs);else throw TypeError("Invalid DAG-PB form")}else t.Links=[];return t}function rh(e){if(!e||"object"!=typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw TypeError("Invalid DAG-PB form");if(!rc(e,ri))throw TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw TypeError("Invalid DAG-PB form (bad link)");if(!rc(r,ro))throw TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===r.Hash)throw TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==r.Hash||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize){if("number"!=typeof r.Tsize||r.Tsize%1!=0)throw TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===rs(r,e.Links[t-1]))throw TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function rf(e,t=[]){return ru({Data:e,Links:t})}function rd(e,t,r){return rl({Hash:r,Name:e,Tsize:t})}function rp(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}let rb="dag-pb",ry=112;function rg(e){rh(e);let t={};return e.Links&&(t.Links=e.Links.map(e=>{let t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),e.Data&&(t.Data=e.Data),t4(t)}function rm(e){let t=t2(rp(e)),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(e=>{let t={};try{t.Hash=tF.decode(e.Hash)}catch{}if(!t.Hash)throw Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),r}let rw=["string","number","bigint","symbol"],rv=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function rE(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;return rw.includes(t)?t:"function"===t?"Function":Array.isArray(e)?"Array":rx(e)?"Buffer":rC(e)||"Object"}function rx(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function rC(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(rv.includes(t))return t}class rA{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}rA.uint=new rA(0,"uint",!0),rA.negint=new rA(1,"negint",!0),rA.bytes=new rA(2,"bytes",!0),rA.string=new rA(3,"string",!0),rA.array=new rA(4,"array",!1),rA.map=new rA(5,"map",!1),rA.tag=new rA(6,"tag",!1),rA.float=new rA(7,"float",!0),rA.false=new rA(7,"false",!0),rA.true=new rA(7,"true",!0),rA.null=new rA(7,"null",!0),rA.undefined=new rA(7,"undefined",!0),rA.break=new rA(7,"break",!0);class rS{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}let rU=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,rP=new TextDecoder,rI=new TextEncoder;function rk(e){return rU&&globalThis.Buffer.isBuffer(e)}function rT(e){return e instanceof Uint8Array?rk(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}let rD=rU?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):rM(e,t,r):(e,t,r)=>r-t>64?rP.decode(e.subarray(t,r)):rM(e,t,r),rN=rU?e=>e.length>64?globalThis.Buffer.from(e):rO(e):e=>e.length>64?rI.encode(e):rO(e),rj=e=>Uint8Array.from(e),rB=rU?(e,t,r)=>rk(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),rz=rU?(e,t)=>(e=e.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),rT(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},rL=rU?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function r$(e,t){if(rk(e)&&rk(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function rO(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t}function rM(e,t,r){let n=[];for(;t<r;){let i=e[t],o=null,a=i>239?4:i>223?3:i>191?2:1;if(t+a<=r){let r,n,s,c;switch(a){case 1:i<128&&(o=i);break;case 2:(192&(r=e[t+1]))==128&&(c=(31&i)<<6|63&r)>127&&(o=c);break;case 3:r=e[t+1],n=e[t+2],(192&r)==128&&(192&n)==128&&(c=(15&i)<<12|(63&r)<<6|63&n)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:r=e[t+1],n=e[t+2],s=e[t+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=a}return rV(n)}let rR=4096;function rV(e){let t=e.length;if(t<=rR)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=rR));return r}let r_=256;class rF{constructor(e=r_){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=rL(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=rB(r,0,this.cursor)}else t=rz(this.chunks,this.cursor);return e&&this.reset(),t}}let rH="CBOR decode error:",rq="CBOR encode error:",rJ=[];function rG(e,t,r){if(e.length-t<r)throw Error(`${rH} not enough data for type`)}rJ[23]=1,rJ[24]=2,rJ[25]=3,rJ[26]=5,rJ[27]=9;let rW=[24,256,65536,4294967296,BigInt("18446744073709551616")];function rK(e,t,r){rG(e,t,1);let n=e[t];if(!0===r.strict&&n<rW[0])throw Error(`${rH} integer encoded in more bytes than necessary (strict decode)`);return n}function rQ(e,t,r){rG(e,t,2);let n=e[t]<<8|e[t+1];if(!0===r.strict&&n<rW[1])throw Error(`${rH} integer encoded in more bytes than necessary (strict decode)`);return n}function rZ(e,t,r){rG(e,t,4);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<rW[2])throw Error(`${rH} integer encoded in more bytes than necessary (strict decode)`);return n}function rX(e,t,r){rG(e,t,8);let n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<rW[3])throw Error(`${rH} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw Error(`${rH} integers outside of the safe integer range are not supported`)}function rY(e,t,r,n){return new rS(rA.uint,rK(e,t+1,n),2)}function r0(e,t,r,n){return new rS(rA.uint,rQ(e,t+1,n),3)}function r1(e,t,r,n){return new rS(rA.uint,rZ(e,t+1,n),5)}function r2(e,t,r,n){return new rS(rA.uint,rX(e,t+1,n),9)}function r5(e,t){return r8(e,0,t.value)}function r8(e,t,r){if(r<rW[0]){let n=Number(r);e.push([t|n])}else if(r<rW[1]){let n=Number(r);e.push([24|t,n])}else if(r<rW[2]){let n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<rW[3]){let n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{let n=BigInt(r);if(n<rW[4]){let r=[27|t,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}else throw Error(`${rH} encountered BigInt larger than allowable range`)}}function r6(e,t,r,n){return new rS(rA.negint,-1-rK(e,t+1,n),2)}function r3(e,t,r,n){return new rS(rA.negint,-1-rQ(e,t+1,n),3)}function r4(e,t,r,n){return new rS(rA.negint,-1-rZ(e,t+1,n),5)}r5.encodedSize=function(e){return r8.encodedSize(e.value)},r8.encodedSize=function(e){return e<rW[0]?1:e<rW[1]?2:e<rW[2]?3:e<rW[3]?5:9},r5.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};let r7=BigInt(-1),r9=BigInt(1);function ne(e,t,r,n){let i=rX(e,t+1,n);if("bigint"!=typeof i){let e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new rS(rA.negint,e,9)}if(!0!==n.allowBigInt)throw Error(`${rH} integers outside of the safe integer range are not supported`);return new rS(rA.negint,r7-BigInt(i),9)}function nt(e,t){let r=t.value,n="bigint"==typeof r?r*r7-r9:-1*r-1;r8(e,t.type.majorEncoded,n)}function nr(e,t,r,n){rG(e,t,r+n);let i=rB(e,t+r,t+r+n);return new rS(rA.bytes,i,r+n)}function nn(e,t,r,n){return nr(e,t,1,r)}function ni(e,t,r,n){return nr(e,t,2,rK(e,t+1,n))}function no(e,t,r,n){return nr(e,t,3,rQ(e,t+1,n))}function na(e,t,r,n){return nr(e,t,5,rZ(e,t+1,n))}function ns(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rH} 64-bit integer bytes lengths not supported`);return nr(e,t,9,i)}function nc(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===rA.string?rN(e.value):e.value),e.encodedBytes}function nl(e,t){let r=nc(t);r8(e,t.type.majorEncoded,r.length),e.push(r)}function nu(e,t){return e.length<t.length?-1:e.length>t.length?1:r$(e,t)}function nh(e,t,r,n,i){let o=r+n;rG(e,t,o);let a=new rS(rA.string,rD(e,t+r,t+o),o);return!0===i.retainStringBytes&&(a.byteValue=rB(e,t+r,t+o)),a}function nf(e,t,r,n){return nh(e,t,1,r,n)}function nd(e,t,r,n){return nh(e,t,2,rK(e,t+1,n),n)}function np(e,t,r,n){return nh(e,t,3,rQ(e,t+1,n),n)}function nb(e,t,r,n){return nh(e,t,5,rZ(e,t+1,n),n)}function ny(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rH} 64-bit integer string lengths not supported`);return nh(e,t,9,i,n)}nt.encodedSize=function(e){let t=e.value,r="bigint"==typeof t?t*r7-r9:-1*t-1;return r<rW[0]?1:r<rW[1]?2:r<rW[2]?3:r<rW[3]?5:9},nt.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},nl.encodedSize=function(e){let t=nc(e);return r8.encodedSize(t.length)+t.length},nl.compareTokens=function(e,t){return nu(nc(e),nc(t))};let ng=nl;function nm(e,t,r,n){return new rS(rA.array,n,r)}function nw(e,t,r,n){return nm(e,t,1,r)}function nv(e,t,r,n){return nm(e,t,2,rK(e,t+1,n))}function nE(e,t,r,n){return nm(e,t,3,rQ(e,t+1,n))}function nx(e,t,r,n){return nm(e,t,5,rZ(e,t+1,n))}function nC(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rH} 64-bit integer array lengths not supported`);return nm(e,t,9,i)}function nA(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${rH} indefinite length items not allowed`);return nm(e,t,1,1/0)}function nS(e,t){r8(e,rA.array.majorEncoded,t.value)}function nU(e,t,r,n){return new rS(rA.map,n,r)}function nP(e,t,r,n){return nU(e,t,1,r)}function nI(e,t,r,n){return nU(e,t,2,rK(e,t+1,n))}function nk(e,t,r,n){return nU(e,t,3,rQ(e,t+1,n))}function nT(e,t,r,n){return nU(e,t,5,rZ(e,t+1,n))}function nD(e,t,r,n){let i=rX(e,t+1,n);if("bigint"==typeof i)throw Error(`${rH} 64-bit integer map lengths not supported`);return nU(e,t,9,i)}function nN(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${rH} indefinite length items not allowed`);return nU(e,t,1,1/0)}function nj(e,t){r8(e,rA.map.majorEncoded,t.value)}function nB(e,t,r,n){return new rS(rA.tag,r,1)}function nz(e,t,r,n){return new rS(rA.tag,rK(e,t+1,n),2)}function nL(e,t,r,n){return new rS(rA.tag,rQ(e,t+1,n),3)}function n$(e,t,r,n){return new rS(rA.tag,rZ(e,t+1,n),5)}function nO(e,t,r,n){return new rS(rA.tag,rX(e,t+1,n),9)}function nM(e,t){r8(e,rA.tag.majorEncoded,t.value)}nS.compareTokens=r5.compareTokens,nS.encodedSize=function(e){return r8.encodedSize(e.value)},nj.compareTokens=r5.compareTokens,nj.encodedSize=function(e){return r8.encodedSize(e.value)},nM.compareTokens=r5.compareTokens,nM.encodedSize=function(e){return r8.encodedSize(e.value)};let nR=20,nV=21,n_=22,nF=23;function nH(e,t,r,n){if(!1===n.allowUndefined)throw Error(`${rH} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new rS(rA.null,null,1):new rS(rA.undefined,void 0,1)}function nq(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${rH} indefinite length items not allowed`);return new rS(rA.break,void 0,1)}function nJ(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw Error(`${rH} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw Error(`${rH} Infinity values are not supported`)}return new rS(rA.float,e,t)}function nG(e,t,r,n){return nJ(n1(e,t+1),3,n)}function nW(e,t,r,n){return nJ(n5(e,t+1),5,n)}function nK(e,t,r,n){return nJ(n6(e,t+1),9,n)}function nQ(e,t,r){let n=t.value;if(!1===n)e.push([rA.float.majorEncoded|nR]);else if(!0===n)e.push([rA.float.majorEncoded|nV]);else if(null===n)e.push([rA.float.majorEncoded|n_]);else if(void 0===n)e.push([rA.float.majorEncoded|nF]);else{let t;let i=!1;r&&!0===r.float64||(n0(n),n===(t=n1(nY,1))||Number.isNaN(n)?(nY[0]=249,e.push(nY.slice(0,3)),i=!0):(n2(n),n!==(t=n5(nY,1))||(nY[0]=250,e.push(nY.slice(0,5)),i=!0))),i||(n8(n),t=n6(nY,1),nY[0]=251,e.push(nY.slice(0,9)))}}nQ.encodedSize=function(e,t){let r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){n0(r);let e=n1(nY,1);if(r===e||Number.isNaN(r))return 3;if(n2(r),r===(e=n5(nY,1)))return 5}return 9};let nZ=new ArrayBuffer(9),nX=new DataView(nZ,1),nY=new Uint8Array(nZ,0);function n0(e){if(e===1/0)nX.setUint16(0,31744,!1);else if(e===-1/0)nX.setUint16(0,64512,!1);else if(Number.isNaN(e))nX.setUint16(0,32256,!1);else{nX.setFloat32(0,e);let t=nX.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)nX.setUint16(0,31744,!1);else if(0===r)nX.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{let e=r-127;e<-24?nX.setUint16(0,0):e<-14?nX.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):nX.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function n1(e,t){let r;if(e.length-t<2)throw Error(`${rH} not enough data for float16`);let n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;let i=n>>10&31,o=1023&n;return r=0===i?5960464477539063e-23*o:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&n?-r:r}function n2(e){nX.setFloat32(0,e,!1)}function n5(e,t){if(e.length-t<4)throw Error(`${rH} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function n8(e){nX.setFloat64(0,e,!1)}function n6(e,t){if(e.length-t<8)throw Error(`${rH} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function n3(e,t,r){throw Error(`${rH} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function n4(e){return()=>{throw Error(`${rH} ${e}`)}}nQ.compareTokens=r5.compareTokens;let n7=[];for(let e=0;e<=23;e++)n7[e]=n3;n7[24]=rY,n7[25]=r0,n7[26]=r1,n7[27]=r2,n7[28]=n3,n7[29]=n3,n7[30]=n3,n7[31]=n3;for(let e=32;e<=55;e++)n7[e]=n3;n7[56]=r6,n7[57]=r3,n7[58]=r4,n7[59]=ne,n7[60]=n3,n7[61]=n3,n7[62]=n3,n7[63]=n3;for(let e=64;e<=87;e++)n7[e]=nn;n7[88]=ni,n7[89]=no,n7[90]=na,n7[91]=ns,n7[92]=n3,n7[93]=n3,n7[94]=n3,n7[95]=n4("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)n7[e]=nf;n7[120]=nd,n7[121]=np,n7[122]=nb,n7[123]=ny,n7[124]=n3,n7[125]=n3,n7[126]=n3,n7[127]=n4("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)n7[e]=nw;n7[152]=nv,n7[153]=nE,n7[154]=nx,n7[155]=nC,n7[156]=n3,n7[157]=n3,n7[158]=n3,n7[159]=nA;for(let e=160;e<=183;e++)n7[e]=nP;n7[184]=nI,n7[185]=nk,n7[186]=nT,n7[187]=nD,n7[188]=n3,n7[189]=n3,n7[190]=n3,n7[191]=nN;for(let e=192;e<=215;e++)n7[e]=nB;n7[216]=nz,n7[217]=nL,n7[218]=n$,n7[219]=nO,n7[220]=n3,n7[221]=n3,n7[222]=n3,n7[223]=n3;for(let e=224;e<=243;e++)n7[e]=n4("simple values are not supported");n7[244]=n3,n7[245]=n3,n7[246]=n3,n7[247]=nH,n7[248]=n4("simple values are not supported"),n7[249]=nG,n7[250]=nW,n7[251]=nK,n7[252]=n3,n7[253]=n3,n7[254]=n3,n7[255]=nq;let n9=[];for(let e=0;e<24;e++)n9[e]=new rS(rA.uint,e,1);for(let e=-1;e>=-24;e--)n9[31-e]=new rS(rA.negint,e,1);n9[64]=new rS(rA.bytes,new Uint8Array(0),1),n9[96]=new rS(rA.string,"",1),n9[128]=new rS(rA.array,0,1),n9[160]=new rS(rA.map,0,1),n9[244]=new rS(rA.false,!1,1),n9[245]=new rS(rA.true,!0,1),n9[246]=new rS(rA.null,null,1);let ie={float64:!1,mapSorter:il,quickEncodeToken:function(e){switch(e.type){case rA.false:return rj([244]);case rA.true:return rj([245]);case rA.null:return rj([246]);case rA.bytes:if(!e.value.length)return rj([64]);return;case rA.string:if(""===e.value)return rj([96]);return;case rA.array:if(0===e.value)return rj([128]);return;case rA.map:if(0===e.value)return rj([160]);return;case rA.uint:if(e.value<24)return rj([Number(e.value)]);return;case rA.negint:if(e.value>=-24)return rj([31-Number(e.value)])}}},it=function(){let e=[];return e[rA.uint.major]=r5,e[rA.negint.major]=nt,e[rA.bytes.major]=nl,e[rA.string.major]=ng,e[rA.array.major]=nS,e[rA.map.major]=nj,e[rA.tag.major]=nM,e[rA.float.major]=nQ,e}(),ir=new rF;class ii{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw Error(`${rq} object contains circular references`);return new ii(t,e)}}let io={null:new rS(rA.null,null),undefined:new rS(rA.undefined,void 0),true:new rS(rA.true,!0),false:new rS(rA.false,!1),emptyArray:new rS(rA.array,0),emptyMap:new rS(rA.map,0)},ia={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new rS(rA.uint,e):new rS(rA.negint,e):new rS(rA.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new rS(rA.uint,e):new rS(rA.negint,e),Uint8Array:(e,t,r,n)=>new rS(rA.bytes,e),string:(e,t,r,n)=>new rS(rA.string,e),boolean:(e,t,r,n)=>e?io.true:io.false,null:(e,t,r,n)=>io.null,undefined:(e,t,r,n)=>io.undefined,ArrayBuffer:(e,t,r,n)=>new rS(rA.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new rS(rA.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[io.emptyArray,new rS(rA.break)]:io.emptyArray;n=ii.createCheck(n,e);let i=[],o=0;for(let t of e)i[o++]=is(t,r,n);return r.addBreakTokens?[new rS(rA.array,e.length),i,new rS(rA.break)]:[new rS(rA.array,e.length),i]},Object(e,t,r,n){let i="Object"!==t,o=i?e.keys():Object.keys(e),a=i?e.size:o.length;if(!a)return!0===r.addBreakTokens?[io.emptyMap,new rS(rA.break)]:io.emptyMap;n=ii.createCheck(n,e);let s=[],c=0;for(let t of o)s[c++]=[is(t,r,n),is(i?e.get(t):e[t],r,n)];return(ic(s,r),r.addBreakTokens)?[new rS(rA.map,a),s,new rS(rA.break)]:[new rS(rA.map,a),s]}};for(let e of(ia.Map=ia.Object,ia.Buffer=ia.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))ia[`${e}Array`]=ia.DataView;function is(e,t={},r){let n=rE(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||ia[n];if("function"==typeof i){let o=i(e,n,t,r);if(null!=o)return o}let o=ia[n];if(!o)throw Error(`${rq} unsupported type: ${n}`);return o(e,n,t,r)}function ic(e,t){t.mapSorter&&e.sort(t.mapSorter)}function il(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=it[r.type.major].compareTokens(r,n);return 0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function iu(e,t,r,n){if(Array.isArray(t))for(let i of t)iu(e,i,r,n);else r[t.type.major](e,t,n)}function ih(e,t,r){let n=is(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let e=r.quickEncodeToken(n);if(e)return e;let i=t[n.type.major];if(i.encodedSize){let e=new rF(i.encodedSize(n,r));if(i(e,n,r),1!==e.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return rT(e.chunks[0])}}return ir.reset(),iu(ir,n,t,r),ir.toBytes(!0)}function id(e,t){return ih(e,it,t=Object.assign({},ie,t))}let ip={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class ib{constructor(e,t={}){this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let e=this.data[this._pos],t=n9[e];if(void 0===t){let r=n7[e];if(!r)throw Error(`${rH} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=31&e;t=r(this.data,this._pos,n,this.options)}return this._pos+=t.encodedLength,t}}let iy=Symbol.for("DONE"),ig=Symbol.for("BREAK");function im(e,t,r){let n=[];for(let i=0;i<e.value;i++){let o=iv(t,r);if(o===ig){if(e.value===1/0)break;throw Error(`${rH} got unexpected break to lengthed array`)}if(o===iy)throw Error(`${rH} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}function iw(e,t,r){let n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=iv(t,r);if(s===ig){if(e.value===1/0)break;throw Error(`${rH} got unexpected break to lengthed map`)}if(s===iy)throw Error(`${rH} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof s)throw Error(`${rH} non-string keys not supported (got ${typeof s})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(s)||!n&&s in i))throw Error(`${rH} found repeat map key "${s}"`);let c=iv(t,r);if(c===iy)throw Error(`${rH} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?o.set(s,c):i[s]=c}return n?o:i}function iv(e,t){if(e.done())return iy;let r=e.next();if(r.type===rA.break)return ig;if(r.type.terminal)return r.value;if(r.type===rA.array)return im(r,e,t);if(r.type===rA.map)return iw(r,e,t);if(r.type===rA.tag){if(t.tags&&"function"==typeof t.tags[r.value]){let n=iv(e,t);return t.tags[r.value](n)}throw Error(`${rH} tag not supported (${r.value})`)}throw Error("unsupported")}function iE(e,t){if(!(e instanceof Uint8Array))throw Error(`${rH} data to decode must be a Uint8Array`);let r=(t=Object.assign({},ip,t)).tokenizer||new ib(e,t),n=iv(r,t);if(n===iy)throw Error(`${rH} did not find any content to decode`);if(n===ig)throw Error(`${rH} got unexpected break`);return[n,e.subarray(r.pos())]}function ix(e,t){let[r,n]=iE(e,t);if(n.length>0)throw Error(`${rH} too many terminals, data makes no sense`);return r}function iC(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function iA(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}new Uint8Array(0);let iS=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};class iU{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class iP{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ik(this,e)}}class iI{decoders;constructor(e){this.decoders=e}or(e){return ik(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function ik(e,t){return new iI({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class iT{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new iU(e,t,r),this.decoder=new iP(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function iD({name:e,prefix:t,encode:r,decode:n}){return new iT(e,t,r,n)}function iN({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=iS(r,e);return iD({prefix:t,name:e,encode:n,decode:e=>iA(i(e))})}function ij(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,c=0;for(let l=0;l<i;++l){let i=t[e[l]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[c++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function iB(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function iz(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function iL({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=iz(n);return iD({prefix:t,name:e,encode:e=>iB(e,n,r),decode:t=>ij(t,i,r,e)})}let i$=iL({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});iL({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iL({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iL({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),iL({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iL({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iL({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iL({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),iL({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let iO=iN({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});iN({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});let iM=iN({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});iN({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var iR=128,iV=-128,i_=2147483648;function iF(e,t,r){t=t||[];for(var n=r=r||0;e>=i_;)t[r++]=255&e|iR,e/=128;for(;e&iV;)t[r++]=255&e|iR,e>>>=7;return t[r]=0|e,iF.bytes=r-n+1,t}var iH=128,iq=127;function iJ(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw iJ.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&iq)<<i:(r&iq)*Math.pow(2,i),i+=7}while(r>=iH);return iJ.bytes=o-t,n}var iG=128,iW=16384,iK=2097152,iQ=268435456,iZ=34359738368,iX=4398046511104,iY=562949953421312,i0=72057594037927940,i1=0x7fffffffffffffff;let i2={encode:iF,decode:iJ,encodingLength:function(e){return e<iG?1:e<iW?2:e<iK?3:e<iQ?4:e<iZ?5:e<iX?6:e<iY?7:e<i0?8:e<i1?9:10}};function i5(e,t=0){return[i2.decode(e,t),i2.decode.bytes]}function i8(e,t,r=0){return i2.encode(e,t,r),t}function i6(e){return i2.encodingLength(e)}function i3(e,t){let r=t.byteLength,n=i6(e),i=n+i6(r),o=new Uint8Array(i+r);return i8(e,o,0),i8(r,o,n),o.set(t,i),new i9(e,r,t,o)}function i4(e){let t=iA(e),[r,n]=i5(t),[i,o]=i5(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new i9(r,i,a,t)}function i7(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&iC(e.bytes,r.bytes)}}class i9{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function oe(e,t){let{bytes:r,version:n}=e;return 0===n?oo(r,or(e),t??iM.encoder):oa(r,or(e),t??i$.encoder)}let ot=new WeakMap;function or(e){let t=ot.get(e);if(null==t){let t=new Map;return ot.set(e,t),t}return t}class on{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==os)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==oc)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return on.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=i3(e,t);return on.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return on.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&i7(e.multihash,r.multihash)}toString(e){return oe(this,e)}toJSON(){return{"/":oe(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof on)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new on(e,r,n,i??ol(e,r,n.bytes))}if(!0!==t[ou])return null;{let{version:e,multihash:r,code:n}=t,i=i4(r);return on.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===os)return new on(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${os}) block encoding`);case 1:{let n=ol(e,t,r.bytes);return new on(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return on.create(0,os,e)}static createV1(e,t){return on.create(1,e,t)}static decode(e){let[t,r]=on.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=on.inspectBytes(e),r=t.size-t.multihashSize,n=iA(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new i9(t.multihashCode,t.digestSize,i,n);return[0===t.version?on.createV0(o):on.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=i5(e.subarray(t));return t+=n,r},n=r(),i=os;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=oi(e,t),i=on.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return or(i).set(r,e),i}}function oi(e,t){switch(e[0]){case"Q":{let r=t??iM;return[iM.prefix,r.decode(`${iM.prefix}${e}`)]}case iM.prefix:{let r=t??iM;return[iM.prefix,r.decode(e)]}case i$.prefix:{let r=t??i$;return[i$.prefix,r.decode(e)]}case iO.prefix:{let r=t??iO;return[iO.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function oo(e,t,r){let{prefix:n}=r;if(n!==iM.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function oa(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let os=112,oc=18;function ol(e,t,r){let n=i6(e),i=n+i6(t),o=new Uint8Array(i+r.byteLength);return i8(e,o,0),i8(t,o,n),o.set(r,i),o}let ou=Symbol.for("@ipld/js-cid/CID"),oh=42;function of(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}let od={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=on.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new rS(rA.tag,oh),new rS(rA.bytes,r)]},undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},op={...od,typeEncoders:{...od.typeEncoders}};function ob(e){if(0!==e[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return on.decode(e.subarray(1))}let oy={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};oy.tags[oh]=ob;let og={...oy,tags:oy.tags.slice()},om="dag-cbor",ow=113,ov=e=>id(e,od),oE=e=>ix(of(e),oy);class ox extends Array{constructor(){super(),this.inRecursive=[]}prefix(e){let t=this.inRecursive[this.inRecursive.length-1];t&&(t.type===rA.array&&(t.elements++,1!==t.elements&&e.push([44])),t.type===rA.map&&(t.elements++,1!==t.elements&&(t.elements%2==1?e.push([44]):e.push([58]))))}[rA.uint.major](e,t){this.prefix(e);let r=String(t.value),n=[];for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);e.push(n)}[rA.negint.major](e,t){this[rA.uint.major](e,t)}[rA.bytes.major](e,t){throw Error(`${rq} unsupported type: Uint8Array`)}[rA.string.major](e,t){this.prefix(e);let r=rN(JSON.stringify(t.value));e.push(r.length>32?rT(r):r)}[rA.array.major](e,t){this.prefix(e),this.inRecursive.push({type:rA.array,elements:0}),e.push([91])}[rA.map.major](e,t){this.prefix(e),this.inRecursive.push({type:rA.map,elements:0}),e.push([123])}[rA.tag.major](e,t){}[rA.float.major](e,t){if("break"===t.type.name){let t=this.inRecursive.pop();if(t){if(t.type===rA.array)e.push([93]);else if(t.type===rA.map)e.push([125]);else throw Error("Unexpected recursive type; this should not happen!");return}throw Error("Unexpected break; this should not happen!")}if(void 0===t.value)throw Error(`${rq} unsupported type: undefined`);if(this.prefix(e),"true"===t.type.name){e.push([116,114,117,101]);return}if("false"===t.type.name){e.push([102,97,108,115,101]);return}if("null"===t.type.name){e.push([110,117,108,108]);return}let r=String(t.value),n=[],i=!1;for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e),i||46!==n[e]&&101!==n[e]&&69!==n[e]||(i=!0);i||(n.push(46),n.push(48)),e.push(n)}}let oC={addBreakTokens:!0,mapSorter:function(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw Error(`${rq} complex map keys are not supported`);let r=e[0],n=t[0];if(r.type!==rA.string||n.type!==rA.string)throw Error(`${rq} non-string map keys are not supported`);if(r<n)return -1;if(r>n)return 1;throw Error(`${rq} unexpected duplicate map keys, this is not supported`)}};function oA(e,t){return t=Object.assign({},oC,t),ih(e,new ox,t)}class oS{constructor(e,t={}){this._pos=0,this.data=e,this.options=t,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let e=this.ch();for(;32===e||9===e||13===e||10===e;)e=this.data[++this._pos]}expect(e){if(this.data.length-this._pos<e.length)throw Error(`${rH} unexpected end of input at position ${this._pos}`);for(let t=0;t<e.length;t++)if(this.data[this._pos++]!==e[t])throw Error(`${rH} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...e)}'`)}parseNumber(){let e=this._pos,t=!1,r=!1,n=e=>{for(;!this.done();){let t=this.ch();if(e.includes(t))this._pos++;else break}};if(45===this.ch()&&(t=!0,this._pos++),48===this.ch()){if(this._pos++,46!==this.ch())return new rS(rA.uint,0,this._pos-e);this._pos++,r=!0}if(n([48,49,50,51,52,53,54,55,56,57]),t&&this._pos===e+1)throw Error(`${rH} unexpected token at position ${this._pos}`);if(!this.done()&&46===this.ch()){if(r)throw Error(`${rH} unexpected token at position ${this._pos}`);r=!0,this._pos++,n([48,49,50,51,52,53,54,55,56,57])}this.done()||101!==this.ch()&&69!==this.ch()||(r=!0,this._pos++,!this.done()&&(43===this.ch()||45===this.ch())&&this._pos++,n([48,49,50,51,52,53,54,55,56,57]));let i=String.fromCharCode.apply(null,this.data.subarray(e,this._pos)),o=parseFloat(i);return r?new rS(rA.float,o,this._pos-e):!0!==this.options.allowBigInt||Number.isSafeInteger(o)?new rS(o>=0?rA.uint:rA.negint,o,this._pos-e):new rS(o>=0?rA.uint:rA.negint,BigInt(i),this._pos-e)}parseString(){if(34!==this.ch())throw Error(`${rH} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let e=this._pos,t=0;e<this.data.length&&t<65536;e++,t++){let r=this.data[e];if(92===r||r<32||r>=128)break;if(34===r){let r=String.fromCharCode.apply(null,this.data.subarray(this._pos,e));return this._pos=e+1,new rS(rA.string,r,t)}}let e=this._pos,t=[],r=()=>{if(this._pos+4>=this.data.length)throw Error(`${rH} unexpected end of unicode escape sequence at position ${this._pos}`);let e=0;for(let t=0;t<4;t++){let t=this.ch();if(t>=48&&t<=57)t-=48;else if(t>=97&&t<=102)t=t-97+10;else if(t>=65&&t<=70)t=t-65+10;else throw Error(`${rH} unexpected unicode escape character at position ${this._pos}`);e=16*e+t,this._pos++}return e},n=()=>{let e,r,n,i;let o=this.ch(),a=null,s=o>239?4:o>223?3:o>191?2:1;if(this._pos+s>this.data.length)throw Error(`${rH} unexpected unicode sequence at position ${this._pos}`);switch(s){case 1:o<128&&(a=o);break;case 2:(192&(e=this.data[this._pos+1]))==128&&(i=(31&o)<<6|63&e)>127&&(a=i);break;case 3:e=this.data[this._pos+1],r=this.data[this._pos+2],(192&e)==128&&(192&r)==128&&(i=(15&o)<<12|(63&e)<<6|63&r)>2047&&(i<55296||i>57343)&&(a=i);break;case 4:e=this.data[this._pos+1],r=this.data[this._pos+2],n=this.data[this._pos+3],(192&e)==128&&(192&r)==128&&(192&n)==128&&(i=(15&o)<<18|(63&e)<<12|(63&r)<<6|63&n)>65535&&i<1114112&&(a=i)}null===a?(a=65533,s=1):a>65535&&(a-=65536,t.push(a>>>10&1023|55296),a=56320|1023&a),t.push(a),this._pos+=s};for(;!this.done();){let i;let o=this.ch();switch(o){case 92:if(this._pos++,this.done())throw Error(`${rH} unexpected string termination at position ${this._pos}`);switch(i=this.ch(),this._pos++,i){case 34:case 39:case 92:case 47:t.push(i);break;case 98:t.push(8);break;case 116:t.push(9);break;case 110:t.push(10);break;case 102:t.push(12);break;case 114:t.push(13);break;case 117:t.push(r());break;default:throw Error(`${rH} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new rS(rA.string,rV(t),this._pos-e);default:if(o<32)throw Error(`${rH} invalid control character at position ${this._pos}`);o<128?(t.push(o),this._pos++):n()}}throw Error(`${rH} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new rS(rA.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new rS(rA.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new rS(rA.null,null,4);case 102:return this.expect([102,97,108,115,101]),new rS(rA.false,!1,5);case 116:return this.expect([116,114,117,101]),new rS(rA.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw Error(`${rH} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new rS(rA.break,void 0,1);if(44!==this.ch())throw Error(`${rH} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new rS(rA.break,void 0,1);return this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"obj-key":if(125===this.ch())return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new rS(rA.break,void 0,1);if(44!==this.ch())throw Error(`${rH} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),125===this.ch())return this._pos++,this.skipWhitespace(),new rS(rA.break,void 0,1);let e=this.parseString();if(this.skipWhitespace(),58!==this.ch())throw Error(`${rH} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),e}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw Error(`${rH} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function oU(e,t){return t=Object.assign({tokenizer:new oS(e,t)},t),ix(e,t)}function oP(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function oI(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}new Uint8Array(0);let ok=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};class oT{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class oD{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return oj(this,e)}}class oN{decoders;constructor(e){this.decoders=e}or(e){return oj(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function oj(e,t){return new oN({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class oB{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new oT(e,t,r),this.decoder=new oD(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function oz({name:e,prefix:t,encode:r,decode:n}){return new oB(e,t,r,n)}function oL({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=ok(r,e);return oz({prefix:t,name:e,encode:n,decode:e=>oI(i(e))})}function o$(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,c=0;for(let l=0;l<i;++l){let i=t[e[l]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[c++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function oO(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function oM(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function oR({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=oM(n);return oz({prefix:t,name:e,encode:e=>oO(e,n,r),decode:t=>o$(t,i,r,e)})}let oV=oR({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});oR({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oR({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oR({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oR({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),oR({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),oR({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oR({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oR({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let o_=oL({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});oL({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});let oF=oL({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});oL({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var oH=128,oq=-128,oJ=2147483648;function oG(e,t,r){t=t||[];for(var n=r=r||0;e>=oJ;)t[r++]=255&e|oH,e/=128;for(;e&oq;)t[r++]=255&e|oH,e>>>=7;return t[r]=0|e,oG.bytes=r-n+1,t}var oW=128,oK=127;function oQ(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw oQ.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&oK)<<i:(r&oK)*Math.pow(2,i),i+=7}while(r>=oW);return oQ.bytes=o-t,n}var oZ=128,oX=16384,oY=2097152,o0=268435456,o1=34359738368,o2=4398046511104,o5=562949953421312,o8=72057594037927940,o6=0x7fffffffffffffff;let o3={encode:oG,decode:oQ,encodingLength:function(e){return e<oZ?1:e<oX?2:e<oY?3:e<o0?4:e<o1?5:e<o2?6:e<o5?7:e<o8?8:e<o6?9:10}};function o4(e,t=0){return[o3.decode(e,t),o3.decode.bytes]}function o7(e,t,r=0){return o3.encode(e,t,r),t}function o9(e){return o3.encodingLength(e)}function ae(e,t){let r=t.byteLength,n=o9(e),i=n+o9(r),o=new Uint8Array(i+r);return o7(e,o,0),o7(r,o,n),o.set(t,i),new an(e,r,t,o)}function at(e){let t=oI(e),[r,n]=o4(t),[i,o]=o4(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new an(r,i,a,t)}function ar(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&oP(e.bytes,r.bytes)}}class an{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}function ai(e,t){let{bytes:r,version:n}=e;return 0===n?al(r,aa(e),t??oF.encoder):au(r,aa(e),t??oV.encoder)}let ao=new WeakMap;function aa(e){let t=ao.get(e);if(null==t){let t=new Map;return ao.set(e,t),t}return t}class as{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==ah)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==af)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return as.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=ae(e,t);return as.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return as.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&ar(e.multihash,r.multihash)}toString(e){return ai(this,e)}toJSON(){return{"/":ai(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof as)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new as(e,r,n,i??ad(e,r,n.bytes))}if(!0!==t[ap])return null;{let{version:e,multihash:r,code:n}=t,i=at(r);return as.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===ah)return new as(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${ah}) block encoding`);case 1:{let n=ad(e,t,r.bytes);return new as(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return as.create(0,ah,e)}static createV1(e,t){return as.create(1,e,t)}static decode(e){let[t,r]=as.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=as.inspectBytes(e),r=t.size-t.multihashSize,n=oI(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new an(t.multihashCode,t.digestSize,i,n);return[0===t.version?as.createV0(o):as.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=o4(e.subarray(t));return t+=n,r},n=r(),i=ah;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=ac(e,t),i=as.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return aa(i).set(r,e),i}}function ac(e,t){switch(e[0]){case"Q":{let r=t??oF;return[oF.prefix,r.decode(`${oF.prefix}${e}`)]}case oF.prefix:{let r=t??oF;return[oF.prefix,r.decode(e)]}case oV.prefix:{let r=t??oV;return[oV.prefix,r.decode(e)]}case o_.prefix:{let r=t??o_;return[o_.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function al(e,t,r){let{prefix:n}=r;if(n!==oF.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function au(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let ah=112,af=18;function ad(e,t,r){let n=o9(e),i=n+o9(t),o=new Uint8Array(i+r.byteLength);return o7(e,o,0),o7(t,o,n),o.set(r,i),o}let ap=Symbol.for("@ipld/js-cid/CID"),ab=oR({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});function ay(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function ag(e){let t=ab.encode(e).slice(1);return[new rS(rA.map,1/0,1),new rS(rA.string,"/",1),new rS(rA.map,1/0,1),new rS(rA.string,"bytes",5),new rS(rA.string,t,t.length),new rS(rA.break,void 0,1),new rS(rA.break,void 0,1)]}function am(e){return ag(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function aw(e){return ag(new Uint8Array(e))}oR({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oR({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oR({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});let av={typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=as.asCID(e);if(!t)return null;let r=t.toString();return[new rS(rA.map,1/0,1),new rS(rA.string,"/",1),new rS(rA.string,r,r.length),new rS(rA.break,void 0,1)]},Buffer:ag,Uint8Array:ag,Int8Array:am,Uint16Array:am,Int16Array:am,Uint32Array:am,Int32Array:am,Float32Array:am,Float64Array:am,Uint8ClampedArray:am,BigInt64Array:am,BigUint64Array:am,DataView:am,ArrayBuffer:aw,undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};class aE extends oS{constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let e=this._next();if(e.type===rA.map){let e=this._next();if(e.type===rA.string&&"/"===e.value){let e=this._next();if(e.type===rA.string){if(this._next().type!==rA.break)throw Error("Invalid encoded CID form");return this.tokenBuffer.push(e),new rS(rA.tag,42,0)}if(e.type===rA.map){let e=this._next();if(e.type===rA.string&&"bytes"===e.value){let e=this._next();if(e.type===rA.string){for(let e=0;e<2;e++)if(this._next().type!==rA.break)throw Error("Invalid encoded Bytes form");let t=ab.decode(`m${e.value}`);return new rS(rA.bytes,t,e.value.length)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}return e}}let ax={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};ax.tags[42]=as.parse;let aC="dag-json",aA=297,aS=e=>oA(e,av),aU=e=>{let t=ay(e),r=Object.assign(ax,{tokenizer:new aE(t,ax)});return oU(t,r)},aP=e=>aI.decode(aS(e)),aI=new TextDecoder,ak=e=>aU(aT.encode(e)),aT=new TextEncoder,aD=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};new Uint8Array(0);let aN=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},aj=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class aB{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class az{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return a$(this,e)}}class aL{constructor(e){this.decoders=e}or(e){return a$(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let a$=(e,t)=>new aL({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class aO{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new aB(e,t,r),this.decoder=new az(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let aM=({name:e,prefix:t,encode:r,decode:n})=>new aO(e,t,r,n),aR=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=aD(r,t);return aM({prefix:e,name:t,encode:n,decode:e=>aj(i(e))})},aV=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},a_=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},aF=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>aM({prefix:t,name:e,encode:e=>a_(e,n,r),decode:t=>aV(t,n,r,e)});aF({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aF({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});let aH=aF({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});function aq(e){return aH.encode(e).slice(1)}function aJ(e){return aH.decode(`u${e}`)}aF({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var aG=128,aW=-128,aK=2147483648;function aQ(e,t,r){t=t||[];for(var n=r=r||0;e>=aK;)t[r++]=255&e|aG,e/=128;for(;e&aW;)t[r++]=255&e|aG,e>>>=7;return t[r]=0|e,aQ.bytes=r-n+1,t}var aZ=128,aX=127;function aY(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw aY.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&aX)<<i:(r&aX)*Math.pow(2,i),i+=7}while(r>=aZ);return aY.bytes=o-t,n}var a0=128,a1=16384,a2=2097152,a5=268435456,a8=34359738368,a6=4398046511104,a3=562949953421312,a4=72057594037927940,a7=0x7fffffffffffffff;let a9={encode:aQ,decode:aY,encodingLength:function(e){return e<a0?1:e<a1?2:e<a2?3:e<a5?4:e<a8?5:e<a6?6:e<a3?7:e<a4?8:e<a7?9:10}},se=(e,t=0)=>[a9.decode(e,t),a9.decode.bytes],st=(e,t,r=0)=>(a9.encode(e,t,r),t),sr=e=>a9.encodingLength(e),sn=(e,t)=>{let r=t.byteLength,n=sr(e),i=n+sr(r),o=new Uint8Array(i+r);return st(e,o,0),st(r,o,n),o.set(t,i),new sa(e,r,t,o)},si=e=>{let t=aj(e),[r,n]=se(t),[i,o]=se(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new sa(r,i,a,t)},so=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&aN(e.bytes,r.bytes)}};class sa{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let ss=aR({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});aR({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let sc=aF({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});aF({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aF({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aF({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),aF({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aF({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aF({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),aF({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aF({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let sl=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?sp(r,sh(e),t||ss.encoder):sb(r,sh(e),t||sc.encoder)},su=new WeakMap,sh=e=>{let t=su.get(e);if(null==t){let t=new Map;return su.set(e,t),t}return t};class sf{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==sy)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==sg)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return sf.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=sn(e,t);return sf.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return sf.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&so(e.multihash,r.multihash)}toString(e){return sl(this,e)}toJSON(){return{"/":sl(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof sf)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new sf(e,r,n,i||sm(e,r,n.bytes))}if(!0!==t[sw])return null;{let{version:e,multihash:r,code:n}=t,i=si(r);return sf.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===sy)return new sf(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${sy}) block encoding`);case 1:{let n=sm(e,t,r.bytes);return new sf(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return sf.create(0,sy,e)}static createV1(e,t){return sf.create(1,e,t)}static decode(e){let[t,r]=sf.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=sf.inspectBytes(e),r=t.size-t.multihashSize,n=aj(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new sa(t.multihashCode,t.digestSize,i,n);return[0===t.version?sf.createV0(o):sf.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=se(e.subarray(t));return t+=n,r},n=r(),i=sy;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=sd(e,t),i=sf.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return sh(i).set(r,e),i}}let sd=(e,t)=>{switch(e[0]){case"Q":{let r=t||ss;return[ss.prefix,r.decode(`${ss.prefix}${e}`)]}case ss.prefix:{let r=t||ss;return[ss.prefix,r.decode(e)]}case sc.prefix:{let r=t||sc;return[sc.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},sp=(e,t,r)=>{let{prefix:n}=r;if(n!==ss.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},sb=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},sy=112,sg=18,sm=(e,t,r)=>{let n=sr(e),i=n+sr(t),o=new Uint8Array(i+r.byteLength);return st(e,o,0),st(t,o,n),o.set(r,i),o},sw=Symbol.for("@ipld/js-cid/CID");function sv(e){let[t,r,n]=e;return{payload:r,signatures:[{protected:t,signature:n}],link:sf.decode(aJ(r))}}function sE(e){let t={signature:aJ(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=aJ(e.protected)),t}function sx(e){let t=aJ(e.payload);try{sf.decode(t)}catch(e){throw Error("Not a valid DagJWS")}return{payload:t,signatures:e.signatures.map(sE)}}function sC(e){let t={signature:aq(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=aq(e.protected)),t}function sA(e){let t={payload:aq(e.payload),signatures:e.signatures.map(sC)};return t.link=sf.decode(new Uint8Array(e.payload)),t}function sS(e){let[t,r,n,i,o]=e,a={ciphertext:i,iv:n,protected:t,tag:o};return r&&(a.recipients=[{encrypted_key:r}]),a}function sU(e){let t={};return e.encrypted_key&&(t.encrypted_key=aJ(e.encrypted_key)),e.header&&(t.header=e.header),t}function sP(e){let t={ciphertext:aJ(e.ciphertext),protected:aJ(e.protected),iv:aJ(e.iv),tag:aJ(e.tag)};return e.aad&&(t.aad=aJ(e.aad)),e.recipients&&(t.recipients=e.recipients.map(sU)),e.unprotected&&(t.unprotected=e.unprotected),t}function sI(e){let t={};return e.encrypted_key&&(t.encrypted_key=aq(e.encrypted_key)),e.header&&(t.header=e.header),t}function sk(e){let t={ciphertext:aq(e.ciphertext),protected:aq(e.protected),iv:aq(e.iv),tag:aq(e.tag)};return e.aad&&(t.aad=aq(e.aad)),e.recipients&&(t.recipients=e.recipients.map(sI)),e.unprotected&&(t.unprotected=e.unprotected),t}let sT="dag-jose",sD=133;function sN(e){return"payload"in e&&"string"==typeof e.payload&&"signatures"in e&&Array.isArray(e.signatures)}function sj(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function sB(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function sz(e){return"ciphertext"in e&&"string"==typeof e.ciphertext&&"iv"in e&&"string"==typeof e.iv&&"protected"in e&&"string"==typeof e.protected&&"tag"in e&&"string"==typeof e.tag}function sL(e){if("string"==typeof e){let t=e.split(".");if(3===t.length)return sv(t);if(5===t.length)return sS(t);throw Error("Not a valid JOSE string")}if(sN(e)||sz(e))return e;throw Error("Not a valid unencoded JOSE object")}function s$(e){let t;if("string"==typeof e&&(e=sL(e)),sN(e))t=sx(e);else if(sz(e))t=sP(e);else throw Error("Not a valid JOSE object");return new Uint8Array(ov(t))}function sO(e){let t;try{t=oE(e)}catch(e){throw Error("Not a valid DAG-JOSE object")}if(sj(t))return sA(t);if(sB(t))return sk(t);throw Error("Not a valid DAG-JOSE object")}new Uint8Array(0);let sM=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},sR=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},sV=e=>new TextEncoder().encode(e),s_=e=>new TextDecoder().decode(e);var sF=128,sH=-128,sq=2147483648;function sJ(e,t,r){t=t||[];for(var n=r=r||0;e>=sq;)t[r++]=255&e|sF,e/=128;for(;e&sH;)t[r++]=255&e|sF,e>>>=7;return t[r]=0|e,sJ.bytes=r-n+1,t}var sG=128,sW=127;function sK(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw sK.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&sW)<<i:(r&sW)*Math.pow(2,i),i+=7}while(r>=sG);return sK.bytes=o-t,n}var sQ=128,sZ=16384,sX=2097152,sY=268435456,s0=34359738368,s1=4398046511104,s2=562949953421312,s5=72057594037927940,s8=0x7fffffffffffffff;let s6={encode:sJ,decode:sK,encodingLength:function(e){return e<sQ?1:e<sZ?2:e<sX?3:e<sY?4:e<s0?5:e<s1?6:e<s2?7:e<s5?8:e<s8?9:10}},s3=(e,t=0)=>[s6.decode(e,t),s6.decode.bytes],s4=(e,t,r=0)=>(s6.encode(e,t,r),t),s7=e=>s6.encodingLength(e),s9=(e,t)=>{let r=t.byteLength,n=s7(e),i=n+s7(r),o=new Uint8Array(i+r);return s4(e,o,0),s4(r,o,n),o.set(t,i),new cr(e,r,t,o)},ce=e=>{let t=sR(e),[r,n]=s3(t),[i,o]=s3(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new cr(r,i,a,t)},ct=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&sM(e.bytes,r.bytes)}};class cr{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let cn=0,ci=sR,co=e=>s9(cn,ci(e)),ca={code:cn,name:"identity",encode:ci,digest:co},cs=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};class cc{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class cl{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ch(this,e)}}class cu{constructor(e){this.decoders=e}or(e){return ch(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let ch=(e,t)=>new cu({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class cf{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new cc(e,t,r),this.decoder=new cl(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let cd=({name:e,prefix:t,encode:r,decode:n})=>new cf(e,t,r,n),cp=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=cs(r,t);return cd({prefix:e,name:t,encode:n,decode:e=>sR(i(e))})},cb=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},cy=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},cg=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>cd({prefix:t,name:e,encode:e=>cy(e,n,r),decode:t=>cb(t,n,r,e)}),cm=cd({prefix:"\0",name:"identity",encode:e=>s_(e),decode:e=>sV(e)}),cw=cg({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),cv=cg({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),cE=cp({prefix:"9",name:"base10",alphabet:"0123456789"}),cx=cg({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cC=cg({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),cA=cg({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cS=cg({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cU=cg({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cP=cg({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),cI=cg({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ck=cg({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cT=cg({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cD=cg({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cN=cg({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),cj=cp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cB=cp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),cz=cp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cL=cp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),c$=cg({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cO=cg({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),cM=cg({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cR=cg({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),cV=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),c_=cV.reduce((e,t,r)=>(e[r]=t,e),[]),cF=cV.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),cH=cd({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=c_[t],"")},decode:function(e){let t=[];for(let r of e){let e=cF[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var cq=r(4770);let cJ=({name:e,code:t,encode:r})=>new cG(e,t,r);class cG{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?s9(this.code,t):t.then(e=>s9(this.code,e))}throw Error("Unknown type, must be binary type")}}let cW=cJ({name:"sha2-256",code:18,encode:e=>sR(cq.createHash("sha256").update(e).digest())}),cK=cJ({name:"sha2-512",code:19,encode:e=>sR(cq.createHash("sha512").update(e).digest())}),cQ="raw",cZ=85,cX=e=>sR(e),cY=e=>sR(e),c0=new TextEncoder,c1=new TextDecoder,c2="json",c5=512,c8=e=>c0.encode(JSON.stringify(e)),c6=e=>JSON.parse(c1.decode(e)),c3=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?lt(r,c7(e),t||cz.encoder):lr(r,c7(e),t||cA.encoder)},c4=new WeakMap,c7=e=>{let t=c4.get(e);if(null==t){let t=new Map;return c4.set(e,t),t}return t};class c9{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==ln)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==li)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return c9.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=s9(e,t);return c9.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return c9.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&ct(e.multihash,r.multihash)}toString(e){return c3(this,e)}toJSON(){return{"/":c3(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof c9)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new c9(e,r,n,i||lo(e,r,n.bytes))}if(!0!==t[la])return null;{let{version:e,multihash:r,code:n}=t,i=ce(r);return c9.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===ln)return new c9(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${ln}) block encoding`);case 1:{let n=lo(e,t,r.bytes);return new c9(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return c9.create(0,ln,e)}static createV1(e,t){return c9.create(1,e,t)}static decode(e){let[t,r]=c9.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=c9.inspectBytes(e),r=t.size-t.multihashSize,n=sR(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new cr(t.multihashCode,t.digestSize,i,n);return[0===t.version?c9.createV0(o):c9.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=s3(e.subarray(t));return t+=n,r},n=r(),i=ln;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=le(e,t),i=c9.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return c7(i).set(r,e),i}}let le=(e,t)=>{switch(e[0]){case"Q":{let r=t||cz;return[cz.prefix,r.decode(`${cz.prefix}${e}`)]}case cz.prefix:{let r=t||cz;return[cz.prefix,r.decode(e)]}case cA.prefix:{let r=t||cA;return[cA.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},lt=(e,t,r)=>{let{prefix:n}=r;if(n!==cz.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},lr=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},ln=112,li=18,lo=(e,t,r)=>{let n=s7(e),i=n+s7(t),o=new Uint8Array(i+r.byteLength);return s4(e,o,0),s4(t,o,n),o.set(r,i),o},la=Symbol.for("@ipld/js-cid/CID"),ls={...p,...b,...y,...g,...m,...w,...v,...E,...x,...C},lc={...A,...d},ll={raw:S,json:U};var lu=r(7503);function lh(e){return!!(0,lu.isIP)(e)}let lf=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};new Uint8Array(0);let ld=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},lp=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},lb=e=>new TextEncoder().encode(e),ly=e=>new TextDecoder().decode(e);class lg{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class lm{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return lv(this,e)}}class lw{constructor(e){this.decoders=e}or(e){return lv(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let lv=(e,t)=>new lw({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class lE{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new lg(e,t,r),this.decoder=new lm(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let lx=({name:e,prefix:t,encode:r,decode:n})=>new lE(e,t,r,n),lC=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=lf(r,t);return lx({prefix:e,name:t,encode:n,decode:e=>lp(i(e))})},lA=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},lS=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},lU=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>lx({prefix:t,name:e,encode:e=>lS(e,n,r),decode:t=>lA(t,n,r,e)}),lP=lC({prefix:"9",name:"base10",alphabet:"0123456789"}),lI=lU({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),lk=lU({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),lT=lU({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),lD=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),lN=lD.reduce((e,t,r)=>(e[r]=t,e),[]),lj=lD.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),lB=lx({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=lN[t],"")},decode:function(e){let t=[];for(let r of e){let e=lj[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),lz=lU({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lL=lU({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),l$=lU({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lO=lU({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lM=lU({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),lR=lU({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lV=lU({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),l_=lU({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lF=lU({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),lH=lC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lq=lC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),lJ=lC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lG=lC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),lW=lU({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lK=lU({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lQ=lU({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),lZ=lU({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),lX=lU({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),lY=lx({prefix:"\0",name:"identity",encode:e=>ly(e),decode:e=>lb(e)}),l0=new TextEncoder,l1=new TextDecoder,l2="json",l5=512,l8=e=>l0.encode(JSON.stringify(e)),l6=e=>JSON.parse(l1.decode(e)),l3="raw",l4=85,l7=e=>lp(e),l9=e=>lp(e);var ue=128,ut=-128,ur=2147483648;function un(e,t,r){t=t||[];for(var n=r=r||0;e>=ur;)t[r++]=255&e|ue,e/=128;for(;e&ut;)t[r++]=255&e|ue,e>>>=7;return t[r]=0|e,un.bytes=r-n+1,t}var ui=128,uo=127;function ua(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw ua.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&uo)<<i:(r&uo)*Math.pow(2,i),i+=7}while(r>=ui);return ua.bytes=o-t,n}var us=128,uc=16384,ul=2097152,uu=268435456,uh=34359738368,uf=4398046511104,ud=562949953421312,up=72057594037927940,ub=0x7fffffffffffffff;let uy={encode:un,decode:ua,encodingLength:function(e){return e<us?1:e<uc?2:e<ul?3:e<uu?4:e<uh?5:e<uf?6:e<ud?7:e<up?8:e<ub?9:10}},ug=(e,t=0)=>[uy.decode(e,t),uy.decode.bytes],um=(e,t,r=0)=>(uy.encode(e,t,r),t),uw=e=>uy.encodingLength(e),uv=(e,t)=>{let r=t.byteLength,n=uw(e),i=n+uw(r),o=new Uint8Array(i+r);return um(e,o,0),um(r,o,n),o.set(t,i),new uC(e,r,t,o)},uE=e=>{let t=lp(e),[r,n]=ug(t),[i,o]=ug(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new uC(r,i,a,t)},ux=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&ld(e.bytes,r.bytes)}};class uC{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let uA=0,uS=lp,uU=e=>uv(uA,uS(e)),uP={code:uA,name:"identity",encode:uS,digest:uU},uI=({name:e,code:t,encode:r})=>new uk(e,t,r);class uk{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?uv(this.code,t):t.then(e=>uv(this.code,e))}throw Error("Unknown type, must be binary type")}}let uT=uI({name:"sha2-256",code:18,encode:e=>lp(cq.createHash("sha256").update(e).digest())}),uD=uI({name:"sha2-512",code:19,encode:e=>lp(cq.createHash("sha512").update(e).digest())}),uN=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?u$(r,uB(e),t||lJ.encoder):uO(r,uB(e),t||lz.encoder)},uj=new WeakMap,uB=e=>{let t=uj.get(e);if(null==t){let t=new Map;return uj.set(e,t),t}return t};class uz{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==uM)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==uR)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return uz.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=uv(e,t);return uz.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return uz.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&ux(e.multihash,r.multihash)}toString(e){return uN(this,e)}toJSON(){return{"/":uN(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof uz)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new uz(e,r,n,i||uV(e,r,n.bytes))}if(!0!==t[u_])return null;{let{version:e,multihash:r,code:n}=t,i=uE(r);return uz.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===uM)return new uz(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${uM}) block encoding`);case 1:{let n=uV(e,t,r.bytes);return new uz(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return uz.create(0,uM,e)}static createV1(e,t){return uz.create(1,e,t)}static decode(e){let[t,r]=uz.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=uz.inspectBytes(e),r=t.size-t.multihashSize,n=lp(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new uC(t.multihashCode,t.digestSize,i,n);return[0===t.version?uz.createV0(o):uz.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ug(e.subarray(t));return t+=n,r},n=r(),i=uM;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=uL(e,t),i=uz.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return uB(i).set(r,e),i}}let uL=(e,t)=>{switch(e[0]){case"Q":{let r=t||lJ;return[lJ.prefix,r.decode(`${lJ.prefix}${e}`)]}case lJ.prefix:{let r=t||lJ;return[lJ.prefix,r.decode(e)]}case lz.prefix:{let r=t||lz;return[lz.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},u$=(e,t,r)=>{let{prefix:n}=r;if(n!==lJ.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},uO=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},uM=112,uR=18,uV=(e,t,r)=>{let n=uw(e),i=n+uw(t),o=new Uint8Array(i+r.byteLength);return um(e,o,0),um(t,o,n),o.set(r,i),o},u_=Symbol.for("@ipld/js-cid/CID"),uF={...L,...k,...z,...P,...I,...D,...N,...j,...B,...T};function uH(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function uq(e=0){return globalThis.Buffer?.allocUnsafe!=null?uH(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function uJ(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...R,...M});let uG=uJ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),uW=uJ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=uq((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),uK={utf8:uG,"utf-8":uG,hex:uF.base16,latin1:uW,ascii:uW,binary:uW,...uF};function uQ(e,t="utf8"){let r=uK[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}let uZ=lu.isIPv4,uX=lu.isIPv6,uY=function(e){let t=0;if(uZ(e=e.toString().trim())){let r=new Uint8Array(t+4);return e.split(/\./g).forEach(e=>{r[t++]=255&parseInt(e,10)}),r}if(uX(e)){let r;let n=e.split(":",8);for(r=0;r<n.length;r++){let e;uZ(n[r])&&(e=uY(n[r]),n[r]=uQ(e.slice(0,2),"base16")),null!=e&&++r<8&&n.splice(r,0,uQ(e.slice(2,4),"base16"))}if(""===n[0])for(;n.length<8;)n.unshift("0");else if(""===n[n.length-1])for(;n.length<8;)n.push("0");else if(n.length<8){for(r=0;r<n.length&&""!==n[r];r++);let e=[r,1];for(r=9-n.length;r>0;r--)e.push("0");n.splice.apply(n,e)}let i=new Uint8Array(t+16);for(r=0;r<n.length;r++){let e=parseInt(n[r],16);i[t++]=e>>8&255,i[t++]=255&e}return i}throw Error("invalid ip address")},u0=function(e,t=0,r){t=~~t,r=r??e.length-t;let n=new DataView(e.buffer);if(4===r){let n=[];for(let i=0;i<r;i++)n.push(e[t+i]);return n.join(".")}if(16===r){let e=[];for(let i=0;i<r;i+=2)e.push(n.getUint16(t+i).toString(16));return e.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},u1={},u2={};function u5(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:!!n,path:!!i}}function u8(e){if("number"==typeof e){if(null!=u2[e])return u2[e];throw Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=u1[e])return u1[e];throw Error(`no protocol with name: ${e}`)}throw Error(`invalid protocol id type: ${typeof e}`)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[43,8,"ipcidr"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[448,0,"tls"],[449,-1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]].forEach(e=>{let t=u5(...e);u2[t.code]=t,u1[t.name]=t});var u6=128,u3=-128,u4=2147483648;function u7(e,t,r){t=t||[];for(var n=r=r||0;e>=u4;)t[r++]=255&e|u6,e/=128;for(;e&u3;)t[r++]=255&e|u6,e>>>=7;return t[r]=0|e,u7.bytes=r-n+1,t}var u9=128,he=127;function ht(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw ht.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&he)<<i:(r&he)*Math.pow(2,i),i+=7}while(r>=u9);return ht.bytes=o-t,n}var hr=128,hn=16384,hi=2097152,ho=268435456,ha=34359738368,hs=4398046511104,hc=562949953421312,hl=72057594037927940,hu=0x7fffffffffffffff;let hh={encode:u7,decode:ht,encodingLength:function(e){return e<hr?1:e<hn?2:e<hi?3:e<ho?4:e<ha?5:e<hs?6:e<hc?7:e<hl?8:e<hu?9:10}},hf=(e,t=0)=>[hh.decode(e,t),hh.decode.bytes],hd=(e,t,r=0)=>(hh.encode(e,t,r),t),hp=e=>hh.encodingLength(e);new Uint8Array(0);let hb=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},hy=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},hg=e=>new TextEncoder().encode(e),hm=e=>new TextDecoder().decode(e),hw=(e,t)=>{let r=t.byteLength,n=hp(e),i=n+hp(r),o=new Uint8Array(i+r);return hd(e,o,0),hd(r,o,n),o.set(t,i),new hx(e,r,t,o)},hv=e=>{let t=hy(e),[r,n]=hf(t),[i,o]=hf(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new hx(r,i,a,t)},hE=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&hb(e.bytes,r.bytes)}};class hx{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let hC=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};class hA{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class hS{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return hP(this,e)}}class hU{constructor(e){this.decoders=e}or(e){return hP(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let hP=(e,t)=>new hU({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class hI{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new hA(e,t,r),this.decoder=new hS(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let hk=({name:e,prefix:t,encode:r,decode:n})=>new hI(e,t,r,n),hT=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=hC(r,t);return hk({prefix:e,name:t,encode:n,decode:e=>hy(i(e))})},hD=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},hN=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},hj=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>hk({prefix:t,name:e,encode:e=>hN(e,n,r),decode:t=>hD(t,n,r,e)}),hB=hT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hz=hT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),hL=hj({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),h$=hj({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hO=hj({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),hM=hj({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hR=hj({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hV=hj({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),h_=hj({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hF=hj({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hH=hj({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),hq=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?hQ(r,hG(e),t||hB.encoder):hZ(r,hG(e),t||hL.encoder)},hJ=new WeakMap,hG=e=>{let t=hJ.get(e);if(null==t){let t=new Map;return hJ.set(e,t),t}return t};class hW{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==hX)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==hY)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return hW.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=hw(e,t);return hW.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return hW.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&hE(e.multihash,r.multihash)}toString(e){return hq(this,e)}toJSON(){return{"/":hq(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof hW)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new hW(e,r,n,i||h0(e,r,n.bytes))}if(!0!==t[h1])return null;{let{version:e,multihash:r,code:n}=t,i=hv(r);return hW.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===hX)return new hW(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${hX}) block encoding`);case 1:{let n=h0(e,t,r.bytes);return new hW(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return hW.create(0,hX,e)}static createV1(e,t){return hW.create(1,e,t)}static decode(e){let[t,r]=hW.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=hW.inspectBytes(e),r=t.size-t.multihashSize,n=hy(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new hx(t.multihashCode,t.digestSize,i,n);return[0===t.version?hW.createV0(o):hW.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=hf(e.subarray(t));return t+=n,r},n=r(),i=hX;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=hK(e,t),i=hW.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return hG(i).set(r,e),i}}let hK=(e,t)=>{switch(e[0]){case"Q":{let r=t||hB;return[hB.prefix,r.decode(`${hB.prefix}${e}`)]}case hB.prefix:{let r=t||hB;return[hB.prefix,r.decode(e)]}case hL.prefix:{let r=t||hL;return[hL.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},hQ=(e,t,r)=>{let{prefix:n}=r;if(n!==hB.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},hZ=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},hX=112,hY=18,h0=(e,t,r)=>{let n=hp(e),i=n+hp(t),o=new Uint8Array(i+r.byteLength);return hd(e,o,0),hd(t,o,n),o.set(r,i),o},h1=Symbol.for("@ipld/js-cid/CID"),h2=hk({prefix:"\0",name:"identity",encode:e=>hm(e),decode:e=>hg(e)}),h5=hj({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),h8=hj({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),h6=hT({prefix:"9",name:"base10",alphabet:"0123456789"}),h3=hj({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),h4=hj({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),h7=hT({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),h9=hT({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),fe=hj({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ft=hj({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fr=hj({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fn=hj({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),fi=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),fo=fi.reduce((e,t,r)=>(e[r]=t,e),[]),fa=fi.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),fs=hk({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=fo[t],"")},decode:function(e){let t=[];for(let r of e){let e=fa[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),fc=({name:e,code:t,encode:r})=>new fl(e,t,r);class fl{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?hw(this.code,t):t.then(e=>hw(this.code,e))}throw Error("Unknown type, must be binary type")}}let fu=fc({name:"sha2-256",code:18,encode:e=>hy(cq.createHash("sha256").update(e).digest())}),fh=fc({name:"sha2-512",code:19,encode:e=>hy(cq.createHash("sha512").update(e).digest())}),ff=0,fd=hy,fp=e=>hw(ff,fd(e)),fb={code:ff,name:"identity",encode:fd,digest:fp},fy="raw",fg=85,fm=e=>hy(e),fw=e=>hy(e),fv=new TextEncoder,fE=new TextDecoder,fx="json",fC=512,fA=e=>fv.encode(JSON.stringify(e)),fS=e=>JSON.parse(fE.decode(e)),fU={...F,...H,...q,...J,...G,..._,...W,...V,...K,...Q};({...Z,...X});var fP=r(5307);function fI(e,t="utf8"){let r=uK[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?uH(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function fk(e,t){null==t&&(t=e.reduce((e,t)=>e+t.length,0));let r=uq(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return uH(r)}function fT(e,t){switch(u8(e).code){case 4:case 41:return fz(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return fM(t);case 6:case 273:case 33:case 132:return f$(t).toString();case 421:return fF(t);case 444:case 445:return fJ(t);case 466:return f_(t);default:return uQ(t,"base16")}}function fD(e,t){switch(u8(e).code){case 4:case 41:return fB(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return fO(t);case 6:case 273:case 33:case 132:return fL(parseInt(t,10));case 421:return fR(t);case 444:return fH(t);case 445:return fq(t);case 466:return fV(t);default:return fI(t,"base16")}}let fN=Object.values(fU).map(e=>e.decoder),fj=function(){let e=fN[0].or(fN[1]);return fN.slice(2).forEach(t=>e=e.or(t)),e}();function fB(e){if(!lh(e))throw Error("invalid ip address");return uY(e)}function fz(e){let t=u0(e,0,e.length);if(null==t)throw Error("ipBuff is required");if(!lh(t))throw Error("invalid ip address");return t}function fL(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function f$(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function fO(e){let t=fI(e),r=Uint8Array.from(fP.encode(t.length));return fk([r,t],r.length+t.length)}function fM(e){let t=fP.decode(e);if((e=e.slice(fP.decode.bytes)).length!==t)throw Error("inconsistent lengths");return uQ(e)}function fR(e){let t;t="Q"===e[0]||"1"===e[0]?hv(hB.decode(`z${e}`)).bytes:hW.parse(e).multihash.bytes;let r=Uint8Array.from(fP.encode(t.length));return fk([r,t],r.length+t.length)}function fV(e){let t=fj.decode(e),r=Uint8Array.from(fP.encode(t.length));return fk([r,t],r.length+t.length)}function f_(e){let t=fP.decode(e),r=e.slice(fP.decode.bytes);if(r.length!==t)throw Error("inconsistent lengths");return"u"+uQ(r,"base64url")}function fF(e){let t=fP.decode(e),r=e.slice(fP.decode.bytes);if(r.length!==t)throw Error("inconsistent lengths");return uQ(r,"base58btc")}function fH(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(16!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=hL.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=fL(n);return fk([r,i],r.length+i.length)}function fq(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(56!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=hL.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=fL(n);return fk([r,i],r.length+i.length)}function fJ(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=uQ(t,"base32"),i=f$(r);return`${n}:${i}`}function fG(e){let t=[],r=e.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){let i=r[n],o=u8(i);if(0===o.size){t.push([i]);continue}if(++n>=r.length)throw f3("invalid address: "+e);if(!0===o.path){t.push([i,f6(r.slice(n).join("/"))]);break}t.push([i,r[n]])}return t}function fW(e){let t=[];return e.map(e=>{let r=f4(e);return t.push(r.name),e.length>1&&null!=e[1]&&t.push(e[1]),null}),f6(t.join("/"))}function fK(e){return e.map(e=>{Array.isArray(e)||(e=[e]);let t=f4(e);return e.length>1?[t.code,fD(t.code,e[1])]:[t.code]})}function fQ(e){return e.map(e=>{let t=f4(e);return null!=e[1]?[t.code,fT(t.code,e[1])]:[t.code]})}function fZ(e){return f5(fk(e.map(e=>{let t=f4(e),r=Uint8Array.from(fP.encode(t.code));return e.length>1&&null!=e[1]&&(r=fk([r,e[1]])),r})))}function fX(e,t){return e.size>0?e.size/8:0===e.size?0:fP.decode(t)+(fP.decode.bytes??0)}function fY(e){let t=[],r=0;for(;r<e.length;){let n=fP.decode(e,r),i=fP.decode.bytes??0,o=fX(u8(n),e.slice(r+i));if(0===o){t.push([n]),r+=i;continue}let a=e.slice(r+i,r+i+o);if((r+=o+i)>e.length)throw f3("Invalid address Uint8Array: "+uQ(e,"base16"));t.push([n,a])}return t}function f0(e){return fW(fQ(fY(e)))}function f1(e){return fZ(fK(fG(e=f6(e))))}function f2(e){return f1(e)}function f5(e){let t=f8(e);if(null!=t)throw t;return Uint8Array.from(e)}function f8(e){try{fY(e)}catch(e){return e}}function f6(e){return"/"+e.trim().split("/").filter(e=>e).join("/")}function f3(e){return Error("Error parsing address: "+e)}function f4(e){return u8(e[0])}var f7=r(8343);function f9(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var de=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},dt=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let dr=Symbol.for("nodejs.util.inspect.custom"),dn=[u8("dns").code,u8("dns4").code,u8("dns6").code,u8("dnsaddr").code],di=new Map,da=Symbol.for("@multiformats/js-multiaddr/multiaddr");function ds(e){return!!e?.[da]}class dc{constructor(e){if(o.set(this,void 0),a.set(this,void 0),s.set(this,void 0),this[c]=!0,null==e&&(e=""),e instanceof Uint8Array)this.bytes=f5(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw Error(`multiaddr "${e}" must start with a "/"`);this.bytes=f2(e)}else if(ds(e))this.bytes=f5(e.bytes);else throw Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return null==de(this,o,"f")&&dt(this,o,f0(this.bytes),"f"),de(this,o,"f")}toJSON(){return this.toString()}toOptions(){let e,t,r,n;let i="",o=u8("tcp"),a=u8("udp"),s=u8("ip4"),c=u8("ip6"),l=u8("dns6"),u=u8("ip6zone");for(let[h,f]of this.stringTuples())h===u.code&&(i=`%${f??""}`),dn.includes(h)&&(t=o.name,n=443,r=`${f??""}${i}`,e=h===l.code?6:4),(h===o.code||h===a.code)&&(t=u8(h).name,n=parseInt(f??"")),(h===s.code||h===c.code)&&(t=u8(h).name,r=`${f??""}${i}`,e=h===c.code?6:4);if(null==e||null==t||null==r||null==n)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:r,transport:t,port:n}}protos(){return this.protoCodes().map(e=>Object.assign({},u8(e)))}protoCodes(){let e=[],t=this.bytes,r=0;for(;r<t.length;){let n=fP.decode(t,r),i=fP.decode.bytes??0,o=fX(u8(n),t.slice(r+i));r+=o+i,e.push(n)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return null==de(this,a,"f")&&dt(this,a,fY(this.bytes),"f"),de(this,a,"f")}stringTuples(){return null==de(this,s,"f")&&dt(this,s,fQ(this.tuples()),"f"),de(this,s,"f")}encapsulate(e){return e=new dc(e),new dc(this.toString()+e.toString())}decapsulate(e){let t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new dc(r.slice(0,n))}decapsulateCode(e){let t=this.tuples();for(let r=t.length-1;r>=0;r--)if(t[r][0]===e)return new dc(fZ(t.slice(0,r)));return this}getPeerId(){try{let e=this.stringTuples().filter(e=>e[0]===u1.ipfs.code).pop();if(e?.[1]!=null){let t=e[1];if("Q"===t[0]||"1"===t[0])return uQ(hB.decode(`z${t}`),"base58btc");return uQ(hW.parse(t).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(e=>{let t=u8(e[0]);return!0===t.path})[0][1],null==e&&(e=null)}catch{e=null}return e}equals(e){return f9(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(e=>e.resolvable);if(null==t)return[this];let r=di.get(t.name);if(null==r)throw f7(Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this,e)).map(e=>new dc(e))}nodeAddress(){let e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let t=(e??this).protos();return 2===t.length&&(4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code)}[(o=new WeakMap,a=new WeakMap,s=new WeakMap,c=da,dr)](){return`Multiaddr(${f0(this.bytes)})`}}function dl(e){return new dc(e)}var du=r(5390);let dh=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;function df(e="",t="ms"){var r,n=null;return(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2")).replace(dh,function(e,i,o){if(o)o=o.toLowerCase();else if(r){for(var a in df)if(df[a]<r){o=a;break}}else o=t;(o=Object.prototype.hasOwnProperty.call(df,o)?df[o]:Object.prototype.hasOwnProperty.call(df,o.replace(/s$/,""))?df[o.replace(/s$/,"")]:null)&&(n=(n||0)+Math.abs(parseFloat(i,10))*o,r=o)}),n&&n/(df[t]||1)*("-"===e[0]?-1:1)}df.year=df.yr=df.y=315576e5,df.month=df.b=26298e5,df.week=df.wk=df.w=6048e5,df.day=df.d=864e5,df.hour=df.hr=df.h=36e5,df.minute=df.min=df.m=6e4,df.second=df.sec=df.s=1e3,df.millisecond=df.millisec=df.ms=1,df["\xb5s"]=df["μs"]=df.us=df.microsecond=.001,df.nanosecond=df.ns=1/1e6;let dd=df;var dp=r(8589);let db=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};new Uint8Array(0);let dy=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class dg{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class dm{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return dv(this,e)}}class dw{constructor(e){this.decoders=e}or(e){return dv(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let dv=(e,t)=>new dw({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class dE{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new dg(e,t,r),this.decoder=new dm(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let dx=({name:e,prefix:t,encode:r,decode:n})=>new dE(e,t,r,n),dC=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=db(r,t);return dx({prefix:e,name:t,encode:n,decode:e=>dy(i(e))})},dA=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},dS=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},dU=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>dx({prefix:t,name:e,encode:e=>dS(e,n,r),decode:t=>dA(t,n,r,e)}),dP=dC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});dC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let dI=dU({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});dU({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dU({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dU({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dU({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dU({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dU({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dU({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dU({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let dk=dU({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});function dT(e){let t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}function dD(e){let t=dT(`${e}:trace`);return dp.enabled(`${e}:trace`)&&null!=dp.names.map(e=>e.toString()).find(e=>e.includes(":trace"))&&(t=dp(`${e}:trace`)),Object.assign(dp(e),{error:dp(`${e}:error`),trace:t})}dU({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dU({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dU({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),dp.formatters.b=e=>null==e?"undefined":dP.baseEncode(e),dp.formatters.t=e=>null==e?"undefined":dI.baseEncode(e),dp.formatters.m=e=>null==e?"undefined":dk.baseEncode(e),dp.formatters.p=e=>null==e?"undefined":e.toString(),dp.formatters.c=e=>null==e?"undefined":e.toString(),dp.formatters.k=e=>null==e?"undefined":e.toString(),dp.formatters.a=e=>null==e?"undefined":e.toString();var dN=r(9437);let dj=r(5799);var dB=r(2254);function dz(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function dL(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")}function d$(e){return new TextEncoder().encode(e)}function dO(e){return new TextDecoder().decode(e)}new Uint8Array(0);let dM=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};class dR{name;prefix;baseEncode;constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class dV{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,r){this.name=e,this.prefix=t;let n=t.codePointAt(0);if(void 0===n)throw Error("Invalid prefix character");this.prefixCodePoint=n,this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return dF(this,e)}}class d_{decoders;constructor(e){this.decoders=e}or(e){return dF(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(null!=r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function dF(e,t){return new d_({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class dH{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new dR(e,t,r),this.decoder=new dV(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function dq({name:e,prefix:t,encode:r,decode:n}){return new dH(e,t,r,n)}function dJ({name:e,prefix:t,alphabet:r}){let{encode:n,decode:i}=dM(r,e);return dq({prefix:t,name:e,encode:n,decode:e=>dL(i(e))})}function dG(e,t,r,n){let i=e.length;for(;"="===e[i-1];)--i;let o=new Uint8Array(i*r/8|0),a=0,s=0,c=0;for(let l=0;l<i;++l){let i=t[e[l]];if(void 0===i)throw SyntaxError(`Non-${n} character`);s=s<<r|i,(a+=r)>=8&&(a-=8,o[c++]=255&s>>a)}if(a>=r||(255&s<<8-a)!=0)throw SyntaxError("Unexpected end of data");return o}function dW(e,t,r){let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(0!==a&&(o+=t[i&s<<r-a]),n)for(;(o.length*r&7)!=0;)o+="=";return o}function dK(e){let t={};for(let r=0;r<e.length;++r)t[e[r]]=r;return t}function dQ({name:e,prefix:t,bitsPerChar:r,alphabet:n}){let i=dK(n);return dq({prefix:t,name:e,encode:e=>dW(e,n,r),decode:t=>dG(t,i,r,e)})}let dZ=dJ({prefix:"9",name:"base10",alphabet:"0123456789"}),dX=dQ({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dY=dQ({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),d0=dQ({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),d1=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),d2=d1.reduce((e,t,r)=>(e[r]=t,e),[]),d5=d1.reduce((e,t,r)=>{let n=t.codePointAt(0);if(null==n)throw Error(`Invalid character: ${t}`);return e[n]=r,e},[]),d8=dq({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=d2[t],"")},decode:function(e){let t=[];for(let r of e){let e=r.codePointAt(0);if(null==e)throw Error(`Invalid character: ${r}`);let n=d5[e];if(null==n)throw Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}}),d6=dQ({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),d3=dQ({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),d4=dQ({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),d7=dQ({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),d9=dQ({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pe=dQ({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pt=dQ({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pr=dQ({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pn=dQ({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),pi=dJ({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),po=dJ({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),pa=dJ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ps=dJ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),pc=dQ({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pl=dQ({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pu=dQ({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ph=dQ({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pf=dQ({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),pd=dq({prefix:"\0",name:"identity",encode:e=>dO(e),decode:e=>d$(e)}),pp=new TextEncoder,pb=new TextDecoder,py="json",pg=512;function pm(e){return pp.encode(JSON.stringify(e))}function pw(e){return JSON.parse(pb.decode(e))}let pv="raw",pE=85;function px(e){return dL(e)}function pC(e){return dL(e)}var pA=128,pS=-128,pU=2147483648;function pP(e,t,r){t=t||[];for(var n=r=r||0;e>=pU;)t[r++]=255&e|pA,e/=128;for(;e&pS;)t[r++]=255&e|pA,e>>>=7;return t[r]=0|e,pP.bytes=r-n+1,t}var pI=128,pk=127;function pT(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw pT.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&pk)<<i:(r&pk)*Math.pow(2,i),i+=7}while(r>=pI);return pT.bytes=o-t,n}var pD=128,pN=16384,pj=2097152,pB=268435456,pz=34359738368,pL=4398046511104,p$=562949953421312,pO=72057594037927940,pM=0x7fffffffffffffff;let pR={encode:pP,decode:pT,encodingLength:function(e){return e<pD?1:e<pN?2:e<pj?3:e<pB?4:e<pz?5:e<pL?6:e<p$?7:e<pO?8:e<pM?9:10}};function pV(e,t=0){return[pR.decode(e,t),pR.decode.bytes]}function p_(e,t,r=0){return pR.encode(e,t,r),t}function pF(e){return pR.encodingLength(e)}function pH(e,t){let r=t.byteLength,n=pF(e),i=n+pF(r),o=new Uint8Array(i+r);return p_(e,o,0),p_(r,o,n),o.set(t,i),new pG(e,r,t,o)}function pq(e){let t=dL(e),[r,n]=pV(t),[i,o]=pV(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new pG(r,i,a,t)}function pJ(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&dz(e.bytes,r.bytes)}}class pG{code;size;digest;bytes;constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let pW=0,pK=dL;function pQ(e,t){if(t?.truncate!=null&&t.truncate!==e.byteLength){if(t.truncate<0||t.truncate>e.byteLength)throw Error(`Invalid truncate option, must be less than or equal to ${e.byteLength}`);e=e.subarray(0,t.truncate)}return pH(pW,pK(e))}let pZ={code:0,name:"identity",encode:pK,digest:pQ},pX=20;function pY({name:e,code:t,encode:r,minDigestLength:n,maxDigestLength:i}){return new p0(e,t,r,n,i)}class p0{name;code;encode;minDigestLength;maxDigestLength;constructor(e,t,r,n,i){this.name=e,this.code=t,this.encode=r,this.minDigestLength=n??pX,this.maxDigestLength=i}digest(e,t){if(t?.truncate!=null){if(t.truncate<this.minDigestLength)throw Error(`Invalid truncate option, must be greater than or equal to ${this.minDigestLength}`);if(null!=this.maxDigestLength&&t.truncate>this.maxDigestLength)throw Error(`Invalid truncate option, must be less than or equal to ${this.maxDigestLength}`)}if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?p1(r,this.code,t?.truncate):r.then(e=>p1(e,this.code,t?.truncate))}throw Error("Unknown type, must be binary type")}}function p1(e,t,r){if(null!=r&&r!==e.byteLength){if(r>e.byteLength)throw Error(`Invalid truncate option, must be less than or equal to ${e.byteLength}`);e=e.subarray(0,r)}return pH(t,e)}let p2=pY({name:"sha2-256",code:18,encode:e=>dL(cq.createHash("sha256").update(e).digest())}),p5=pY({name:"sha2-512",code:19,encode:e=>dL(cq.createHash("sha512").update(e).digest())});function p8(e,t){let{bytes:r,version:n}=e;return 0===n?p9(r,p3(e),t??pa.encoder):be(r,p3(e),t??d6.encoder)}let p6=new WeakMap;function p3(e){let t=p6.get(e);if(null==t){let t=new Map;return p6.set(e,t),t}return t}class p4{code;version;multihash;bytes;"/";constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==bt)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==br)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return p4.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=pH(e,t);return p4.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return p4.equals(this,e)}static equals(e,t){let r=t;return null!=r&&e.code===r.code&&e.version===r.version&&pJ(e.multihash,r.multihash)}toString(e){return p8(this,e)}toJSON(){return{"/":p8(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof p4)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new p4(e,r,n,i??bn(e,r,n.bytes))}if(!0!==t[bi])return null;{let{version:e,multihash:r,code:n}=t,i=pq(r);return p4.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===bt)return new p4(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${bt}) block encoding`);case 1:{let n=bn(e,t,r.bytes);return new p4(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return p4.create(0,bt,e)}static createV1(e,t){return p4.create(1,e,t)}static decode(e){let[t,r]=p4.decodeFirst(e);if(0!==r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=p4.inspectBytes(e),r=t.size-t.multihashSize,n=dL(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new pG(t.multihashCode,t.digestSize,i,n);return[0===t.version?p4.createV0(o):p4.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=pV(e.subarray(t));return t+=n,r},n=r(),i=bt;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=p7(e,t),i=p4.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return p3(i).set(r,e),i}}function p7(e,t){switch(e[0]){case"Q":{let r=t??pa;return[pa.prefix,r.decode(`${pa.prefix}${e}`)]}case pa.prefix:{let r=t??pa;return[pa.prefix,r.decode(e)]}case d6.prefix:{let r=t??d6;return[d6.prefix,r.decode(e)]}case pi.prefix:{let r=t??pi;return[pi.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}function p9(e,t,r){let{prefix:n}=r;if(n!==pa.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}}function be(e,t,r){let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}}let bt=112,br=18;function bn(e,t,r){let n=pF(e),i=n+pF(t),o=new Uint8Array(i+r.byteLength);return p_(e,o,0),p_(t,o,n),o.set(r,i),o}let bi=Symbol.for("@ipld/js-cid/CID"),bo={...eu,...en,...el,...et,...er,...eo,...ea,...es,...ec,...ei};function ba(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function bs(e=0){return ba(dB.Buffer.allocUnsafe(e))}function bc(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...ep,...ed});let bl=bc("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),bu=bc("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=bs((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),bh={utf8:bl,"utf-8":bl,hex:bo.base16,latin1:bu,ascii:bu,binary:bu,...bo};function bf(e,t="utf8"){let r=bh[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return"utf8"===t||"utf-8"===t?dB.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function bd(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function bp(e,t="utf8"){let r=bh[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return"utf8"===t||"utf-8"===t?ba(dB.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}let bb=128,by=16384,bg=2097152,bm=268435456,bw=34359738368,bv=4398046511104,bE=562949953421312,bx=128,bC=127;function bA(e){if(e<bb)return 1;if(e<by)return 2;if(e<bg)return 3;if(e<bm)return 4;if(e<bw)return 5;if(e<bv)return 6;if(e<bE)return 7;if(null!=Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw RangeError("Could not encode varint");return 8}function bS(e,t,r=0){switch(bA(e)){case 8:t[r++]=255&e|bx,e/=128;case 7:t[r++]=255&e|bx,e/=128;case 6:t[r++]=255&e|bx,e/=128;case 5:t[r++]=255&e|bx,e/=128;case 4:t[r++]=255&e|bx,e>>>=7;case 3:t[r++]=255&e|bx,e>>>=7;case 2:t[r++]=255&e|bx,e>>>=7;case 1:t[r++]=255&e,e>>>=7;break;default:throw Error("unreachable")}return t}function bU(e,t){let r,n=e[t];if(r=0+(n&bC),n<bx||(r+=((n=e[t+1])&bC)<<7,n<bx)||(r+=((n=e[t+2])&bC)<<14,n<bx)||(r+=((n=e[t+3])&bC)<<21,n<bx)||(r+=((n=e[t+4])&bC)*bm,n<bx)||(r+=((n=e[t+5])&bC)*bw,n<bx)||(r+=((n=e[t+6])&bC)*bv,n<bx)||(r+=((n=e[t+7])&bC)*bE,n<bx))return r;throw RangeError("Could not decode varint")}function bP(e,t){let r,n=e.get(t);if(r=0+(n&bC),n<bx||(r+=((n=e.get(t+1))&bC)<<7,n<bx)||(r+=((n=e.get(t+2))&bC)<<14,n<bx)||(r+=((n=e.get(t+3))&bC)<<21,n<bx)||(r+=((n=e.get(t+4))&bC)*bm,n<bx)||(r+=((n=e.get(t+5))&bC)*bw,n<bx)||(r+=((n=e.get(t+6))&bC)*bv,n<bx)||(r+=((n=e.get(t+7))&bC)*bE,n<bx))return r;throw RangeError("Could not decode varint")}function bI(e,t=0){return e instanceof Uint8Array?bU(e,t):bP(e,t)}function bk(e,t){return ba(dB.Buffer.concat(e,t))}class bT extends Error{static name="InvalidMultiaddrError";name="InvalidMultiaddrError"}class bD extends Error{static name="ValidationError";name="ValidationError"}class bN extends Error{static name="InvalidParametersError";name="InvalidParametersError"}class bj extends Error{static name="UnknownProtocolError";name="UnknownProtocolError"}let bB=4,bz=6,bL=273,b$=33,bO=41,bM=42,bR=43,bV=53,b_=54,bF=55,bH=56,bq=132,bJ=301,bG=302,bW=400,bK=421,bQ=444,bZ=445,bX=446,bY=447,b0=448,b1=449,b2=454,b5=460,b8=461,b6=465,b3=466,b4=480,b7=481,b9=443,ye=477,yt=478,yr=479,yn=277,yi=275,yo=276,ya=280,ys=281,yc=290,yl=777;function yu(e){return t=>bf(t,e)}function yh(e){return t=>bp(t,e)}function yf(e){return new DataView(e.buffer).getUint16(e.byteOffset).toString()}function yd(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,"string"==typeof e?parseInt(e):e),new Uint8Array(t)}function yp(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(16!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=bp(t[0],"base32"),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=yd(n);return bk([r,i],r.length+i.length)}function yb(e){let t=e.split(":");if(2!==t.length)throw Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(56!==t[0].length)throw Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=d6.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw Error("Port number is not in range(1, 65536)");let i=yd(n);return bk([r,i],r.length+i.length)}function yy(e){let t=e.subarray(0,e.length-2),r=e.subarray(e.length-2),n=bf(t,"base32"),i=yf(r);return`${n}:${i}`}let yg=function(e){e=e.toString().trim();let t=new Uint8Array(4);return e.split(/\./g).forEach((e,r)=>{let n=parseInt(e,10);if(isNaN(n)||n<0||n>255)throw new bT("Invalid byte value in IP address");t[r]=n}),t},ym=function(e){let t,r=0,n=(e=e.toString().trim()).split(":",8);for(t=0;t<n.length;t++){let e;(0,lu.isIPv4)(n[t])&&(e=yg(n[t]),n[t]=bf(e.subarray(0,2),"base16")),null!=e&&++t<8&&n.splice(t,0,bf(e.subarray(2,4),"base16"))}if(""===n[0])for(;n.length<8;)n.unshift("0");else if(""===n[n.length-1])for(;n.length<8;)n.push("0");else if(n.length<8){for(t=0;t<n.length&&""!==n[t];t++);let e=[t,1];for(t=9-n.length;t>0;t--)e.push("0");n.splice.apply(n,e)}let i=new Uint8Array(r+16);for(t=0;t<n.length;t++){""===n[t]&&(n[t]="0");let e=parseInt(n[t],16);if(isNaN(e)||e<0||e>65535)throw new bT("Invalid byte value in IP address");i[r++]=e>>8&255,i[r++]=255&e}return i},yw=function(e){if(4!==e.byteLength)throw new bT("IPv4 address was incorrect length");let t=[];for(let r=0;r<e.byteLength;r++)t.push(e[r]);return t.join(".")},yv=function(e){if(16!==e.byteLength)throw new bT("IPv6 address was incorrect length");let t=[];for(let r=0;r<e.byteLength;r+=2){let n=e[r],i=e[r+1],o=`${n.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`;t.push(o)}let r=t.join(":");try{let e=new URL(`http://[${r}]`);return e.hostname.substring(1,e.hostname.length-1)}catch{throw new bT(`Invalid IPv6 address "${r}"`)}};function yE(e){try{let t=new URL(`http://[${e}]`);return t.hostname.substring(1,t.hostname.length-1)}catch{throw new bT(`Invalid IPv6 address "${e}"`)}}let yx=Object.values(bo).map(e=>e.decoder),yC=function(){let e=yx[0].or(yx[1]);return yx.slice(2).forEach(t=>e=e.or(t)),e}();function yA(e){return yC.decode(e)}function yS(e){return t=>e.encoder.encode(t)}let yU=function(...e){return t=>{for(let r of e)r(t)}}(function(e){if(parseInt(e).toString()!==e)throw new bD("Value must be an integer")},function(e){if(e<0)throw new bD("Value must be a positive integer, or zero")},function(e){return e=>{if(e>65535)throw new bD("Value must be smaller than or equal to "+65535)}}(65535)),yP=-1;class yI{protocolsByCode=new Map;protocolsByName=new Map;getProtocol(e){let t;if(null==(t="string"==typeof e?this.protocolsByName.get(e):this.protocolsByCode.get(e)))throw new bj(`Protocol ${e} was unknown`);return t}addProtocol(e){this.protocolsByCode.set(e.code,e),this.protocolsByName.set(e.name,e),e.aliases?.forEach(t=>{this.protocolsByName.set(t,e)})}removeProtocol(e){let t=this.protocolsByCode.get(e);null!=t&&(this.protocolsByCode.delete(t.code),this.protocolsByName.delete(t.name),t.aliases?.forEach(e=>{this.protocolsByName.delete(e)}))}}let yk=new yI;function yT(e){let t=[],r=0;for(;r<e.length;){let n=bI(e,r),i=yk.getProtocol(n),o=bA(n),a=yB(i,e,r+o),s=0;a>0&&i.size===yP&&(s=bA(a));let c=o+s+a,l={code:n,name:i.name,bytes:e.subarray(r,r+c)};if(a>0){let t=r+o+s,n=e.subarray(t,t+a);l.value=i.bytesToValue?.(n)??bf(n)}t.push(l),r+=c}return t}function yD(e){let t=0,r=[];for(let n of e){if(null==n.bytes){let e;let t=yk.getProtocol(n.code),r=bA(n.code),i=0,o=0;null!=n.value&&(i=(e=t.valueToBytes?.(n.value)??bp(n.value)).byteLength,t.size===yP&&(o=bA(i)));let a=new Uint8Array(r+o+i),s=0;bS(n.code,a,s),s+=r,null!=e&&(t.size===yP&&(bS(i,a,s),s+=o),a.set(e,s)),n.bytes=a}r.push(n.bytes),t+=n.bytes.byteLength}return bk(r,t)}function yN(e){if("/"!==e.charAt(0))throw new bT('String multiaddr must start with "/"');let t=[],r="protocol",n="",i="";for(let o=1;o<e.length;o++){let a=e.charAt(o);"/"!==a&&("protocol"===r?i+=e.charAt(o):n+=e.charAt(o));let s=o===e.length-1;if("/"===a||s){let e=yk.getProtocol(i);if("protocol"===r){if(null==e.size||0===e.size){t.push({code:e.code,name:e.name}),n="",i="",r="protocol";continue}if(s)throw new bT(`Component ${i} was missing value`);r="value"}else if("value"===r){let o={code:e.code,name:e.name};if(null!=e.size&&0!==e.size){if(""===n)throw new bT(`Component ${i} was missing value`);o.value=e.stringToValue?.(n)??n}t.push(o),n="",i="",r="protocol"}}}if(""!==i&&""!==n)throw new bT("Incomplete multiaddr");return t}function yj(e){return`/${e.flatMap(e=>{if(null==e.value)return e.name;let t=yk.getProtocol(e.code);if(null==t)throw new bT(`Unknown protocol code ${e.code}`);return[e.name,t.valueToString?.(e.value)??e.value]}).join("/")}`}function yB(e,t,r){return null==e.size||0===e.size?0:e.size>0?e.size/8:bI(t,r)}[{code:bB,name:"ip4",size:32,valueToBytes:yg,bytesToValue:yw,validate:e=>{if(!(0,lu.isIPv4)(e))throw new bD(`Invalid IPv4 address "${e}"`)}},{code:bz,name:"tcp",size:16,valueToBytes:yd,bytesToValue:yf,validate:yU},{code:bL,name:"udp",size:16,valueToBytes:yd,bytesToValue:yf,validate:yU},{code:b$,name:"dccp",size:16,valueToBytes:yd,bytesToValue:yf,validate:yU},{code:bO,name:"ip6",size:128,valueToBytes:ym,bytesToValue:yv,stringToValue:yE,validate:e=>{if(!(0,lu.isIPv6)(e))throw new bD(`Invalid IPv6 address "${e}"`)}},{code:bM,name:"ip6zone",size:yP},{code:bR,name:"ipcidr",size:8,bytesToValue:yu("base10"),valueToBytes:yh("base10")},{code:bV,name:"dns",size:yP,resolvable:!0},{code:b_,name:"dns4",size:yP,resolvable:!0},{code:bF,name:"dns6",size:yP,resolvable:!0},{code:bH,name:"dnsaddr",size:yP,resolvable:!0},{code:bq,name:"sctp",size:16,valueToBytes:yd,bytesToValue:yf,validate:yU},{code:bJ,name:"udt"},{code:bG,name:"utp"},{code:bW,name:"unix",size:yP,path:!0,stringToValue:e=>decodeURIComponent(e),valueToString:e=>encodeURIComponent(e)},{code:bK,name:"p2p",aliases:["ipfs"],size:yP,bytesToValue:yu("base58btc"),valueToBytes:e=>e.startsWith("Q")||e.startsWith("1")?yh("base58btc")(e):p4.parse(e).multihash.bytes},{code:bQ,name:"onion",size:96,bytesToValue:yy,valueToBytes:yp},{code:bZ,name:"onion3",size:296,bytesToValue:yy,valueToBytes:yb},{code:bX,name:"garlic64",size:yP},{code:bY,name:"garlic32",size:yP},{code:b0,name:"tls"},{code:b1,name:"sni",size:yP},{code:b2,name:"noise"},{code:b5,name:"quic"},{code:b8,name:"quic-v1"},{code:b6,name:"webtransport"},{code:b3,name:"certhash",size:yP,bytesToValue:yS(pu),valueToBytes:yA},{code:b4,name:"http"},{code:b7,name:"http-path",size:yP,stringToValue:e=>`/${decodeURIComponent(e)}`,valueToString:e=>encodeURIComponent(e.substring(1))},{code:b9,name:"https"},{code:ye,name:"ws"},{code:yt,name:"wss"},{code:yr,name:"p2p-websocket-star"},{code:yn,name:"p2p-stardust"},{code:yi,name:"p2p-webrtc-star"},{code:yo,name:"p2p-webrtc-direct"},{code:ya,name:"webrtc-direct"},{code:ys,name:"webrtc"},{code:yc,name:"p2p-circuit"},{code:yl,name:"memory",size:yP}].forEach(e=>{yk.addProtocol(e)});let yz=Symbol.for("nodejs.util.inspect.custom"),yL=Symbol.for("@multiformats/multiaddr"),y$=[bV,b_,bF,bH];class yO extends Error{constructor(e="No available resolver"){super(e),this.name="NoAvailableResolverError"}}function yM(e){if(null==e&&(e="/"),yH(e))return e.getComponents();if(e instanceof Uint8Array)return yT(e);if("string"==typeof e)return""===(e=e.replace(/\/(\/)+/,"/").replace(/(\/)+$/,""))&&(e="/"),yN(e);if(Array.isArray(e))return e;throw new bT("Must be a string, Uint8Array, Component[], or another Multiaddr")}class yR{[yL]=!0;#e;#t;#r;constructor(e="/",t={}){this.#e=yM(e),!1!==t.validate&&yV(this)}get bytes(){return null==this.#r&&(this.#r=yD(this.#e)),this.#r}toString(){return null==this.#t&&(this.#t=yj(this.#e)),this.#t}toJSON(){return this.toString()}toOptions(){let e,t,r,n;let i="";for(let{code:o,name:a,value:s}of this.#e)o===bM&&(i=`%${s??""}`),y$.includes(o)&&(t="tcp",n=443,r=`${s??""}${i}`,e=o===bF?6:4),(o===bz||o===bL)&&(t="tcp"===a?"tcp":"udp",n=parseInt(s??"")),(o===bB||o===bO)&&(t="tcp",r=`${s??""}${i}`,e=o===bO?6:4);if(null==e||null==t||null==r||null==n)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:r,transport:t,port:n}}getComponents(){return[...this.#e]}protos(){return this.#e.map(({code:e,value:t})=>{let r=yk.getProtocol(e);return{code:e,size:r.size??0,name:r.name,resolvable:!!r.resolvable,path:!!r.path}})}protoCodes(){return this.#e.map(({code:e})=>e)}protoNames(){return this.#e.map(({name:e})=>e)}tuples(){return this.#e.map(({code:e,value:t})=>{if(null==t)return[e];let r=yk.getProtocol(e),n=[e];return null!=t&&n.push(r.valueToBytes?.(t)??bp(t)),n})}stringTuples(){return this.#e.map(({code:e,value:t})=>null==t?[e]:[e,t])}encapsulate(e){let t=new yR(e);return new yR([...this.#e,...t.getComponents()],{validate:!1})}decapsulate(e){let t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw new bN(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new yR(r.slice(0,n),{validate:!1})}decapsulateCode(e){let t;for(let r=this.#e.length-1;r>-1;r--)if(this.#e[r].code===e){t=r;break}return new yR(this.#e.slice(0,t),{validate:!1})}getPeerId(){try{let e=[];this.#e.forEach(({code:t,value:r})=>{t===bK&&e.push([t,r]),t===yc&&(e=[])});let t=e.pop();if(t?.[1]!=null){let e=t[1];if("Q"===e[0]||"1"===e[0])return bf(pa.decode(`z${e}`),"base58btc");return bf(p4.parse(e).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){for(let e of this.#e)if(yk.getProtocol(e.code).path)return e.value??null;return null}equals(e){return bd(this.bytes,e.bytes)}async resolve(e){let t=this.protos().find(e=>e.resolvable);if(null==t)return[this];let r=yF.get(t.name);if(null==r)throw new yO(`no available resolver for ${t.name}`);return(await r(this,e)).map(e=>yq(e))}nodeAddress(){let e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(){return 2===this.#e.length&&(this.#e[0].code===bB||this.#e[0].code===bO)&&(this.#e[1].code===bz||this.#e[1].code===bL)}[yz](){return`Multiaddr(${this.toString()})`}}function yV(e){e.getComponents().forEach(e=>{let t=yk.getProtocol(e.code);null!=e.value&&t.validate?.(e.value)})}class y_{index=0;input="";new(e){return this.index=0,this.input=e,this}readAtomically(e){let t=this.index,r=e();return void 0===r&&(this.index=t),r}parseWith(e){let t=e();if(this.index===this.input.length)return t}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{let t=this.readChar();if(t===e)return t})}readSeparator(e,t,r){return this.readAtomically(()=>{if(!(t>0)||void 0!==this.readGivenChar(e))return r()})}readNumber(e,t,r,n){return this.readAtomically(()=>{let i=0,o=0,a=this.peekChar();if(void 0===a)return;let s="0"===a,c=2**(8*n)-1;for(;;){let r=this.readAtomically(()=>{let t=this.readChar();if(void 0===t)return;let r=Number.parseInt(t,e);if(!Number.isNaN(r))return r});if(void 0===r)break;if(i*=e,(i+=r)>c||(o+=1,void 0!==t&&o>t))return}return 0===o?void 0:!r&&s&&o>1?void 0:i})}readIPv4Addr(){return this.readAtomically(()=>{let e=new Uint8Array(4);for(let t=0;t<e.length;t++){let r=this.readSeparator(".",t,()=>this.readNumber(10,3,!1,1));if(void 0===r)return;e[t]=r}return e})}readIPv6Addr(){let e=e=>{for(let t=0;t<e.length/2;t++){let r=2*t;if(t<e.length-3){let n=this.readSeparator(":",t,()=>this.readIPv4Addr());if(void 0!==n)return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],[r+4,!0]}let n=this.readSeparator(":",t,()=>this.readNumber(16,4,!0,2));if(void 0===n)return[r,!1];e[r]=n>>8,e[r+1]=255&n}return[e.length,!1]};return this.readAtomically(()=>{let t=new Uint8Array(16),[r,n]=e(t);if(16===r)return t;if(n||void 0===this.readGivenChar(":")||void 0===this.readGivenChar(":"))return;let i=new Uint8Array(14),o=16-(r+2),[a]=e(i.subarray(0,o));return t.set(i.subarray(0,a),16-a),t})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}new y_,parseInt("0xFFFF",16),new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);let yF=new Map;function yH(e){return!!e?.[yL]}function yq(e){return new yR(e)}function yJ(e){let t=yk.getProtocol(e);return{code:t.code,size:t.size??0,name:t.name,resolvable:!!t.resolvable,path:!!t.path}}function yG(e){let t;try{t=yJ("sni").code}catch(e){return null}for(let[r,n]of e)if(r===t&&void 0!==n)return n;return null}function yW(e){return e.some(([e,t])=>e===yJ("tls").code)}function yK(e,t,r){let n=yQ[yJ(e).name];if(void 0===n)throw Error(`Can't interpret protocol ${yJ(e).name}`);let i=n(t,r);return e===yJ("ip6").code?`[${i}]`:i}let yQ={ip4:(e,t)=>e,ip6:(e,t)=>0===t.length?e:`[${e}]`,tcp:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`tcp://${yK(r[0],r[1]??"",t)}:${e}`},udp:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`udp://${yK(r[0],r[1]??"",t)}:${e}`},dnsaddr:(e,t)=>e,dns4:(e,t)=>e,dns6:(e,t)=>e,dns:(e,t)=>e,ipfs:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yK(r[0],r[1]??"",t)}/ipfs/${e}`},p2p:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yK(r[0],r[1]??"",t)}/p2p/${e}`},http:(e,t)=>{let r=yW(t),n=yG(t);if(r&&null!==n)return`https://${n}`;let i=r?"https://":"http://",o=t.pop();if(void 0===o)throw Error("Unexpected end of multiaddr");let a=yK(o[0],o[1]??"",t);return a=a.replace("tcp://",""),`${i}${a}`},tls:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return yK(r[0],r[1]??"",t)},sni:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return yK(r[0],r[1]??"",t)},https:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");let n=yK(r[0],r[1]??"",t);return n=n.replace("tcp://",""),`https://${n}`},ws:(e,t)=>{let r=yW(t),n=yG(t);if(r&&null!==n)return`wss://${n}`;let i=r?"wss://":"ws://",o=t.pop();if(void 0===o)throw Error("Unexpected end of multiaddr");let a=yK(o[0],o[1]??"",t);return a=a.replace("tcp://",""),`${i}${a}`},wss:(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");let n=yK(r[0],r[1]??"",t);return n=n.replace("tcp://",""),`wss://${n}`},"p2p-websocket-star":(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yK(r[0],r[1]??"",t)}/p2p-websocket-star`},"p2p-webrtc-star":(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yK(r[0],r[1]??"",t)}/p2p-webrtc-star`},"p2p-webrtc-direct":(e,t)=>{let r=t.pop();if(void 0===r)throw Error("Unexpected end of multiaddr");return`${yK(r[0],r[1]??"",t)}/p2p-webrtc-direct`}};function yZ(e,t){let r=yq(e).stringTuples(),n=r.pop();if(void 0===n)throw Error("Unexpected end of multiaddr");let i=yJ(n[0]),o=yQ[i.name];if(null==o)throw Error(`No interpreter found for ${i.name}`);let a=o(n[1]??"",r);return t?.assumeHttp!==!1&&n[0]===yJ("tcp").code&&(a=a.replace("tcp://","http://"),("443"===n[1]||"80"===n[1])&&("443"===n[1]&&(a=a.replace("http://","https://")),a=a.substring(0,a.lastIndexOf(":")))),a}function yX(e){try{e=yZ(dl(e))}catch(e){}return e=e.toString()}var yY=r(2615),y0=r(8791);let y1=e=>{if(!e)throw Error("URL required");return e.protocol.startsWith("https")?y0.Agent:yY.Agent},y2=dD("ipfs-http-client:lib:error-handler"),y5=dj.bind({ignoreUndefined:!0}),y8=du.isBrowser||du.isWebWorker?location.protocol:"http",y6=du.isBrowser||du.isWebWorker?location.hostname:"localhost",y3=du.isBrowser||du.isWebWorker?location.port:"5001",y4=(e={})=>{let t,r;let n={};if("string"==typeof e||ds(e))t=new URL(yX(e));else if(e instanceof URL)t=e;else if("string"==typeof e.url||ds(e.url))t=new URL(yX(e.url)),n=e;else if(e.url instanceof URL)t=e.url,n=e;else{let r=((n=e||{}).protocol||y8).replace(":",""),i=(n.host||y6).split(":")[0],o=n.port||y3;t=new URL(`${r}://${i}:${o}`)}if(n.apiPath?t.pathname=n.apiPath:("/"===t.pathname||void 0===t.pathname)&&(t.pathname="api/v0"),du.isNode){let e=y1(t);r=n.agent||new e({keepAlive:!0,maxSockets:6})}return{...n,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:r}},y7=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){let r=await e.json();y2(r),t=r.Message||r.message}else t=await e.text()}catch(e){y2("Failed to parse error response",e),t=e.message}let r=new dN.HTTPError(e);throw t&&(t.includes("deadline has elapsed")&&(r=new dN.TimeoutError),t&&t.includes("context deadline exceeded")&&(r=new dN.TimeoutError)),t&&t.includes("request timed out")&&(r=new dN.TimeoutError),t&&(r.message=t),r},y9=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,ge=e=>e.replace(y9,function(e){return"-"+e.toLowerCase()}),gt=e=>"string"==typeof e?dd(e):e;class gr extends dN{constructor(e={}){let t=y4(e);super({timeout:gt(t.timeout||0)||void 0,headers:t.headers,base:`${t.url}`,handleError:y7,transformSearchParams:e=>{let t=new URLSearchParams;for(let[r,n]of e)"undefined"!==n&&"null"!==n&&"signal"!==r&&t.append(ge(r),n),"timeout"!==r||isNaN(n)||t.append(ge(r),n);return t},agent:t.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;let r=this.fetch;this.fetch=(e,n={})=>("string"!=typeof e||e.startsWith("/")||(e=`${t.url}/${e}`),r.call(this,e,y5(n,{method:"POST"})))}}dN.HTTPError;let gn=e=>t=>e(new gr(t),t);function gi(e){return null==e?void 0:"string"==typeof e?e:e.toString(8).padStart(4,"0")}function go(e){let t;if(null!=e){if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw f7(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}function ga({arg:e,searchParams:t,hashAlg:r,mtime:n,mode:i,...o}={}){t&&(o={...o,...t}),r&&(o.hash=r),null!=n&&(n=go(n),o.mtime=n.secs,o.mtimeNsecs=n.nsecs),null!=i&&(o.mode=gi(i)),o.timeout&&!isNaN(o.timeout)&&(o.timeout=`${o.timeout}ms`),null==e?e=[]:Array.isArray(e)||(e=[e]);let a=new URLSearchParams(o);return e.forEach(e=>a.append("arg",e)),a}let gs=gn(e=>async function(t={}){return((await (await e.post("bitswap/wantlist",{signal:t.signal,searchParams:ga(t),headers:t.headers})).json()).Keys||[]).map(e=>c9.parse(e["/"]))}),gc=gn(e=>async function(t,r={}){return((await (await e.post("bitswap/wantlist",{signal:r.signal,searchParams:ga({...r,peer:t.toString()}),headers:r.headers})).json()).Keys||[]).map(e=>c9.parse(e["/"]))}),gl=Symbol.for("@libp2p/peer-id"),gu=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};new Uint8Array(0);let gh=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},gf=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},gd=e=>new TextEncoder().encode(e),gp=e=>new TextDecoder().decode(e);class gb{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gy{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return gm(this,e)}}class gg{constructor(e){this.decoders=e}or(e){return gm(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let gm=(e,t)=>new gg({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class gw{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new gb(e,t,r),this.decoder=new gy(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let gv=({name:e,prefix:t,encode:r,decode:n})=>new gw(e,t,r,n),gE=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=gu(r,t);return gv({prefix:e,name:t,encode:n,decode:e=>gf(i(e))})},gx=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},gC=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},gA=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>gv({prefix:t,name:e,encode:e=>gC(e,n,r),decode:t=>gx(t,n,r,e)}),gS=gE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gU=gE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),gP=gv({prefix:"\0",name:"identity",encode:e=>gp(e),decode:e=>gd(e)}),gI=gA({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),gk=gA({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gT=gE({prefix:"9",name:"base10",alphabet:"0123456789"}),gD=gA({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gN=gA({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),gj=gA({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gB=gA({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gz=gA({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gL=gA({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),g$=gA({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gO=gA({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gM=gA({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),gR=gA({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gV=gA({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),g_=gE({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gF=gE({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),gH=gA({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gq=gA({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gJ=gA({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gG=gA({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),gW=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),gK=gW.reduce((e,t,r)=>(e[r]=t,e),[]),gQ=gW.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),gZ=gv({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=gK[t],"")},decode:function(e){let t=[];for(let r of e){let e=gQ[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var gX=128,gY=-128,g0=2147483648;function g1(e,t,r){t=t||[];for(var n=r=r||0;e>=g0;)t[r++]=255&e|gX,e/=128;for(;e&gY;)t[r++]=255&e|gX,e>>>=7;return t[r]=0|e,g1.bytes=r-n+1,t}var g2=128,g5=127;function g8(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw g8.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&g5)<<i:(r&g5)*Math.pow(2,i),i+=7}while(r>=g2);return g8.bytes=o-t,n}var g6=128,g3=16384,g4=2097152,g7=268435456,g9=34359738368,me=4398046511104,mt=562949953421312,mr=72057594037927940,mn=0x7fffffffffffffff;let mi={encode:g1,decode:g8,encodingLength:function(e){return e<g6?1:e<g3?2:e<g4?3:e<g7?4:e<g9?5:e<me?6:e<mt?7:e<mr?8:e<mn?9:10}},mo=(e,t=0)=>[mi.decode(e,t),mi.decode.bytes],ma=(e,t,r=0)=>(mi.encode(e,t,r),t),ms=e=>mi.encodingLength(e),mc=(e,t)=>{let r=t.byteLength,n=ms(e),i=n+ms(r),o=new Uint8Array(i+r);return ma(e,o,0),ma(r,o,n),o.set(t,i),new mh(e,r,t,o)},ml=e=>{let t=gf(e),[r,n]=mo(t),[i,o]=mo(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new mh(r,i,a,t)},mu=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&gh(e.bytes,r.bytes)}};class mh{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let mf=({name:e,code:t,encode:r})=>new md(e,t,r);class md{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?mc(this.code,t):t.then(e=>mc(this.code,e))}throw Error("Unknown type, must be binary type")}}let mp=mf({name:"sha2-256",code:18,encode:e=>gf(cq.createHash("sha256").update(e).digest())}),mb=mf({name:"sha2-512",code:19,encode:e=>gf(cq.createHash("sha512").update(e).digest())}),my=0,mg=gf,mm=e=>mc(my,mg(e)),mw={code:my,name:"identity",encode:mg,digest:mm},mv="raw",mE=85,mx=e=>gf(e),mC=e=>gf(e),mA=new TextEncoder,mS=new TextDecoder,mU="json",mP=512,mI=e=>mA.encode(JSON.stringify(e)),mk=e=>JSON.parse(mS.decode(e)),mT=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?mz(r,mN(e),t||gS.encoder):mL(r,mN(e),t||gj.encoder)},mD=new WeakMap,mN=e=>{let t=mD.get(e);if(null==t){let t=new Map;return mD.set(e,t),t}return t};class mj{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==m$)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==mO)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return mj.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=mc(e,t);return mj.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return mj.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&mu(e.multihash,r.multihash)}toString(e){return mT(this,e)}toJSON(){return{"/":mT(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof mj)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new mj(e,r,n,i||mM(e,r,n.bytes))}if(!0!==t[mR])return null;{let{version:e,multihash:r,code:n}=t,i=ml(r);return mj.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===m$)return new mj(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${m$}) block encoding`);case 1:{let n=mM(e,t,r.bytes);return new mj(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return mj.create(0,m$,e)}static createV1(e,t){return mj.create(1,e,t)}static decode(e){let[t,r]=mj.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=mj.inspectBytes(e),r=t.size-t.multihashSize,n=gf(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new mh(t.multihashCode,t.digestSize,i,n);return[0===t.version?mj.createV0(o):mj.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=mo(e.subarray(t));return t+=n,r},n=r(),i=m$;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=mB(e,t),i=mj.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return mN(i).set(r,e),i}}let mB=(e,t)=>{switch(e[0]){case"Q":{let r=t||gS;return[gS.prefix,r.decode(`${gS.prefix}${e}`)]}case gS.prefix:{let r=t||gS;return[gS.prefix,r.decode(e)]}case gj.prefix:{let r=t||gj;return[gj.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},mz=(e,t,r)=>{let{prefix:n}=r;if(n!==gS.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},mL=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},m$=112,mO=18,mM=(e,t,r)=>{let n=ms(e),i=n+ms(t),o=new Uint8Array(i+r.byteLength);return ma(e,o,0),ma(t,o,n),o.set(r,i),o},mR=Symbol.for("@ipld/js-cid/CID"),mV={...ey,...eg,...em,...ew,...ev,...eE,...ex,...eb,...eC,...eA};function m_(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}({...eS,...eU});let mF=Symbol.for("nodejs.util.inspect.custom"),mH=Object.values(mV).map(e=>e.decoder).reduce((e,t)=>e.or(t),mV.identity.decoder),mq=114,mJ=36,mG=37;class mW{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[gl]=!0;toString(){return null==this.string&&(this.string=gS.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return mj.createV1(mq,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return m_(this.multihash.bytes,e);if("string"==typeof e)return mX(e).equals(this);if(e?.multihash?.bytes!=null)return m_(this.multihash.bytes,e.multihash.bytes);throw Error("not valid Id")}[mF](){return`PeerId(${this.toString()})`}}class mK extends mW{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}}class mQ extends mW{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}}class mZ extends mW{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}}function mX(e,t){if(t=t??mH,"1"===e.charAt(0)||"Q"===e.charAt(0)){let t=ml(gS.decode(`z${e}`));return e.startsWith("12D")?new mQ({multihash:t}):e.startsWith("16U")?new mZ({multihash:t}):new mK({multihash:t})}return mY(mH.decode(e))}function mY(e){try{let t=ml(e);if(t.code===mw.code){if(t.digest.length===mJ)return new mQ({multihash:t});if(t.digest.length===mG)return new mZ({multihash:t})}if(t.code===mp.code)return new mK({multihash:t})}catch{return m0(mj.decode(e))}throw Error("Supplied PeerID CID is invalid")}function m0(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==mq)throw Error("Supplied PeerID CID is invalid");let t=e.multihash;if(t.code===mp.code)return new mK({multihash:e.multihash});if(t.code===mw.code){if(t.digest.length===mJ)return new mQ({multihash:e.multihash});if(t.digest.length===mG)return new mZ({multihash:e.multihash})}throw Error("Supplied PeerID CID is invalid")}let m1=gn(e=>async function(t={}){let r=await e.post("bitswap/stat",{searchParams:ga(t),signal:t.signal,headers:t.headers});return m2(await r.json())});function m2(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map(e=>c9.parse(e["/"])),peers:(e.Peers||[]).map(e=>mX(e)),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}let m5=gn(e=>async function(t,r={}){return(await e.post("bitswap/unwant",{signal:r.signal,searchParams:ga({arg:t.toString(),...r}),headers:r.headers})).json()});function m8(e){return{wantlist:gs(e),wantlistForPeer:gc(e),unwant:m5(e),stat:m1(e)}}let m6=gn(e=>async function(t,r={}){let n=await e.post("block/get",{signal:r.signal,searchParams:ga({arg:t.toString(),...r}),headers:r.headers});return new Uint8Array(await n.arrayBuffer())});function m3(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}let m4=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};new Uint8Array(0);let m7=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},m9=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},we=e=>new TextEncoder().encode(e),wt=e=>new TextDecoder().decode(e);class wr{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class wn{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return wo(this,e)}}class wi{constructor(e){this.decoders=e}or(e){return wo(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let wo=(e,t)=>new wi({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class wa{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new wr(e,t,r),this.decoder=new wn(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ws=({name:e,prefix:t,encode:r,decode:n})=>new wa(e,t,r,n),wc=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=m4(r,t);return ws({prefix:e,name:t,encode:n,decode:e=>m9(i(e))})},wl=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},wu=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},wh=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ws({prefix:t,name:e,encode:e=>wu(e,n,r),decode:t=>wl(t,n,r,e)}),wf=wc({prefix:"9",name:"base10",alphabet:"0123456789"}),wd=wh({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wp=wh({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),wb=wh({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wy=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),wg=wy.reduce((e,t,r)=>(e[r]=t,e),[]),wm=wy.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),ww=ws({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=wg[t],"")},decode:function(e){let t=[];for(let r of e){let e=wm[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),wv=wh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wE=wh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wx=wh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wC=wh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wA=wh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wS=wh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wU=wh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wP=wh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wI=wh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),wk=wc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wT=wc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),wD=wc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wN=wc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),wj=wh({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wB=wh({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wz=wh({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wL=wh({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),w$=wh({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),wO=ws({prefix:"\0",name:"identity",encode:e=>wt(e),decode:e=>we(e)}),wM=new TextEncoder,wR=new TextDecoder,wV="json",w_=512,wF=e=>wM.encode(JSON.stringify(e)),wH=e=>JSON.parse(wR.decode(e)),wq="raw",wJ=85,wG=e=>m9(e),wW=e=>m9(e);var wK=128,wQ=-128,wZ=2147483648;function wX(e,t,r){t=t||[];for(var n=r=r||0;e>=wZ;)t[r++]=255&e|wK,e/=128;for(;e&wQ;)t[r++]=255&e|wK,e>>>=7;return t[r]=0|e,wX.bytes=r-n+1,t}var wY=128,w0=127;function w1(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw w1.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&w0)<<i:(r&w0)*Math.pow(2,i),i+=7}while(r>=wY);return w1.bytes=o-t,n}var w2=128,w5=16384,w8=2097152,w6=268435456,w3=34359738368,w4=4398046511104,w7=562949953421312,w9=72057594037927940,ve=0x7fffffffffffffff;let vt={encode:wX,decode:w1,encodingLength:function(e){return e<w2?1:e<w5?2:e<w8?3:e<w6?4:e<w3?5:e<w4?6:e<w7?7:e<w9?8:e<ve?9:10}},vr=(e,t=0)=>[vt.decode(e,t),vt.decode.bytes],vn=(e,t,r=0)=>(vt.encode(e,t,r),t),vi=e=>vt.encodingLength(e),vo=(e,t)=>{let r=t.byteLength,n=vi(e),i=n+vi(r),o=new Uint8Array(i+r);return vn(e,o,0),vn(r,o,n),o.set(t,i),new vc(e,r,t,o)},va=e=>{let t=m9(e),[r,n]=vr(t),[i,o]=vr(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new vc(r,i,a,t)},vs=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&m7(e.bytes,r.bytes)}};class vc{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let vl=0,vu=m9,vh=e=>vo(vl,vu(e)),vf={code:vl,name:"identity",encode:vu,digest:vh},vd=({name:e,code:t,encode:r})=>new vp(e,t,r);class vp{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?vo(this.code,t):t.then(e=>vo(this.code,e))}throw Error("Unknown type, must be binary type")}}let vb=vd({name:"sha2-256",code:18,encode:e=>m9(cq.createHash("sha256").update(e).digest())}),vy=vd({name:"sha2-512",code:19,encode:e=>m9(cq.createHash("sha512").update(e).digest())}),vg=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?vx(r,vw(e),t||wD.encoder):vC(r,vw(e),t||wv.encoder)},vm=new WeakMap,vw=e=>{let t=vm.get(e);if(null==t){let t=new Map;return vm.set(e,t),t}return t};class vv{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==vA)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==vS)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return vv.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=vo(e,t);return vv.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return vv.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&vs(e.multihash,r.multihash)}toString(e){return vg(this,e)}toJSON(){return{"/":vg(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof vv)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new vv(e,r,n,i||vU(e,r,n.bytes))}if(!0!==t[vP])return null;{let{version:e,multihash:r,code:n}=t,i=va(r);return vv.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===vA)return new vv(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${vA}) block encoding`);case 1:{let n=vU(e,t,r.bytes);return new vv(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return vv.create(0,vA,e)}static createV1(e,t){return vv.create(1,e,t)}static decode(e){let[t,r]=vv.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=vv.inspectBytes(e),r=t.size-t.multihashSize,n=m9(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new vc(t.multihashCode,t.digestSize,i,n);return[0===t.version?vv.createV0(o):vv.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=vr(e.subarray(t));return t+=n,r},n=r(),i=vA;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=vE(e,t),i=vv.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return vw(i).set(r,e),i}}let vE=(e,t)=>{switch(e[0]){case"Q":{let r=t||wD;return[wD.prefix,r.decode(`${wD.prefix}${e}`)]}case wD.prefix:{let r=t||wD;return[wD.prefix,r.decode(e)]}case wv.prefix:{let r=t||wv;return[wv.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},vx=(e,t,r)=>{let{prefix:n}=r;if(n!==wD.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},vC=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},vA=112,vS=18,vU=(e,t,r)=>{let n=vi(e),i=n+vi(t),o=new Uint8Array(i+r.byteLength);return vn(e,o,0),vn(t,o,n),o.set(r,i),o},vP=Symbol.for("@ipld/js-cid/CID"),vI={...eO,...eD,...e$,...ek,...eT,...ej,...eB,...ez,...eL,...eN};function vk(e=0){return globalThis.Buffer?.allocUnsafe!=null?m3(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function vT(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...e_,...eV});let vD=vT("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),vN=vT("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=vk((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),vj={utf8:vD,"utf-8":vD,hex:vI.base16,latin1:vN,ascii:vN,binary:vN,...vI};function vB(e,t="utf8"){let r=vj[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?m3(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}async function*vz(e,t={}){let r=e.getReader();try{for(;;){let e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&await r.cancel(),r.releaseLock()}}function vL(e){return"function"==typeof e.stream?vz(e.stream()):vz(new Response(e).body)}function v$(e){let[t,r]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:e=>{n.push(e)},next:()=>n.length>0?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}async function vO(e){let t=[];for await(let r of e)t.push(r);return t}async function*vM(e,t){for await(let r of e)yield t(r)}function vR(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function vV(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function v_(e){return"object"==typeof e&&(e.path||e.content)}let vF=e=>e&&"function"==typeof e.getReader;async function*vH(e){yield e}async function vq(e){if(vR(e))return vH(vJ(e));if("string"==typeof e||e instanceof String)return vH(vJ(e.toString()));if(vV(e))return vL(e);if(vF(e)&&(e=vz(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=v$(e),{value:r,done:n}=await t.peek();if(n)return vH(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return vH(Uint8Array.from(await vO(t)));if(vR(r)||"string"==typeof r||r instanceof String)return vM(t,vJ)}throw f7(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function vJ(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):vB(e.toString())}var vG=r(5331);let vW=vG.Reader,vK=vG.Writer,vQ=vG.util,vZ=vG.roots["ipfs-unixfs"]||(vG.roots["ipfs-unixfs"]={});function vX(e){return null==e?void 0:"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function vY(e){let t;if(null!=e){if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw f7(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}async function*v0(e,t){if("string"==typeof e||e instanceof String||vR(e)||vV(e)||e._readableState)throw f7(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(vF(e)&&(e=vz(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=v$(e),{value:n,done:i}=await r.peek();if(i){yield*[];return}if(r.push(n),Number.isInteger(n))throw f7(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*vM(r,e=>v1({content:e},t));return}if(vR(n)){yield v1({content:r},t);return}if(v_(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||vF(n)||vV(n)){yield*vM(r,e=>v1(e,t));return}}if(v_(e))throw f7(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw f7(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function v1(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:vX(n),mtime:vY(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function v2(e){return v0(e,vq)}vZ.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=vQ.newBuffer([]),e.prototype.filesize=vQ.Long?vQ.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=vQ.emptyArray,e.prototype.hashType=vQ.Long?vQ.Long.fromBits(0,0,!0):0,e.prototype.fanout=vQ.Long?vQ.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=vK.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&vZ.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof vW||(e=vW.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new vZ.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),(7&i)==2)for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=vZ.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw vQ.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof vZ.Data)return e;var t=new vZ.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?vQ.base64.decode(e.Data,t.Data=vQ.newBuffer(vQ.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(vQ.Long?(t.filesize=vQ.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new vQ.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)vQ.Long?(t.blocksizes[r]=vQ.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new vQ.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(vQ.Long?(t.hashType=vQ.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new vQ.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(vQ.Long?(t.fanout=vQ.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new vQ.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=vZ.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=vQ.newBuffer(r.Data))),vQ.Long){var n=new vQ.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(vQ.Long){var n=new vQ.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(vQ.Long){var n=new vQ.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?vZ.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?vQ.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?vQ.Long.prototype.toString.call(e.filesize):t.longs===Number?new vQ.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?vQ.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new vQ.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?vQ.Long.prototype.toString.call(e.hashType):t.longs===Number?new vQ.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?vQ.Long.prototype.toString.call(e.fanout):t.longs===Number?new vQ.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=vZ.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,vG.util.toJSONOptions)},e.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),vZ.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=vQ.Long?vQ.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=vK.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof vW||(e=vW.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new vZ.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw vQ.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof vZ.UnixTime)return e;var t=new vZ.UnixTime;return null!=e.Seconds&&(vQ.Long?(t.Seconds=vQ.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new vQ.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(vQ.Long){var n=new vQ.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?vQ.Long.prototype.toString.call(e.Seconds):t.longs===Number?new vQ.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,vG.util.toJSONOptions)},e})(),vZ.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=vK.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof vW||(e=vW.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new vZ.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof vZ.Metadata)return e;var t=new vZ.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,vG.util.toJSONOptions)},e})(),parseInt("0644",8),parseInt("0755",8);let v5="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",v8=128,v6=e=>{!n||n.length<e?(n=Buffer.allocUnsafe(e*v8),(0,cq.randomFillSync)(n),i=0):i+e>n.length&&((0,cq.randomFillSync)(n),i=0),i+=e},v3=(e=21)=>{v6(e-=0);let t="";for(let r=i-e;r<i;r++)t+=v5[63&n[r]];return t};function v4(e){return null==e?void 0:"string"==typeof e?e:e.toString(8).padStart(4,"0")}var v7=r(4216);let v9=dj.bind({ignoreUndefined:!0}),Ee=dD("ipfs:core-utils:multipart-request");async function Et(e,t,r={},n=`-----------------------------${v3()}`){async function*i(e){try{let t=0;for await(let{content:r,path:i,mode:o,mtime:a}of e){let e="",s=r?"file":"dir";t>0&&(yield"\r\n",e=`-${t}`);let c=s+e,l=[];if(null!=o&&l.push(`mode=${v4(o)}`),null!=a){let{secs:e,nsecs:t}=a;l.push(`mtime=${e}`),null!=t&&l.push(`mtime-nsecs=${t}`)}l.length&&(c=`${c}?${l.join("&")}`),yield`--${n}\r
`,yield`Content-Disposition: form-data; name="${c}"; filename="${encodeURIComponent(i||"")}"\r
`,yield`Content-Type: ${r?"application/octet-stream":"application/x-directory"}\r
`,yield"\r\n",r&&(yield*r),t++}}catch(e){Ee(e),t.abort()}finally{yield`\r
--${n}--\r
`}}let o=v$(v2(e)),{value:a,done:s}=await o.peek();return s||o.push(a),{parts:null,total:-1,headers:v9(r,{"Content-Type":`multipart/form-data; boundary=${n}`}),body:v7(i(o))}}async function Er(e){if(vR(e))return new Blob([e]);if("string"==typeof e||e instanceof String)return new Blob([e.toString()]);if(vV(e))return e;if(vF(e)&&(e=vz(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=v$(e),{value:r,done:n}=await t.peek();if(n)return En(t);if(t.push(r),Number.isInteger(r))return new Blob([Uint8Array.from(await vO(t))]);if(vR(r)||"string"==typeof r||r instanceof String)return En(t)}throw f7(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}async function En(e){let t=[];for await(let r of e)t.push(r);return new Blob(t)}function Ei(e){return v0(e,Er,!0)}async function Eo(e,t,r={}){let n=[],i=new FormData,o=0,a=0;for await(let{content:t,path:r,mode:s,mtime:c}of Ei(e)){let e="",l=t?"file":"dir";o>0&&(e=`-${o}`);let u=l+e,h=[];if(null!=s&&h.push(`mode=${v4(s)}`),null!=c){let{secs:e,nsecs:t}=c;h.push(`mtime=${e}`),null!=t&&h.push(`mtime-nsecs=${t}`)}if(h.length&&(u=`${u}?${h.join("&")}`),t){i.set(u,t,null!=r?encodeURIComponent(r):void 0);let e=a+t.size;n.push({name:r,start:a,end:e}),a=e}else if(null!=r)i.set(u,new File([""],encodeURIComponent(r),{type:"application/x-directory"}));else throw Error("path or content or both must be set");o++}return{total:a,parts:n,headers:r,body:i}}async function Ea(e,t,r={},n=`-----------------------------${v3()}`){let i=Et;return du.isElectronRenderer&&(i=Eo),i(e,t,r,n)}var Es=r(5569);function Ec(e){return e.filter(Boolean)}function El(...e){return(0,Es.anySignal)(Ec(e))}let Eu=gn(e=>{async function t(r,n={}){let i;let o=new AbortController,a=El(o.signal,n.signal);try{let t=await e.post("block/put",{signal:a,searchParams:ga(n),...await Ea([r],o,n.headers)});i=await t.json()}catch(e){if("dag-pb"===n.format)return t(r,{...n,format:"protobuf"});if("dag-cbor"===n.format)return t(r,{...n,format:"cbor"});throw e}return c9.parse(i.Key)}return t}),Eh=gn(e=>async function*(t,r={}){for await(let n of(Array.isArray(t)||(t=[t]),(await e.post("block/rm",{signal:r.signal,searchParams:ga({arg:t.map(e=>e.toString()),"stream-channels":!0,...r}),headers:r.headers})).ndjson()))yield Ef(n)});function Ef(e){let t={cid:c9.parse(e.Hash)};return e.Error&&(t.error=Error(e.Error)),t}let Ed=gn(e=>async function(t,r={}){let n=await e.post("block/stat",{signal:r.signal,searchParams:ga({arg:t.toString(),...r}),headers:r.headers}),i=await n.json();return{cid:c9.parse(i.Key),size:i.Size}});function Ep(e){return{get:m6(e),put:Eu(e),rm:Eh(e),stat:Ed(e)}}let Eb=gn(e=>async function(t,r={}){let n=await e.post("bootstrap/add",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),{Peers:i}=await n.json();return{Peers:i.map(e=>dl(e))}}),Ey=gn(e=>async function(t={}){let r=await e.post("bootstrap/rm",{signal:t.signal,searchParams:ga({...t,all:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>dl(e))}}),Eg=gn(e=>async function(t={}){let r=await e.post("bootstrap/list",{signal:t.signal,searchParams:ga(t),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>dl(e))}}),Em=gn(e=>async function(t={}){let r=await e.post("bootstrap/add",{signal:t.signal,searchParams:ga({...t,default:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map(e=>dl(e))}}),Ew=gn(e=>async function(t,r={}){let n=await e.post("bootstrap/rm",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),{Peers:i}=await n.json();return{Peers:i.map(e=>dl(e))}});function Ev(e){return{add:Eb(e),clear:Ey(e),list:Eg(e),reset:Em(e),rm:Ew(e)}}let EE=gn(e=>async function(t,r={}){let n=await e.post("config/profile/apply",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),i=await n.json();return{original:i.OldCfg,updated:i.NewCfg}});function Ex(e){if(null==e)return e;let t=/^[A-Z]+$/,r={};return Object.keys(e).reduce((r,n)=>(t.test(n)?r[n.toLowerCase()]=e[n]:t.test(n[0])?r[n[0].toLowerCase()+n.slice(1)]=e[n]:r[n]=e[n],r),r)}let EC=gn(e=>async function(t={}){let r=await e.post("config/profile/list",{signal:t.signal,searchParams:ga(t),headers:t.headers});return(await r.json()).map(e=>Ex(e))});function EA(e){return{apply:EE(e),list:EC(e)}}let ES=gn(e=>async(t,r={})=>{if(!t)throw Error("key argument is required");let n=await e.post("config",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers});return(await n.json()).Value}),EU=gn(e=>async(t={})=>{let r=await e.post("config/show",{signal:t.signal,searchParams:ga({...t}),headers:t.headers});return await r.json()});function EP(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}let EI=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};new Uint8Array(0);let Ek=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ET=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},ED=e=>new TextEncoder().encode(e),EN=e=>new TextDecoder().decode(e);class Ej{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class EB{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return EL(this,e)}}class Ez{constructor(e){this.decoders=e}or(e){return EL(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let EL=(e,t)=>new Ez({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class E${constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ej(e,t,r),this.decoder=new EB(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let EO=({name:e,prefix:t,encode:r,decode:n})=>new E$(e,t,r,n),EM=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=EI(r,t);return EO({prefix:e,name:t,encode:n,decode:e=>ET(i(e))})},ER=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},EV=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},E_=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>EO({prefix:t,name:e,encode:e=>EV(e,n,r),decode:t=>ER(t,n,r,e)}),EF=EM({prefix:"9",name:"base10",alphabet:"0123456789"}),EH=E_({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Eq=E_({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),EJ=E_({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),EG=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),EW=EG.reduce((e,t,r)=>(e[r]=t,e),[]),EK=EG.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),EQ=EO({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=EW[t],"")},decode:function(e){let t=[];for(let r of e){let e=EK[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),EZ=E_({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),EX=E_({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),EY=E_({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),E0=E_({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),E1=E_({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),E2=E_({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),E5=E_({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),E8=E_({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),E6=E_({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),E3=EM({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),E4=EM({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),E7=EM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),E9=EM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),xe=E_({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),xt=E_({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xr=E_({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xn=E_({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),xi=E_({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),xo=EO({prefix:"\0",name:"identity",encode:e=>EN(e),decode:e=>ED(e)}),xa=new TextEncoder,xs=new TextDecoder,xc="json",xl=512,xu=e=>xa.encode(JSON.stringify(e)),xh=e=>JSON.parse(xs.decode(e)),xf="raw",xd=85,xp=e=>ET(e),xb=e=>ET(e);var xy=128,xg=-128,xm=2147483648;function xw(e,t,r){t=t||[];for(var n=r=r||0;e>=xm;)t[r++]=255&e|xy,e/=128;for(;e&xg;)t[r++]=255&e|xy,e>>>=7;return t[r]=0|e,xw.bytes=r-n+1,t}var xv=128,xE=127;function xx(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw xx.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&xE)<<i:(r&xE)*Math.pow(2,i),i+=7}while(r>=xv);return xx.bytes=o-t,n}var xC=128,xA=16384,xS=2097152,xU=268435456,xP=34359738368,xI=4398046511104,xk=562949953421312,xT=72057594037927940,xD=0x7fffffffffffffff;let xN={encode:xw,decode:xx,encodingLength:function(e){return e<xC?1:e<xA?2:e<xS?3:e<xU?4:e<xP?5:e<xI?6:e<xk?7:e<xT?8:e<xD?9:10}},xj=(e,t=0)=>[xN.decode(e,t),xN.decode.bytes],xB=(e,t,r=0)=>(xN.encode(e,t,r),t),xz=e=>xN.encodingLength(e),xL=(e,t)=>{let r=t.byteLength,n=xz(e),i=n+xz(r),o=new Uint8Array(i+r);return xB(e,o,0),xB(r,o,n),o.set(t,i),new xM(e,r,t,o)},x$=e=>{let t=ET(e),[r,n]=xj(t),[i,o]=xj(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new xM(r,i,a,t)},xO=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&Ek(e.bytes,r.bytes)}};class xM{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let xR=0,xV=ET,x_=e=>xL(xR,xV(e)),xF={code:xR,name:"identity",encode:xV,digest:x_},xH=({name:e,code:t,encode:r})=>new xq(e,t,r);class xq{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?xL(this.code,t):t.then(e=>xL(this.code,e))}throw Error("Unknown type, must be binary type")}}let xJ=xH({name:"sha2-256",code:18,encode:e=>ET(cq.createHash("sha256").update(e).digest())}),xG=xH({name:"sha2-512",code:19,encode:e=>ET(cq.createHash("sha512").update(e).digest())}),xW=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?xY(r,xQ(e),t||E7.encoder):x0(r,xQ(e),t||EZ.encoder)},xK=new WeakMap,xQ=e=>{let t=xK.get(e);if(null==t){let t=new Map;return xK.set(e,t),t}return t};class xZ{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==x1)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==x2)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return xZ.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=xL(e,t);return xZ.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return xZ.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&xO(e.multihash,r.multihash)}toString(e){return xW(this,e)}toJSON(){return{"/":xW(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof xZ)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new xZ(e,r,n,i||x5(e,r,n.bytes))}if(!0!==t[x8])return null;{let{version:e,multihash:r,code:n}=t,i=x$(r);return xZ.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===x1)return new xZ(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${x1}) block encoding`);case 1:{let n=x5(e,t,r.bytes);return new xZ(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return xZ.create(0,x1,e)}static createV1(e,t){return xZ.create(1,e,t)}static decode(e){let[t,r]=xZ.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=xZ.inspectBytes(e),r=t.size-t.multihashSize,n=ET(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new xM(t.multihashCode,t.digestSize,i,n);return[0===t.version?xZ.createV0(o):xZ.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=xj(e.subarray(t));return t+=n,r},n=r(),i=x1;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=xX(e,t),i=xZ.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return xQ(i).set(r,e),i}}let xX=(e,t)=>{switch(e[0]){case"Q":{let r=t||E7;return[E7.prefix,r.decode(`${E7.prefix}${e}`)]}case E7.prefix:{let r=t||E7;return[E7.prefix,r.decode(e)]}case EZ.prefix:{let r=t||EZ;return[EZ.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},xY=(e,t,r)=>{let{prefix:n}=r;if(n!==E7.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},x0=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},x1=112,x2=18,x5=(e,t,r)=>{let n=xz(e),i=n+xz(t),o=new Uint8Array(i+r.byteLength);return xB(e,o,0),xB(t,o,n),o.set(r,i),o},x8=Symbol.for("@ipld/js-cid/CID"),x6={...eX,...eq,...eZ,...eF,...eH,...eG,...eW,...eK,...eQ,...eJ};function x3(e=0){return globalThis.Buffer?.allocUnsafe!=null?EP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function x4(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...e2,...e1});let x7=x4("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),x9=x4("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=x3((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Ce={utf8:x7,"utf-8":x7,hex:x6.base16,latin1:x9,ascii:x9,binary:x9,...x6};function Ct(e,t="utf8"){let r=Ce[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?EP(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}let Cr=gn(e=>async(t,r={})=>{let n=new AbortController,i=El(n.signal,r.signal),o=await e.post("config/replace",{signal:i,searchParams:ga(r),...await Ea([Ct(JSON.stringify(t))],n,r.headers)});await o.text()}),Cn=gn(e=>async(t,r,n={})=>{if("string"!=typeof t)throw Error("Invalid key type");let i={...n,...Ci(t,r)},o=await e.post("config",{signal:n.signal,searchParams:ga(i),headers:n.headers});await o.text()}),Ci=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function Co(e){return{getAll:EU(e),get:ES(e),set:Cn(e),replace:Cr(e),profiles:EA(e)}}let Ca=gn(e=>async function*(t,r={}){let n=await e.post("dag/export",{signal:r.signal,searchParams:ga({arg:t.toString()}),headers:r.headers});yield*n.iterator()});async function*Cs(e,t,r,n,i){let o=async e=>{let t=await r.getCodec(e.code),o=await n(e,i);return t.decode(o)},a=t.split("/").filter(Boolean),s=await o(e),c=e;for(;a.length;){let e=a.shift();if(!e)throw f7(Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(s,e))s=s[e],yield{value:s,remainderPath:a.join("/")};else throw f7(Error(`no link named "${e}" under ${c}`),"ERR_NO_LINK");let r=c9.asCID(s);r&&(c=r,s=await o(s))}yield{value:s,remainderPath:""}}async function Cc(e){for await(let t of e)return t}async function Cl(e){let t;for await(let r of e)t=r;return t}let Cu=(e,t)=>gn((t,r)=>{let n=m6(r);return async(t,r={})=>{if(r.path){let i=r.localResolve?await Cc(Cs(t,r.path,e,n,r)):await Cl(Cs(t,r.path,e,n,r));if(!i)throw f7(Error("Not found"),"ERR_NOT_FOUND");return i}let i=await e.getCodec(t.code),o=await n(t,r);return{value:i.decode(o),remainderPath:""}}})(t),Ch=gn(e=>async function*(t,r={}){let n=new AbortController,i=El(n.signal,r.signal),{headers:o,body:a}=await Ea(t,n,r.headers);for await(let{Root:t}of(await e.post("dag/import",{signal:i,headers:o,body:a,searchParams:ga({"pin-roots":r.pinRoots})})).ndjson())if(void 0!==t){let{Cid:{"/":e},PinErrorMsg:r}=t;yield{root:{cid:c9.parse(e),pinErrorMsg:r}}}}),Cf=(e,t)=>gn(t=>async(r,n={})=>{let i;let o={storeCodec:"dag-cbor",hashAlg:"sha2-256",...n};if(o.inputCodec){if(!(r instanceof Uint8Array))throw Error("Can only inputCodec on raw bytes that can be decoded");i=r}else i=(await e.getCodec(o.storeCodec)).encode(r),o.inputCodec=o.storeCodec;let a=new AbortController,s=El(a.signal,o.signal),c=await t.post("dag/put",{timeout:o.timeout,signal:s,searchParams:ga(o),...await Ea([i],a,o.headers)}),l=await c.json();return c9.parse(l.Cid["/"])})(t),Cd=gn(e=>async(t,r={})=>{let n=await e.post("dag/resolve",{signal:r.signal,searchParams:ga({arg:`${t}${r.path?`/${r.path}`.replace(/\/[/]+/g,"/"):""}`,...r}),headers:r.headers}),i=await n.json();return{cid:c9.parse(i.Cid["/"]),remainderPath:i.RemPath}});function Cp(e,t){return{export:Ca(t),get:Cu(e,t),import:Ch(t),put:Cf(e,t),resolve:Cd(t)}}let Cb=0,Cy=1,Cg=2,Cm=3,Cw=4,Cv=5,CE=6,Cx=7,CC=e=>{if(e.Type===Cb)return{name:"SENDING_QUERY",type:e.Type};if(e.Type===Cy)return{from:mX(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map(({ID:e,Addrs:t})=>({id:mX(e),multiaddrs:t.map(e=>dl(e)),protocols:[]})),providers:(e.Responses||[]).map(({ID:e,Addrs:t})=>({id:mX(e),multiaddrs:t.map(e=>dl(e)),protocols:[]}))};if(e.Type===Cg){let t={id:e.ID??mX(e.ID),multiaddrs:[],protocols:[]};return e.Responses&&e.Responses.length&&(t={id:mX(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map(e=>dl(e)),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:t}}if(e.Type===Cm)return{name:"QUERY_ERROR",type:e.Type,error:Error(e.Extra)};if(e.Type===Cw)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map(({ID:e,Addrs:t})=>({id:mX(e),multiaddrs:t.map(e=>dl(e)),protocols:[]}))};if(e.Type===Cv)return{name:"VALUE",type:e.Type,value:Ct(e.Extra,"base64pad")};if(e.Type===CE){let t=e.Responses.map(({ID:e})=>mX(e));if(!t.length)throw Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:t[0]}}if(e.Type===Cx)return{name:"DIALING_PEER",type:e.Type,peer:mX(e.ID)};throw Error("Unknown DHT event type")},CA=gn(e=>async function*(t,r={}){for await(let n of(await e.post("dht/findpeer",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers})).ndjson())yield CC(n)}),CS=gn(e=>async function*(t,r={}){for await(let n of(await e.post("dht/findprovs",{signal:r.signal,searchParams:ga({arg:t.toString(),...r}),headers:r.headers})).ndjson())yield CC(n)});function CU(e,t="utf8"){let r=Ce[t];if(null==r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}let CP=gn(e=>async function*(t,r={}){for await(let n of(await e.post("dht/get",{signal:r.signal,searchParams:ga({arg:t instanceof Uint8Array?CU(t):t.toString(),...r}),headers:r.headers})).ndjson())yield CC(n)}),CI=gn(e=>async function*(t,r={recursive:!1}){let n=Array.isArray(t)?t:[t];for await(let t of(await e.post("dht/provide",{signal:r.signal,searchParams:ga({arg:n.map(e=>e.toString()),...r}),headers:r.headers})).ndjson())yield CC(t)}),Ck=gn(e=>async function*(t,r,n={}){let i=new AbortController,o=El(i.signal,n.signal);for await(let a of(await e.post("dht/put",{signal:o,searchParams:ga({arg:t instanceof Uint8Array?CU(t):t.toString(),...n}),...await Ea([r],i,n.headers)})).ndjson())yield CC(a)}),CT=gn(e=>async function*(t,r={}){for await(let n of(await e.post("dht/query",{signal:r.signal,searchParams:ga({arg:t.toString(),...r}),headers:r.headers})).ndjson())yield CC(n)});function CD(e){return{findPeer:CA(e),findProvs:CS(e),get:CP(e),provide:CI(e),put:Ck(e),query:CT(e)}}let CN=gn(e=>async function(t={}){return(await e.post("diag/cmds",{signal:t.signal,searchParams:ga(t),headers:t.headers})).json()}),Cj=gn(e=>async function(t={}){return(await e.post("diag/net",{signal:t.signal,searchParams:ga(t),headers:t.headers})).json()}),CB=gn(e=>async function(t={}){return(await e.post("diag/sys",{signal:t.signal,searchParams:ga(t),headers:t.headers})).json()});function Cz(e){return{cmds:CN(e),net:Cj(e),sys:CB(e)}}let CL=gn(e=>async function(t,r,n={}){let i=await e.post("files/chmod",{signal:n.signal,searchParams:ga({arg:t,mode:r,...n}),headers:n.headers});await i.text()}),C$=gn(e=>async function(t,r,n={}){let i=Array.isArray(t)?t:[t],o=await e.post("files/cp",{signal:n.signal,searchParams:ga({arg:i.concat(r).map(e=>c9.asCID(e)?`/ipfs/${e}`:e),...n}),headers:n.headers});await o.text()}),CO=gn(e=>async function(t,r={}){if(!t||"string"!=typeof t)throw Error("ipfs.files.flush requires a path");let n=await e.post("files/flush",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),i=await n.json();return c9.parse(i.Cid)});function CM(e){let t=Ex(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}let CR=gn(e=>async function*(t,r={}){if(!t)throw Error("ipfs.files.ls requires a path");for await(let n of(await e.post("files/ls",{signal:r.signal,searchParams:ga({arg:c9.asCID(t)?`/ipfs/${t}`:t,long:!0,...r,stream:!0}),headers:r.headers})).ndjson())if("Entries"in n)for(let e of n.Entries||[])yield CV(CM(e));else yield CV(CM(n))});function CV(e){return e.hash&&(e.cid=c9.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}let C_=gn(e=>async function(t,r={}){let n=await e.post("files/mkdir",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers});await n.text()}),CF=gn(e=>async function(t,r,n={}){Array.isArray(t)||(t=[t]);let i=await e.post("files/mv",{signal:n.signal,searchParams:ga({arg:t.concat(r),...n}),headers:n.headers});await i.text()});var CH=r(1351);let Cq=gn(e=>async function*(t,r={}){let n=await e.post("files/read",{signal:r.signal,searchParams:ga({arg:t,count:r.length,...r}),headers:r.headers});yield*CH(n.body)}),CJ=gn(e=>async function(t,r={}){let n=await e.post("files/rm",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),i=await n.text();if(""!==i){let e=new dN.HTTPError(n);throw e.message=i,e}}),CG=gn(e=>async function(t,r={}){let n=await e.post("files/stat",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),i=await n.json();return i.WithLocality=i.WithLocality||!1,CW(CM(i))});function CW(e){return e.cid=c9.parse(e.hash),delete e.hash,e}let CK=gn(e=>async function(t,r={}){let n=await e.post("files/touch",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers});await n.text()}),CQ=gn(e=>async function(t,r,n={}){let i=new AbortController,o=El(i.signal,n.signal),a=await e.post("files/write",{signal:o,searchParams:ga({arg:t,streamChannels:!0,count:n.length,...n}),...await Ea([{content:r,path:"arg",mode:gi(n.mode),mtime:go(n.mtime)}],i,n.headers)});await a.text()});function CZ(e){return{chmod:CL(e),cp:C$(e),flush:CO(e),ls:CR(e),mkdir:C_(e),mv:CF(e),read:Cq(e),rm:CJ(e),stat:CG(e),touch:CK(e),write:CQ(e)}}let CX=gn(e=>async(e,t,r={})=>{throw f7(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),CY=gn(e=>async function(t,r){let n=r??{type:"Ed25519"},i=await e.post("key/gen",{signal:n.signal,searchParams:ga({arg:t,...n}),headers:n.headers});return Ex(await i.json())}),C0=gn(e=>async function(t,r,n,i={}){let o=await e.post("key/import",{signal:i.signal,searchParams:ga({arg:t,pem:r,password:n,...i}),headers:i.headers});return Ex(await o.json())}),C1=gn(e=>async(e,t={})=>{throw f7(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),C2=gn(e=>async function(t={}){let r=await e.post("key/list",{signal:t.signal,searchParams:ga(t),headers:t.headers});return((await r.json()).Keys||[]).map(e=>Ex(e))}),C5=gn(e=>async function(t,r,n={}){let i=await e.post("key/rename",{signal:n.signal,searchParams:ga({arg:[t,r],...n}),headers:n.headers});return Ex(await i.json())}),C8=gn(e=>async function(t,r={}){let n=await e.post("key/rm",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers});return Ex((await n.json()).Keys[0])});function C6(e){return{export:CX(e),gen:CY(e),import:C0(e),info:C1(e),list:C2(e),rename:C5(e),rm:C8(e)}}let C3=gn(e=>async function(t,r,n={}){let i=await e.post("log/level",{signal:n.signal,searchParams:ga({arg:[t,r],...n}),headers:n.headers});return Ex(await i.json())}),C4=gn(e=>async function(t={}){let r=await e.post("log/ls",{signal:t.signal,searchParams:ga(t),headers:t.headers});return(await r.json()).Strings}),C7=gn(e=>async function*(t={}){let r=await e.post("log/tail",{signal:t.signal,searchParams:ga(t),headers:t.headers});yield*r.ndjson()});function C9(e){return{level:C3(e),ls:C4(e),tail:C7(e)}}let Ae=gn(e=>async function(t,r={}){let n=await e.post("name/publish",{signal:r.signal,searchParams:ga({arg:`${t}`,...r}),headers:r.headers});return Ex(await n.json())}),At=gn(e=>async function*(t,r={}){for await(let n of(await e.post("name/resolve",{signal:r.signal,searchParams:ga({arg:t,stream:!0,...r}),headers:r.headers})).ndjson())yield n.Path}),Ar=gn(e=>async function(t,r={}){let n=await e.post("name/pubsub/cancel",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers});return Ex(await n.json())}),An=gn(e=>async function(t={}){let r=await e.post("name/pubsub/state",{signal:t.signal,searchParams:ga(t),headers:t.headers});return Ex(await r.json())}),Ai=gn(e=>async function(t={}){let r=await e.post("name/pubsub/subs",{signal:t.signal,searchParams:ga(t),headers:t.headers});return(await r.json()).Strings||[]});function Ao(e){return{cancel:Ar(e),state:An(e),subs:Ai(e)}}function Aa(e){return{publish:Ae(e),resolve:At(e),pubsub:Ao(e)}}let As=gn(e=>async function(t,r={}){let n=await e.post("object/data",{signal:r.signal,searchParams:ga({arg:`${t instanceof Uint8Array?c9.decode(t):t}`,...r}),headers:r.headers}),i=await n.arrayBuffer();return new Uint8Array(i,0,i.byteLength)}),Ac=gn(e=>async function(t,r={}){let n=await e.post("object/get",{signal:r.signal,searchParams:ga({arg:`${t instanceof Uint8Array?c9.decode(t):t}`,dataEncoding:"base64",...r}),headers:r.headers}),i=await n.json();return{Data:Ct(i.Data,"base64pad"),Links:(i.Links||[]).map(e=>({Name:e.Name,Hash:c9.parse(e.Hash),Tsize:e.Size}))}}),Al=gn(e=>async function(t,r={}){let n=await e.post("object/links",{signal:r.signal,searchParams:ga({arg:`${t instanceof Uint8Array?c9.decode(t):t}`,...r}),headers:r.headers});return((await n.json()).Links||[]).map(e=>({Name:e.Name,Tsize:e.Size,Hash:c9.parse(e.Hash)}))}),Au=gn(e=>async function(t={}){let r=await e.post("object/new",{signal:t.signal,searchParams:ga({arg:t.template,...t}),headers:t.headers}),{Hash:n}=await r.json();return c9.parse(n)}),Ah=(e,t)=>gn(r=>{let n=Cf(e,t);return async function(e,t={}){return n(e,{...t,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}})(t),Af=gn(e=>async function(t,r={}){let n=await e.post("object/stat",{signal:r.signal,searchParams:ga({arg:`${t}`,...r}),headers:r.headers}),i=await n.json();return{...i,Hash:c9.parse(i.Hash)}}),Ad=gn(e=>async function(t,r,n={}){let i=await e.post("object/patch/add-link",{signal:n.signal,searchParams:ga({arg:[`${t}`,r.Name||r.name||"",(r.Hash||r.cid||"").toString()||null],...n}),headers:n.headers}),{Hash:o}=await i.json();return c9.parse(o)}),Ap=gn(e=>async function(t,r,n={}){let i=new AbortController,o=El(i.signal,n.signal),a=await e.post("object/patch/append-data",{signal:o,searchParams:ga({arg:`${t}`,...n}),...await Ea([r],i,n.headers)}),{Hash:s}=await a.json();return c9.parse(s)}),Ab=gn(e=>async function(t,r,n={}){let i=await e.post("object/patch/rm-link",{signal:n.signal,searchParams:ga({arg:[`${t}`,r.Name||r.name||null],...n}),headers:n.headers}),{Hash:o}=await i.json();return c9.parse(o)}),Ay=gn(e=>async function(t,r,n={}){let i=new AbortController,o=El(i.signal,n.signal),a=await e.post("object/patch/set-data",{signal:o,searchParams:ga({arg:[`${t}`],...n}),...await Ea([r],i,n.headers)}),{Hash:s}=await a.json();return c9.parse(s)});function Ag(e){return{addLink:Ad(e),appendData:Ap(e),rmLink:Ab(e),setData:Ay(e)}}function Am(e,t){return{data:As(t),get:Ac(t),links:Al(t),new:Au(t),put:Ah(e,t),stat:Af(t),patch:Ag(t)}}var Aw=128,Av=-128,AE=2147483648;function Ax(e,t,r){t=t||[];for(var n=r=r||0;e>=AE;)t[r++]=255&e|Aw,e/=128;for(;e&Av;)t[r++]=255&e|Aw,e>>>=7;return t[r]=0|e,Ax.bytes=r-n+1,t}var AC=128,AA=127;function AS(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw AS.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&AA)<<i:(r&AA)*Math.pow(2,i),i+=7}while(r>=AC);return AS.bytes=o-t,n}var AU=128,AP=16384,AI=2097152,Ak=268435456,AT=34359738368,AD=4398046511104,AN=562949953421312,Aj=72057594037927940,AB=0x7fffffffffffffff;let Az={encode:Ax,decode:AS,encodingLength:function(e){return e<AU?1:e<AP?2:e<AI?3:e<Ak?4:e<AT?5:e<AD?6:e<AN?7:e<Aj?8:e<AB?9:10}},AL=(e,t=0)=>[Az.decode(e,t),Az.decode.bytes],A$=(e,t,r=0)=>(Az.encode(e,t,r),t),AO=e=>Az.encodingLength(e);new Uint8Array(0);let AM=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},AR=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},AV=(e,t)=>{let r=t.byteLength,n=AO(e),i=n+AO(r),o=new Uint8Array(i+r);return A$(e,o,0),A$(r,o,n),o.set(t,i),new AH(e,r,t,o)},A_=e=>{let t=AR(e),[r,n]=AL(t),[i,o]=AL(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new AH(r,i,a,t)},AF=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&AM(e.bytes,r.bytes)}};class AH{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let Aq=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*a[f]>>>0,a[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=a[d++];return p}}}function f(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=t[i],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var b=c.repeat(r);p<a;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:h,decode:f}};class AJ{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class AG{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return AK(this,e)}}class AW{constructor(e){this.decoders=e}or(e){return AK(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let AK=(e,t)=>new AW({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class AQ{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new AJ(e,t,r),this.decoder=new AG(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let AZ=({name:e,prefix:t,encode:r,decode:n})=>new AQ(e,t,r,n),AX=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=Aq(r,t);return AZ({prefix:e,name:t,encode:n,decode:e=>AR(i(e))})},AY=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw SyntaxError("Unexpected end of data");return a},A0=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},A1=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>AZ({prefix:t,name:e,encode:e=>A0(e,n,r),decode:t=>AY(t,n,r,e)}),A2=AX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});AX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});let A5=A1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});A1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),A1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),A1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),A1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),A1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),A1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),A1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),A1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let A8=(e,t)=>{let{bytes:r,version:n}=e;return 0===n?A9(r,A3(e),t||A2.encoder):Se(r,A3(e),t||A5.encoder)},A6=new WeakMap,A3=e=>{let t=A6.get(e);if(null==t){let t=new Map;return A6.set(e,t),t}return t};class A4{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:t}=this;if(e!==St)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Sr)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return A4.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=AV(e,t);return A4.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return A4.equals(this,e)}static equals(e,t){let r=t;return r&&e.code===r.code&&e.version===r.version&&AF(e.multihash,r.multihash)}toString(e){return A8(this,e)}toJSON(){return{"/":A8(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;let t=e;if(t instanceof A4)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){let{version:e,code:r,multihash:n,bytes:i}=t;return new A4(e,r,n,i||Sn(e,r,n.bytes))}if(!0!==t[Si])return null;{let{version:e,multihash:r,code:n}=t,i=A_(r);return A4.create(e,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(e){case 0:if(t===St)return new A4(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${St}) block encoding`);case 1:{let n=Sn(e,t,r.bytes);return new A4(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return A4.create(0,St,e)}static createV1(e,t){return A4.create(1,e,t)}static decode(e){let[t,r]=A4.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=A4.inspectBytes(e),r=t.size-t.multihashSize,n=AR(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new AH(t.multihashCode,t.digestSize,i,n);return[0===t.version?A4.createV0(o):A4.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=AL(e.subarray(t));return t+=n,r},n=r(),i=St;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),c=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:c-o,size:c}}static parse(e,t){let[r,n]=A7(e,t),i=A4.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return A3(i).set(r,e),i}}let A7=(e,t)=>{switch(e[0]){case"Q":{let r=t||A2;return[A2.prefix,r.decode(`${A2.prefix}${e}`)]}case A2.prefix:{let r=t||A2;return[A2.prefix,r.decode(e)]}case A5.prefix:{let r=t||A5;return[A5.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},A9=(e,t,r)=>{let{prefix:n}=r;if(n!==A2.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},Se=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},St=112,Sr=18,Sn=(e,t,r)=>{let n=AO(e),i=n+AO(t),o=new Uint8Array(i+r.byteLength);return A$(e,o,0),A$(t,o,n),o.set(r,i),o},Si=Symbol.for("@ipld/js-cid/CID");function So(e){return Symbol.iterator in e}function Sa(e){return Symbol.asyncIterator in e}function Ss(e){return null!=A4.asCID(e)}async function*Sc(e){if(null==e)throw f7(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");let t=A4.asCID(e);if(t){yield Sl({cid:t});return}if(e instanceof String||"string"==typeof e){yield Sl({path:e});return}if(null!=e.cid||null!=e.path)return yield Sl(e);if(So(e)){let t=e[Symbol.iterator](),r=t.next();if(r.done)return t;if(Ss(r.value)){for(let e of(yield Sl({cid:r.value}),t))yield Sl({cid:e});return}if(r.value instanceof String||"string"==typeof r.value){for(let e of(yield Sl({path:r.value}),t))yield Sl({path:e});return}if(null!=r.value.cid||null!=r.value.path){for(let e of(yield Sl(r.value),t))yield Sl(e);return}throw f7(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Sa(e)){let t=e[Symbol.asyncIterator](),r=await t.next();if(r.done)return t;if(Ss(r.value)){for await(let e of(yield Sl({cid:r.value}),t))yield Sl({cid:e});return}if(r.value instanceof String||"string"==typeof r.value){for await(let e of(yield Sl({path:r.value}),t))yield Sl({path:e});return}if(null!=r.value.cid||null!=r.value.path){for await(let e of(yield Sl(r.value),t))yield Sl(e);return}}throw f7(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}function Sl(e){let t=e.cid||`${e.path}`;if(!t)throw f7(Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let r={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(r.metadata=e.metadata),r}let Su=gn(e=>async function*(t,r={}){for await(let{path:n,recursive:i,metadata:o}of Sc(t))for await(let t of(await e.post("pin/add",{signal:r.signal,searchParams:ga({...r,arg:n,recursive:i,metadata:o?JSON.stringify(o):void 0,stream:!0}),headers:r.headers})).ndjson()){if(t.Pins){for(let e of t.Pins)yield c9.parse(e);continue}yield c9.parse(t)}});function Sh(e){let t=Su(e);return gn(()=>async function(e,r={}){return Cl(t([{path:e,...r}],r))})(e)}function Sf(e,t,r){let n={type:e,cid:c9.parse(t)};return r&&(n.metadata=r),n}let Sd=gn(e=>async function*(t={}){let r=[];for await(let n of(t.paths&&(r=Array.isArray(t.paths)?t.paths:[t.paths]),(await e.post("pin/ls",{signal:t.signal,searchParams:ga({...t,arg:r.map(e=>`${e}`),stream:!0}),headers:t.headers})).ndjson())){if(n.Keys){for(let e of Object.keys(n.Keys))yield Sf(n.Keys[e].Type,e,n.Keys[e].Metadata);return}yield Sf(n.Type,n.Cid,n.Metadata)}}),Sp=gn(e=>async function*(t,r={}){for await(let{path:n,recursive:i}of Sc(t)){let t=new URLSearchParams(r.searchParams);for await(let o of(t.append("arg",`${n}`),null!=i&&t.set("recursive",String(i)),(await e.post("pin/rm",{signal:r.signal,headers:r.headers,searchParams:ga({...r,arg:`${n}`,recursive:i})})).ndjson())){if(o.Pins){yield*o.Pins.map(e=>c9.parse(e));continue}yield c9.parse(o)}}}),Sb=e=>{let t=Sp(e);return gn(()=>async function(e,r={}){return Cl(t([{path:e,...r}],r))})(e)},Sy=({Name:e,Status:t,Cid:r})=>({cid:c9.parse(r),name:e,status:t}),Sg=e=>{if("string"==typeof e&&""!==e)return e;throw TypeError("service name must be passed")},Sm=e=>{if(c9.asCID(e))return e.toString();throw TypeError(`CID instance expected instead of ${typeof e}`)},Sw=({service:e,cid:t,name:r,status:n,all:i})=>{let o=ga({service:Sg(e),name:r,force:!!i||void 0});if(t)for(let e of t)o.append("cid",Sm(e));if(n)for(let e of n)o.append("status",e);return o},Sv=({cid:e,service:t,background:r,name:n,origins:i})=>{let o=ga({arg:Sm(e),service:Sg(t),name:n,background:!!r||void 0});if(i)for(let e of i)o.append("origin",e.toString());return o};function SE(e){return async function(t,{timeout:r,signal:n,headers:i,...o}){let a=await e.post("pin/remote/add",{timeout:r,signal:n,headers:i,searchParams:Sv({cid:t,...o})});return Sy(await a.json())}}function Sx(e){return async function*({timeout:t,signal:r,headers:n,...i}){for await(let o of(await e.post("pin/remote/ls",{timeout:t,signal:r,headers:n,searchParams:Sw(i)})).ndjson())yield Sy(o)}}function SC(e){return async function({timeout:t,signal:r,headers:n,...i}){await e.post("pin/remote/rm",{timeout:t,signal:r,headers:n,searchParams:Sw({...i,all:!1})})}}function SA(e){return async function({timeout:t,signal:r,headers:n,...i}){await e.post("pin/remote/rm",{timeout:t,signal:r,headers:n,searchParams:Sw({...i,all:!0})})}}function SS(e){let t=String(e);if("undefined"===t)throw Error("endpoint is required");return"/"===t[t.length-1]?t.slice(0,-1):t}function SU(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:SP(e.Stat)}}}function SP(e){switch(e.Status){case"valid":{let{Pinning:t,Pinned:r,Queued:n,Failed:i}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:r,failed:i}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function SI(e){return async function(t,r){let{endpoint:n,key:i,headers:o,timeout:a,signal:s}=r;await e.post("pin/remote/service/add",{timeout:a,signal:s,searchParams:ga({arg:[t,SS(n),i]}),headers:o})}}function Sk(e){return async function(t={}){let{stat:r,headers:n,timeout:i,signal:o}=t,a=await e.post("pin/remote/service/ls",{timeout:i,signal:o,headers:n,searchParams:!0===r?ga({stat:r}):void 0}),{RemoteServices:s}=await a.json();return s.map(SU)}}function ST(e){return async function(t,r={}){await e.post("pin/remote/service/rm",{signal:r.signal,headers:r.headers,searchParams:ga({arg:t})})}}function SD(e){let t=new gr(e);return{add:SI(t),ls:Sk(t),rm:ST(t)}}function SN(e){let t=new gr(e);return{add:SE(t),ls:Sx(t),rm:SC(t),rmAll:SA(t),service:SD(e)}}function Sj(e){return{addAll:Su(e),add:Sh(e),ls:Sd(e),rmAll:Sp(e),rm:Sb(e),remote:SN(e)}}let SB=e=>Array.isArray(e)?e.map(Sz):e,Sz=e=>CU(SL(e)),SL=e=>cM.decode(e),S$=e=>BigInt(`0x${CU(cM.decode(e),"base16")}`),SO=e=>cM.encode(Ct(e)),SM=gn(e=>async function(t={}){let{Strings:r}=await (await e.post("pubsub/ls",{signal:t.signal,searchParams:ga(t),headers:t.headers})).json();return SB(r)||[]}),SR=gn(e=>async function(t,r={}){let n=await e.post("pubsub/peers",{signal:r.signal,searchParams:ga({arg:SO(t),...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}),SV=gn(e=>async function(t,r,n={}){let i=ga({arg:SO(t),...n}),o=new AbortController,a=El(o.signal,n.signal),s=await e.post("pubsub/pub",{signal:a,searchParams:i,...await Ea([r],o,n.headers)});await s.text()}),S_=dD("ipfs-http-client:pubsub:subscribe"),SF=(e,t)=>gn(e=>async function(r,n,i={}){let o,a;i.signal=t.subscribe(r,n,i.signal);let s=new Promise((e,t)=>{o=e,a=t}),c=setTimeout(()=>o(),1e3);return e.post("pubsub/sub",{signal:i.signal,searchParams:ga({arg:SO(r),...i}),headers:i.headers}).catch(e=>{t.unsubscribe(r,n),a(e)}).then(e=>{clearTimeout(c),e&&(SH(e,{onMessage:e=>{if(n){if("function"==typeof n){n(e);return}"function"==typeof n.handleEvent&&n.handleEvent(e)}},onEnd:()=>t.unsubscribe(r,n),onError:i.onError}),o())}),s})(e);async function SH(e,{onMessage:t,onEnd:r,onError:n}){n=n||S_;try{for await(let r of e.ndjson())try{if(!r.from)continue;t(null!=r.from&&null!=r.seqno?{type:"signed",from:mX(r.from),data:SL(r.data),sequenceNumber:S$(r.seqno),topic:Sz(r.topicIDs[0]),key:SL(r.key??"u"),signature:SL(r.signature??"u")}:{type:"unsigned",data:SL(r.data),topic:Sz(r.topicIDs[0])})}catch(e){e.message=`Failed to parse pubsub message: ${e.message}`,n(e,!1,r)}}catch(e){Sq(e)||n(e,!0)}finally{r()}}let Sq=e=>{switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}},SJ=(e,t)=>async function(e,r){t.unsubscribe(e,r)};class SG{constructor(){this._subs=new Map}subscribe(e,t,r){let n=this._subs.get(e)||[];if(n.find(e=>e.handler===t))throw Error(`Already subscribed to ${e} with this handler`);let i=new AbortController;return this._subs.set(e,[{handler:t,controller:i}].concat(n)),r&&r.addEventListener("abort",()=>this.unsubscribe(e,t)),i.signal}unsubscribe(e,t){let r;let n=this._subs.get(e)||[];t?(this._subs.set(e,n.filter(e=>e.handler!==t)),r=n.filter(e=>e.handler===t)):(this._subs.set(e,[]),r=n),(this._subs.get(e)||[]).length||this._subs.delete(e),r.forEach(e=>e.controller.abort())}}function SW(e){let t=new SG;return{ls:SM(e),peers:SR(e),publish:SV(e),subscribe:SF(e,t),unsubscribe:SJ(e,t)}}let SK=gn(e=>async function*(t={}){let r=await e.post("refs/local",{signal:t.signal,transform:Ex,searchParams:ga(t),headers:t.headers});yield*r.ndjson()}),SQ=gn((e,t)=>Object.assign(async function*(t,r={}){let n=Array.isArray(t)?t:[t],i=await e.post("refs",{signal:r.signal,searchParams:ga({arg:n.map(e=>`${e instanceof Uint8Array?c9.decode(e):e}`),...r}),headers:r.headers,transform:Ex});yield*i.ndjson()},{local:SK(t)})),SZ=gn(e=>async function*(t={}){let r=await e.post("repo/gc",{signal:t.signal,searchParams:ga(t),headers:t.headers,transform:e=>({err:e.Error?Error(e.Error):null,cid:(e.Key||{})["/"]?c9.parse(e.Key["/"]):null})});yield*r.ndjson()}),SX=gn(e=>async function(t={}){let r=await e.post("repo/stat",{signal:t.signal,searchParams:ga(t),headers:t.headers}),n=await r.json();return{numObjects:BigInt(n.NumObjects),repoSize:BigInt(n.RepoSize),repoPath:n.RepoPath,version:n.Version,storageMax:BigInt(n.StorageMax)}}),SY=gn(e=>async function(t={}){return(await (await e.post("repo/version",{signal:t.signal,searchParams:ga(t),headers:t.headers})).json()).Version});function S0(e){return{gc:SZ(e),stat:SX(e),version:SY(e)}}let S1=gn(e=>async function*(t={}){let r=await e.post("stats/bw",{signal:t.signal,searchParams:ga(t),headers:t.headers,transform:e=>({totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:parseFloat(e.RateIn),rateOut:parseFloat(e.RateOut)})});yield*r.ndjson()});function S2(e){return{bitswap:m1(e),repo:SX(e),bw:S1(e)}}let S5=gn(e=>async function(t={}){let r=await e.post("swarm/addrs",{signal:t.signal,searchParams:ga(t),headers:t.headers}),{Addrs:n}=await r.json();return Object.keys(n).map(e=>({id:mX(e),addrs:(n[e]||[]).map(e=>dl(e))}))}),S8=gn(e=>async function(t,r={}){let n=await e.post("swarm/connect",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}),S6=gn(e=>async function(t,r={}){let n=await e.post("swarm/disconnect",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),{Strings:i}=await n.json();return i||[]}),S3=gn(e=>async function(t={}){let r=await e.post("swarm/addrs/local",{signal:t.signal,searchParams:ga(t),headers:t.headers}),{Strings:n}=await r.json();return(n||[]).map(e=>dl(e))}),S4=gn(e=>async function(t={}){let r=await e.post("swarm/peers",{signal:t.signal,searchParams:ga(t),headers:t.headers}),{Peers:n}=await r.json();return(n||[]).map(e=>({addr:dl(e.Addr),peer:mX(e.Peer),muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"}))});function S7(e){return{addrs:S5(e),connect:S8(e),disconnect:S6(e),localAddrs:S3(e),peers:S4(e)}}let S9=gn(e=>async function*(t,r={}){let n=new AbortController,i=El(n.signal,r.signal),{headers:o,body:a,total:s,parts:c}=await Ea(t,n,r.headers),[l,u]="function"==typeof r.progress?Ue(s,c,r.progress):[void 0,void 0];for await(let t of(await e.post("add",{searchParams:ga({"stream-channels":!0,...r,progress:!!l}),onUploadProgress:u,signal:i,headers:o,body:a})).ndjson())void 0!==(t=Ex(t)).hash?yield Ur(t):l&&l(t.bytes||0,t.name)}),Ue=(e,t,r)=>t?[void 0,Ut(e,t,r)]:[r,void 0],Ut=(e,t,r)=>{let n=0,i=t.length;return({loaded:o,total:a})=>{let s=Math.floor(o/a*e);for(;n<i;){let{start:e,end:i,name:o}=t[n];if(s<i){r(s-e,o);break}r(i-e,o),n+=1}}};function Ur({name:e,hash:t,size:r,mode:n,mtime:i,mtimeNsecs:o}){let a={path:e,cid:c9.parse(t),size:parseInt(r)};return null!=n&&(a.mode=parseInt(n,8)),null!=i&&(a.mtime={secs:i,nsecs:o||0}),a}async function*Un(e,t){if(null==e)throw f7(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof e||e instanceof String){yield Ui(e.toString(),t);return}if(vR(e)||vV(e)){yield Ui(e,t);return}if(vF(e)&&(e=vz(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=v$(e),{value:n,done:i}=await r.peek();if(i){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||vR(n)||"string"==typeof n||n instanceof String){yield Ui(r,t);return}throw f7(Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(v_(e)){yield Ui(e,t);return}throw f7(Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function Ui(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:vX(n),mtime:vY(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function Uo(e){return Un(e,vq)}function Ua(e){let t=S9(e);return gn(()=>async function(e,r={}){return await Cl(t(Uo(e),r))})(e)}let Us=gn(e=>async function*(t,r={}){let n=await e.post("cat",{signal:r.signal,searchParams:ga({arg:t.toString(),...r}),headers:r.headers});yield*n.iterator()}),Uc=gn(e=>async(t={})=>(await e.post("commands",{signal:t.signal,searchParams:ga(t),headers:t.headers})).json()),Ul=gn(e=>async(t,r={})=>{let n=await e.post("dns",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers});return(await n.json()).Path}),Uu=gn(e=>()=>{let t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}}),Uh=gn(e=>async function*(t,r={}){let n={arg:`${t instanceof Uint8Array?c9.decode(t):t}`,...r};n.compressionLevel&&(n["compression-level"]=n.compressionLevel,delete n.compressionLevel);let i=await e.post("get",{signal:r.signal,searchParams:ga(n),headers:r.headers});yield*i.iterator()}),Uf=gn(e=>async function(t={}){let r=await e.post("id",{signal:t.signal,searchParams:ga({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers}),n={...Ex(await r.json())};return n.id=mX(n.id),n.addresses&&(n.addresses=n.addresses.map(e=>dl(e))),n}),Ud=e=>{let t=Uf(e);return async function(e={}){let r=await t(e);return!!(r&&r.addresses&&r.addresses.length)}},Up=gn((e,t)=>async function*(r,n={}){let i=`${r instanceof Uint8Array?c9.decode(r):r}`;async function o(e){let r=e.Hash;if(r.includes("/")){let e=r.startsWith("/ipfs/")?r:`/ipfs/${r}`;r=(await CG(t)(e)).cid}else r=c9.parse(r);let n={name:e.Name,path:i+(e.Name?`/${e.Name}`:""),size:e.Size,cid:r,type:Ub(e)};return e.Mode&&(n.mode=parseInt(e.Mode,8)),void 0!==e.Mtime&&null!==e.Mtime&&(n.mtime={secs:e.Mtime},void 0!==e.MtimeNsecs&&null!==e.MtimeNsecs&&(n.mtime.nsecs=e.MtimeNsecs)),n}for await(let t of(await e.post("ls",{signal:n.signal,searchParams:ga({arg:i,...n}),headers:n.headers})).ndjson()){if(!(t=t.Objects))throw Error("expected .Objects in results");if(!(t=t[0]))throw Error("expected one array in results.Objects");let e=t.Links;if(!Array.isArray(e))throw Error("expected one array in results.Objects[0].Links");if(!e.length){yield o(t);return}yield*e.map(o)}});function Ub(e){switch(e.Type){case 1:case 5:return"dir";default:return"file"}}let Uy=gn(e=>async function(t={}){let r=await e.post("dns",{signal:t.signal,searchParams:ga(t),headers:t.headers});return Ex(await r.json())}),Ug=gn(e=>async function*(t,r={}){let n=await e.post("ping",{signal:r.signal,searchParams:ga({arg:`${t}`,...r}),headers:r.headers,transform:Ex});yield*n.ndjson()}),Um=gn(e=>async function(t,r={}){let n=await e.post("resolve",{signal:r.signal,searchParams:ga({arg:t,...r}),headers:r.headers}),{Path:i}=await n.json();return i}),Uw=gn(e=>async(e={})=>{throw f7(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),Uv=gn(e=>async function(t={}){let r=await e.post("shutdown",{signal:t.signal,searchParams:ga(t),headers:t.headers});await r.text()}),UE=gn(e=>async function(t={}){let r=await e.post("version",{signal:t.signal,searchParams:ga(t),headers:t.headers});return{...Ex(await r.json()),"ipfs-http-client":"1.0.0"}});function Ux(e={}){let t={name:ca.name,code:ca.code,encode:e=>e,decode:e=>e},r=Object.values(ls);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach(e=>r.push(e));let n=new e8({bases:r,loadBase:e.ipld&&e.ipld.loadBase}),i=Object.values(ll);[l,u,h,f,t].concat(e.ipld&&e.ipld.codecs||[]).forEach(e=>i.push(e));let o=new e3({codecs:i,loadCodec:e.ipld&&e.ipld.loadCodec}),a=Object.values(lc);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach(e=>a.push(e));let s=new e7({hashers:a,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:Ua(e),addAll:S9(e),bitswap:m8(e),block:Ep(e),bootstrap:Ev(e),cat:Us(e),commands:Uc(e),config:Co(e),dag:Cp(o,e),dht:CD(e),diag:Cz(e),dns:Ul(e),files:CZ(e),get:Uh(e),getEndpointConfig:Uu(e),id:Uf(e),isOnline:Ud(e),key:C6(e),log:C9(e),ls:Up(e),mount:Uy(e),name:Aa(e),object:Am(o,e),pin:Sj(e),ping:Ug(e),pubsub:SW(e),refs:SQ(e),repo:S0(e),resolve:Um(e),start:Uw(e),stats:S2(e),stop:Uv(e),swarm:S7(e),version:UE(e),bases:n,codecs:o,hashers:s}}r(5502),r(8548)}};