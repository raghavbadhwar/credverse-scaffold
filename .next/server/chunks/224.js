exports.id=224,exports.ids=[224],exports.modules={7615:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});let i={}},3303:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=r(8254);class n{BigNum;constructor(){this.BigNum=(t,e)=>new(i.BigNumber.clone({DECIMAL_PLACES:e}))(t)}winstonToAr(t,{formatted:e=!1,decimals:r=12,trim:i=!0}={}){let n=this.stringToBigNum(t,r).shiftedBy(-12);return e?n.toFormat(r):n.toFixed(r)}arToWinston(t,{formatted:e=!1}={}){let r=this.stringToBigNum(t).shiftedBy(12);return e?r.toFormat():r.toFixed(0)}compare(t,e){let r=this.stringToBigNum(t),i=this.stringToBigNum(e);return r.comparedTo(i)}isEqual(t,e){return 0===this.compare(t,e)}isLessThan(t,e){let r=this.stringToBigNum(t),i=this.stringToBigNum(e);return r.isLessThan(i)}isGreaterThan(t,e){let r=this.stringToBigNum(t),i=this.stringToBigNum(e);return r.isGreaterThan(i)}add(t,e){let r=this.stringToBigNum(t);return this.stringToBigNum(e),r.plus(e).toFixed(0)}sub(t,e){let r=this.stringToBigNum(t);return this.stringToBigNum(e),r.minus(e).toFixed(0)}stringToBigNum(t,e=12){return this.BigNum(t,e)}}e.default=n},2284:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let n=i(r(4550));r(7615);class o{api;network;static HASH_ENDPOINT="block/hash/";static HEIGHT_ENDPOINT="block/height/";constructor(t,e){this.api=t,this.network=e}async get(t){let e=await this.api.get(`${o.HASH_ENDPOINT}${t}`);if(200===e.status)return e.data;if(404===e.status)throw new n.default("BLOCK_NOT_FOUND");throw Error(`Error while loading block data: ${e}`)}async getByHeight(t){let e=await this.api.get(`${o.HEIGHT_ENDPOINT}${t}`);if(200===e.status)return e.data;if(404===e.status)throw new n.default("BLOCK_NOT_FOUND");throw Error(`Error while loading block data: ${e}`)}async getCurrent(){let{current:t}=await this.network.getInfo();return await this.get(t)}}e.default=o},4727:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});let s=r(4550),a=o(r(8550));class u{api;constructor(t){this.api=t}async getTransactionOffset(t){let e=await this.api.get(`tx/${t}/offset`);if(200===e.status)return e.data;throw Error(`Unable to get transaction offset: ${(0,s.getError)(e)}`)}async getChunk(t){let e=await this.api.get(`chunk/${t}`);if(200===e.status)return e.data;throw Error(`Unable to get chunk: ${(0,s.getError)(e)}`)}async getChunkData(t){let e=await this.getChunk(t);return a.b64UrlToBuffer(e.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){let e=await this.getTransactionOffset(t),r=parseInt(e.size),i=parseInt(e.offset)-r+1,n=new Uint8Array(r),o=0;for(;o<r;){let t;this.api.config.logging&&console.log(`[chunk] ${o}/${r}`);try{t=await this.getChunkData(i+o)}catch(t){console.error(`[chunk] Failed to fetch chunk at offset ${i+o}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(t)n.set(t,o),o+=t.length;else throw Error(`Couldn't complete data download at ${o}/${r}`)}return n}}e.default=u},9037:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let a=s(r(3303)),u=s(r(4288)),h=s(r(5891)),l=s(r(6062)),f=s(r(6324)),c=s(r(1886)),d=s(r(2057)),p=o(r(8550)),g=s(r(483)),m=s(r(4727)),y=s(r(2284));class w{api;wallets;transactions;network;blocks;ar;silo;chunks;static init;static crypto=new h.default;static utils=p;constructor(t){this.api=new u.default(t),this.wallets=new c.default(this.api,w.crypto),this.chunks=new m.default(this.api),this.transactions=new f.default(this.api,w.crypto,this.chunks),this.silo=new g.default(this.api,this.crypto,this.transactions),this.network=new l.default(this.api),this.blocks=new y.default(this.api,this.network),this.ar=new a.default}get crypto(){return w.crypto}get utils(){return w.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(t,e){let r={};if(Object.assign(r,t),!t.data&&!(t.target&&t.quantity))throw Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(void 0==t.owner&&e&&"use_wallet"!==e&&(r.owner=e.n),void 0==t.last_tx&&(r.last_tx=await this.transactions.getTransactionAnchor()),"string"==typeof t.data&&(t.data=p.stringToBuffer(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(void 0==t.reward){let e=t.data?t.data.byteLength:0;r.reward=await this.transactions.getPrice(e,r.target)}r.data_root="",r.data_size=t.data?t.data.byteLength.toString():"0",r.data=t.data||new Uint8Array(0);let i=new d.default(r);return await i.getSignatureData(),i}async createSiloTransaction(t,e,r){let i={};if(Object.assign(i,t),!t.data)throw Error("Silo transactions must have a 'data' value");if(!r)throw Error("No Silo URI specified.");if(t.target||t.quantity)throw Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(void 0==t.owner){if(!e||!e.n)throw Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");i.owner=e.n}void 0==t.last_tx&&(i.last_tx=await this.transactions.getTransactionAnchor());let n=await this.silo.parseUri(r);if("string"==typeof t.data){let e=await this.crypto.encrypt(p.stringToBuffer(t.data),n.getEncryptionKey());i.reward=await this.transactions.getPrice(e.byteLength),i.data=p.bufferTob64Url(e)}if(t.data instanceof Uint8Array){let e=await this.crypto.encrypt(t.data,n.getEncryptionKey());i.reward=await this.transactions.getPrice(e.byteLength),i.data=p.bufferTob64Url(e)}let o=new d.default(i);return o.addTag("Silo-Name",n.getAccessKey()),o.addTag("Silo-Version","0.1.0"),o}arql(t){return this.api.post("/arql",t).then(t=>t.data||[])}}e.default=w},224:function(t,e,r){"use strict";let i=(this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(r(9037));i.default.init=function(t={}){return new i.default(t)},t.exports=i.default},4288:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{METHOD_GET="GET";METHOD_POST="POST";config;constructor(t){this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){let e=t.protocol||"http",r=t.port||("https"===e?443:80);return{host:t.host||"127.0.0.1",protocol:e,port:r,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log,network:t.network}}async get(t,e){return await this.request(t,{...e,method:this.METHOD_GET})}async post(t,e,r){let i=new Headers(r?.headers||{});return i.get("content-type")?.includes("application/json")||i.append("content-type","application/json"),i.append("accept","application/json, text/plain, */*"),await this.request(t,{...r,method:this.METHOD_POST,body:"string"!=typeof e?JSON.stringify(e):e,headers:i})}async request(t,e){let r=new Headers(e?.headers||{}),n=`${this.config.protocol}://${this.config.host}:${this.config.port}`,o=e?.responseType;delete e?.responseType,t.startsWith("/")&&(t=t.slice(1)),this.config.network&&r.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${n}/${t}`);let s=await fetch(`${n}/${t}`,{...e||{},headers:r});this.config.logging&&this.config.logger(`Response:   ${s.url} - ${s.status}`);let a=s.headers.get("content-type"),u=a?.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i)?.[1],h=async()=>{if(u)try{s.data=new TextDecoder(u).decode(await s.arrayBuffer())}catch(t){s.data=await s.text()}else s.data=await s.text()};if("arraybuffer"===o)s.data=await s.arrayBuffer();else if("text"===o)await h();else if("webstream"===o)s.data=i(s.body);else try{let t=await s.clone().json();"object"!=typeof t?await h():s.data=await s.json(),t=null}catch{await h()}return s}}e.default=r;let i=t=>(void 0===t[Symbol.asyncIterator]&&(t[Symbol.asyncIterator]=n(t)),t),n=function(t){return async function*(){let e=t.getReader();try{for(;;){let{done:t,value:r}=await e.read();if(t)return;yield r}}finally{e.releaseLock()}}}},5891:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});let s=r(4018),a=o(r(4770));class u{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";encryptionAlgorithm="aes-256-cbc";generateJWK(){if("function"!=typeof a.generateKeyPair)throw Error("Keypair generation not supported in this version of Node, only supported in versions 10+");return new Promise((t,e)=>{a.generateKeyPair("rsa",{modulusLength:this.keyLength,publicExponent:this.publicExponent,privateKeyEncoding:{type:"pkcs1",format:"pem"},publicKeyEncoding:{type:"pkcs1",format:"pem"}},(r,i,n)=>{r&&e(r),t(this.pemToJWK(n))})})}sign(t,e,{saltLength:r}={}){return new Promise((i,n)=>{i(a.createSign(this.hashAlgorithm).update(e).sign({key:this.jwkToPem(t),padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:r}))})}verify(t,e,r){return new Promise((i,n)=>{let o=this.jwkToPem({kty:"RSA",e:"AQAB",n:t}),s=a.createPublicKey({key:o,format:"pem"}),u=a.createVerify(this.hashAlgorithm);u.update(e);let h=u.verify({key:s,padding:a.constants.RSA_PKCS1_PSS_PADDING},r);if(!h){let t={asymmetricKeyType:s.asymmetricKeyType,modulusLength:s.asymmetricKeyDetails?.modulusLength};console.warn(`Transaction Verification Failed! 
Details: ${JSON.stringify(t,null,2)} 
N.B. ArweaveJS is only guaranteed to verify txs created using ArweaveJS.`)}i(h)})}hash(t,e="SHA-256"){if("string"==typeof t)throw TypeError("Data must be a Uint8Array");return new Promise((r,i)=>{r(a.createHash(this.parseHashAlgorithm(e)).update(t).digest())})}async encrypt(t,e,r){let i=a.pbkdf2Sync(e,r=r||"salt",1e5,32,this.hashAlgorithm),n=a.randomBytes(16),o=a.createCipheriv(this.encryptionAlgorithm,i,n);return Buffer.concat([n,o.update(t),o.final()])}async decrypt(t,e,r){try{let i=a.pbkdf2Sync(e,r=r||"salt",1e5,32,this.hashAlgorithm),n=t.slice(0,16),o=t.slice(16),s=a.createDecipheriv(this.encryptionAlgorithm,i,n);return Buffer.concat([s.update(o),s.final()])}catch(t){throw Error("Failed to decrypt")}}jwkToPem(t){return(0,s.jwkTopem)(t)}pemToJWK(t){return(0,s.pemTojwk)(t)}parseHashAlgorithm(t){switch(t){case"SHA-256":return"sha256";case"SHA-384":return"sha384";default:throw Error(`Algorithm not supported: ${t}`)}}}e.default=u},4018:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.pemTojwk=function(t,e){var r=t.toString().split(/(\r\n|\r|\n)+/g),i=function(t){var e=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(t);if(!e)return null;var r=!!e[1];return"PRIVATE"===e[2]?r?w:b:r?y:v}((r=r.filter(function(t){return 0!==t.trim().length}))[0]);return r=r.slice(1,-1).join(""),i(Buffer.from(r.replace(/[^\w\d\+\/=]+/g,""),"base64"),e)},e.jwkTopem=function(t){var e={n:M(t.n),e:M(t.e),d:t.d&&M(t.d),p:t.p&&M(t.p),q:t.q&&M(t.q),dp:t.dp&&M(t.dp),dq:t.dq&&M(t.dq),qi:t.qi&&M(t.qi)},r=!!e.d,i=r?"PRIVATE":"PUBLIC",n=Buffer.alloc(0);return r?(e.version="two-prime",n=d.encode(e,"der")):n=u.encode(e,"der"),"-----BEGIN RSA "+i+" KEY-----\n"+n.toString("base64").match(/.{1,64}/g).join("\n")+"\n-----END RSA "+i+" KEY-----\n"};let s=o(r(4311));function a(t){return Buffer.from(t,"hex").toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var u=s.define("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),h=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),l=s.define("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(h),this.key("publicKey").bitstr())}),f=s.define("Version",function(){this.int({0:"two-prime",1:"multi"})}),c=s.define("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),d=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(f),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(c))}),p=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(f),this.key("algorithm").use(h),this.key("privateKey").bitstr())});function g(t,e){return Object.keys(e=e||{}).forEach(function(r){t[r]=e[r]}),t}function m(t){return t.length%2==1?"0"+t:t}function y(t,e){var r=u.decode(t,"der"),i=m(r.e.toString(16));return g({kty:"RSA",n:_(r.n),e:a(i)},e)}function w(t,e){var r=d.decode(t,"der"),i=m(r.e.toString(16));return g({kty:"RSA",n:_(r.n),e:a(i),d:_(r.d),p:_(r.p),q:_(r.q),dp:_(r.dp),dq:_(r.dq),qi:_(r.qi)},e)}function v(t,e){return y(l.decode(t,"der").publicKey.data,e)}function b(t,e){return w(p.decode(t,"der").privateKey.data,e)}function _(t){return a(m(t.toString(16)))}function M(t){return/^[0-9]+$/.test(t)?new s.bignum(t,10):new s.bignum(Buffer.from(t,"base64"))}},2782:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;let n=i(r(9037));async function o(t){if(Array.isArray(t)){let e=n.default.utils.concatBuffers([n.default.utils.stringToBuffer("list"),n.default.utils.stringToBuffer(t.length.toString())]);return await s(t,await n.default.crypto.hash(e,"SHA-384"))}let e=n.default.utils.concatBuffers([n.default.utils.stringToBuffer("blob"),n.default.utils.stringToBuffer(t.byteLength.toString())]),r=n.default.utils.concatBuffers([await n.default.crypto.hash(e,"SHA-384"),await n.default.crypto.hash(t,"SHA-384")]);return await n.default.crypto.hash(r,"SHA-384")}async function s(t,e){if(t.length<1)return e;let r=n.default.utils.concatBuffers([e,await o(t[0])]),i=await n.default.crypto.hash(r,"SHA-384");return await s(t.slice(1),i)}},4550:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getError=function(t){let e=t.data;if("string"==typeof t.data)try{e=JSON.parse(t.data)}catch(t){}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch(t){}return e?e.error||e:t.statusText||"unknown"};class r extends Error{type;response;constructor(t,e={}){e.message?super(e.message):super(),this.type=t,this.response=e.response}getType(){return this.type}}e.default=r},7333:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.arrayCompare=e.MIN_CHUNK_SIZE=e.MAX_CHUNK_SIZE=void 0,e.chunkData=s,e.generateLeaves=a,e.computeRootHash=u,e.generateTree=h,e.generateTransactionChunks=l,e.buildLayers=f,e.generateProofs=c,e.arrayFlatten=d,e.intToBuffer=m,e.bufferToInt=y,e.validatePath=w,e.debug=v;let n=i(r(9037)),o=r(8550);async function s(t){let r=[],i=t,o=0;for(;i.byteLength>=e.MAX_CHUNK_SIZE;){let t=e.MAX_CHUNK_SIZE,s=i.byteLength-e.MAX_CHUNK_SIZE;s>0&&s<e.MIN_CHUNK_SIZE&&(t=Math.ceil(i.byteLength/2));let a=i.slice(0,t),u=await n.default.crypto.hash(a);o+=a.byteLength,r.push({dataHash:u,minByteRange:o-a.byteLength,maxByteRange:o}),i=i.slice(t)}return r.push({dataHash:await n.default.crypto.hash(i),minByteRange:o,maxByteRange:o+i.byteLength}),r}async function a(t){return Promise.all(t.map(async({dataHash:t,minByteRange:e,maxByteRange:r})=>({type:"leaf",id:await g(await Promise.all([g(t),g(m(r))])),dataHash:t,minByteRange:e,maxByteRange:r})))}async function u(t){return(await h(t)).id}async function h(t){return await f(await a(await s(t)))}async function l(t){let e=await s(t),r=await a(e),i=await f(r),n=await c(i),o=e.slice(-1)[0];return o.maxByteRange-o.minByteRange==0&&(e.splice(e.length-1,1),n.splice(n.length-1,1)),{data_root:i.id,chunks:e,proofs:n}}async function f(t,e=0){if(t.length<2)return t[0];let r=[];for(let e=0;e<t.length;e+=2)r.push(await p(t[e],t[e+1]));return f(r,e+1)}function c(t){let e=function t(e,r=new Uint8Array,i=0){if("leaf"==e.type)return{offset:e.maxByteRange-1,proof:(0,o.concatBuffers)([r,e.dataHash,m(e.maxByteRange)])};if("branch"==e.type){let n=(0,o.concatBuffers)([r,e.leftChild.id,e.rightChild.id,m(e.byteRange)]);return[t(e.leftChild,n,i+1),t(e.rightChild,n,i+1)]}throw Error("Unexpected node type")}(t);return Array.isArray(e)?d(e):[e]}function d(t){let e=[];return t.forEach(t=>{Array.isArray(t)?e.push(...d(t)):e.push(t)}),e}async function p(t,e){return e?{type:"branch",id:await g([await g(t.id),await g(e.id),await g(m(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:e.maxByteRange,leftChild:t,rightChild:e}:t}async function g(t){return Array.isArray(t)&&(t=n.default.utils.concatBuffers(t)),new Uint8Array(await n.default.crypto.hash(t))}function m(t){let e=new Uint8Array(32);for(var r=e.length-1;r>=0;r--){var i=t%256;e[r]=i,t=(t-i)/256}return e}function y(t){let e=0;for(var r=0;r<t.length;r++)e*=256,e+=t[r];return e}async function w(t,r,i,n,o){if(n<=0)return!1;if(r>=n)return w(t,0,n-1,n,o);if(r<0)return w(t,0,0,n,o);if(64==o.length){let r=o.slice(0,32),s=o.slice(r.length,r.length+32),a=await g([await g(r),await g(s)]);return!!(0,e.arrayCompare)(t,a)&&{offset:n-1,leftBound:i,rightBound:n,chunkSize:n-i}}let s=o.slice(0,32),a=o.slice(s.length,s.length+32),u=o.slice(s.length+a.length,s.length+a.length+32),h=y(u),l=o.slice(s.length+a.length+u.length),f=await g([await g(s),await g(a),await g(u)]);return!!(0,e.arrayCompare)(t,f)&&(r<h?await w(s,r,i,Math.min(n,h),l):await w(a,r,Math.max(i,h),n,l))}async function v(t,e=""){if(t.byteLength<1)return e;let r=t.slice(0,32),i=t.slice(r.length,r.length+32),n=t.slice(r.length+i.length,r.length+i.length+32),o=y(n),s=t.slice(r.length+i.length+n.length),a=await g([await g(r),await g(i),await g(n)]);return v(s,`${e}
${JSON.stringify(Buffer.from(r))},${JSON.stringify(Buffer.from(i))},${o} => ${JSON.stringify(a)}`)}e.MAX_CHUNK_SIZE=262144,e.MIN_CHUNK_SIZE=32768,e.arrayCompare=(t,e)=>t.every((t,r)=>e[r]===t)},2187:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionUploader=void 0;let a=s(r(2057)),u=o(r(8550)),h=r(4550),l=r(7333),f=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"];class c{api;chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}constructor(t,e){if(this.api=t,!e.id)throw Error("Transaction is not signed");if(!e.chunks)throw Error("Transaction chunks not prepared");this.data=e.data,this.transaction=new a.default(Object.assign({},e,{data:new Uint8Array(0)}))}async uploadChunk(t){if(this.isComplete)throw Error("Upload is already complete");if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100===this.totalErrors)throw Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let e=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4);if(e>0&&(e-=e*Math.random()*.3,await new Promise(t=>setTimeout(t,e))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}t&&(this.chunkIndex=t);let r=this.transaction.getChunk(t||this.chunkIndex,this.data);if(!await (0,l.validatePath)(this.transaction.chunks.data_root,parseInt(r.offset),0,parseInt(r.data_size),u.b64UrlToBuffer(r.data_path)))throw Error(`Unable to validate chunk ${this.chunkIndex}`);let i=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(t=>(console.error(t.message),{status:-1,data:{error:t.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=i.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=(0,h.getError)(i),f.includes(this.lastResponseError))throw Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(t,e,r){if(!e||"number"!=typeof e.chunkIndex||"object"!=typeof e.transaction)throw Error("Serialized object does not match expected format.");var i=new a.default(e.transaction);i.chunks||await i.prepareChunks(r);let n=new c(t,i);if(n.chunkIndex=e.chunkIndex,n.lastRequestTimeEnd=e.lastRequestTimeEnd,n.lastResponseError=e.lastResponseError,n.lastResponseStatus=e.lastResponseStatus,n.txPosted=e.txPosted,n.data=r,n.transaction.data_root!==e.transaction.data_root)throw Error("Data mismatch: Uploader doesn't match provided data.");return n}static async fromTransactionId(t,e){let r=await t.get(`tx/${e}`);if(200!==r.status)throw Error(`Tx ${e} not found: ${r.status}`);let i=r.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=1){this.transaction.data=this.data;let t=await this.api.post("tx",this.transaction).catch(t=>(console.error(t),{status:-1,data:{error:t.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,this.transaction.data=new Uint8Array(0),t.status>=200&&t.status<300){this.txPosted=!0,this.chunkIndex=1;return}throw this.lastResponseError=(0,h.getError)(t),Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`)}let t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=(0,h.getError)(t),Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}e.TransactionUploader=c},2057:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;let a=o(r(8550)),u=s(r(2782)),h=r(7333);class l{get(t,e){if(!Object.getOwnPropertyNames(this).includes(t))throw Error(`Field "${t}" is not a property of the Arweave Transaction class.`);if(this[t]instanceof Uint8Array)return e&&e.decode&&e.string?a.bufferToString(this[t]):e&&e.decode&&!e.string?this[t]:a.bufferTob64Url(this[t]);if(this[t]instanceof Array){if(e?.decode!==void 0||e?.string!==void 0)throw"tags"===t&&console.warn("Did you mean to use 'transaction[\"tags\"]' ?"),Error("Cannot decode or stringify an array.");return this[t]}return e&&!0==e.decode?e&&e.string?a.b64UrlToString(this[t]):a.b64UrlToBuffer(this[t]):this[t]}}class f extends l{name;value;constructor(t,e,r=!1){super(),this.name=t,this.value=e}}e.Tag=f;class c extends l{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";chunks;constructor(t={}){super(),Object.assign(this,t),"string"==typeof this.data&&(this.data=a.b64UrlToBuffer(this.data)),t.tags&&(this.tags=t.tags.map(t=>new f(t.name,t.value)))}addTag(t,e){this.tags.push(new f(a.stringToB64Url(t),a.stringToB64Url(e)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:a.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:e,reward:r,tags:i,signature:n}){this.id=t,this.owner=e,r&&(this.reward=r),i&&(this.tags=i),this.signature=n}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await (0,h.generateTransactionChunks)(t),this.data_root=a.bufferTob64Url(this.chunks.data_root)),this.chunks||0!==t.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,e){if(!this.chunks)throw Error("Chunks have not been prepared");let r=this.chunks.proofs[t],i=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:a.bufferTob64Url(r.proof),offset:r.offset.toString(),chunk:a.bufferTob64Url(e.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let t=this.tags.reduce((t,e)=>a.concatBuffers([t,e.get("name",{decode:!0,string:!1}),e.get("value",{decode:!0,string:!1})]),new Uint8Array);return a.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),a.stringToBuffer(this.quantity),a.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);let e=this.tags.map(t=>[t.get("name",{decode:!0,string:!1}),t.get("value",{decode:!0,string:!1})]);return await (0,u.default)([a.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),a.stringToBuffer(this.quantity),a.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),e,a.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw Error(`Unexpected transaction format: ${this.format}`)}}}e.default=c},8550:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.concatBuffers=function(t){let e=0;for(let r=0;r<t.length;r++)e+=t[r].byteLength;let r=new Uint8Array(e),i=0;r.set(new Uint8Array(t[0]),i),i+=t[0].byteLength;for(let e=1;e<t.length;e++)r.set(new Uint8Array(t[e]),i),i+=t[e].byteLength;return r},e.b64UrlToString=function(t){return a(h(t))},e.bufferToString=a,e.stringToBuffer=u,e.stringToB64Url=function(t){return f(u(t))},e.b64UrlToBuffer=h,e.bufferTob64=l,e.bufferTob64Url=f,e.b64UrlEncode=c,e.b64UrlDecode=d;let s=o(r(714));function a(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function u(t){return new TextEncoder().encode(t)}function h(t){return new Uint8Array(s.toByteArray(d(t)))}function l(t){return s.fromByteArray(new Uint8Array(t))}function f(t){return c(l(t))}function c(t){try{return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}catch(t){throw Error("Failed to encode string",{cause:t})}}function d(t){try{let e;return e=(t=t.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-t.length%4,t.concat("=".repeat(e))}catch(t){throw Error("Failed to decode string",{cause:t})}}},6062:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{api;constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}}e.default=r},483:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SiloResource=void 0;let s=o(r(8550));class a{api;crypto;transactions;constructor(t,e,r){this.api=t,this.crypto=e,this.transactions=r}async get(t){if(!t)throw Error("No Silo URI specified");let e=await this.parseUri(t),r=await this.transactions.search("Silo-Name",e.getAccessKey());if(0==r.length)throw Error(`No data could be found for the Silo URI: ${t}`);let i=await this.transactions.get(r[0]);if(!i)throw Error(`No data could be found for the Silo URI: ${t}`);let n=i.get("data",{decode:!0,string:!1});return this.crypto.decrypt(n,e.getEncryptionKey())}async readTransactionData(t,e){if(!e)throw Error("No Silo URI specified");let r=await this.parseUri(e),i=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(i,r.getEncryptionKey())}async parseUri(t){let e=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!e)throw Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let r=e[1],i=Math.pow(2,parseInt(e[2])),n=await this.hash(s.stringToBuffer(r),i);return new u(t,s.bufferTob64(n.slice(0,15)),await this.hash(n.slice(16,31),1))}async hash(t,e){let r=await this.crypto.hash(t);for(let t=0;t<e-1;t++)r=await this.crypto.hash(r);return r}}e.default=a;class u{uri;accessKey;encryptionKey;constructor(t,e,r){this.uri=t,this.accessKey=e,this.encryptionKey=r}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}e.SiloResource=u},6324:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});let a=s(r(4550)),u=s(r(2057)),h=o(r(8550)),l=r(2187);r(7615);class f{api;crypto;chunks;constructor(t,e,r){this.api=t,this.crypto=e,this.chunks=r}async getTransactionAnchor(){let t=await this.api.get("tx_anchor");if(!t.data.match(/^[a-z0-9_-]{43,}/i)||!t.ok)throw Error(`Could not getTransactionAnchor. Received: ${t.data}. Status: ${t.status}, ${t.statusText}`);return t.data}async getPrice(t,e){let r=e?`price/${t}/${e}`:`price/${t}`,i=await this.api.get(r);if(!/^\d+$/.test(i.data)||!i.ok)throw Error(`Could not getPrice. Received: ${i.data}. Status: ${i.status}, ${i.statusText}`);return i.data}async get(t){let e=await this.api.get(`tx/${t}`);if(200==e.status){let r=parseInt(e.data.data_size);if(e.data.format>=2&&r>0&&r<=12582912){let r=await this.getData(t);return new u.default({...e.data,data:r})}return new u.default({...e.data,format:e.data.format||1})}if(404==e.status)throw new a.default("TX_NOT_FOUND");if(410==e.status)throw new a.default("TX_FAILED");throw new a.default("TX_INVALID")}fromRaw(t){return new u.default(t)}async search(t,e){return this.api.post("arql",{op:"equals",expr1:t,expr2:e}).then(t=>t.data?t.data:[])}getStatus(t){return this.api.get(`tx/${t}/status`).then(t=>200==t.status?{status:200,confirmed:t.data}:{status:t.status,confirmed:null})}async getData(t,e){let r;try{r=await this.chunks.downloadChunkedData(t)}catch(e){console.error(`Error while trying to download chunked data for ${t}`),console.error(e)}if(!r){console.warn(`Falling back to gateway cache for ${t}`);try{let{data:e,ok:i,status:n,statusText:o}=await this.api.get(`/${t}`,{responseType:"arraybuffer"});if(!i)throw Error("Bad http status code",{cause:{status:n,statusText:o}});r=e}catch(e){console.error(`Error while trying to download contiguous data from gateway cache for ${t}`),console.error(e)}}if(!r)throw Error(`${t} data was not found!`);return e&&e.decode&&!e.string?r:e&&e.decode&&e.string?h.bufferToString(r):h.bufferTob64Url(r)}async sign(t,e,r){let i;let n="object"==typeof e&&(i=!0,["n","e","d","p","q","dp","dq","qi"].map(t=>!(t in e)&&(i=!1)),i),o="object"==typeof arweaveWallet;if(n||o){if(n){t.setOwner(e.n);let i=await t.getSignatureData(),n=await this.crypto.sign(e,i,r),o=await this.crypto.hash(n);t.setSignature({id:h.bufferTob64Url(o),owner:e.n,signature:h.bufferTob64Url(n)})}else if(o){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}let e=await arweaveWallet.sign(t,r);t.setSignature({id:e.id,owner:e.owner,reward:e.reward,tags:e.tags,signature:e.signature})}else throw Error("An error occurred while signing. Check wallet is valid")}else throw Error("No valid JWK or external wallet found to sign transaction.")}async verify(t){let e=await t.getSignatureData(),r=t.get("signature",{decode:!0,string:!1}),i=h.bufferTob64Url(await this.crypto.hash(r));if(t.id!==i)throw Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,e,r)}async post(t){if("string"==typeof t?t=new u.default(JSON.parse(t)):"function"==typeof t.readInt32BE?t=new u.default(JSON.parse(t.toString())):"object"!=typeof t||t instanceof u.default||(t=new u.default(t)),!(t instanceof u.default))throw Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);let e=await this.getUploader(t,t.data);try{for(;!e.isComplete;)await e.uploadChunk()}catch(t){if(e.lastResponseStatus>0)return{status:e.lastResponseStatus,statusText:e.lastResponseError,data:{error:e.lastResponseError}};throw t}return{status:200,statusText:"OK",data:{}}}async getUploader(t,e){let r;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t instanceof u.default){if(e||(e=t.data),!(e instanceof Uint8Array))throw Error("Data format is invalid");t.chunks||await t.prepareChunks(e),(r=new l.TransactionUploader(this.api,t)).data&&0!==r.data.length||(r.data=e)}else{if("string"==typeof t&&(t=await l.TransactionUploader.fromTransactionId(this.api,t)),!e||!(e instanceof Uint8Array))throw Error("Must provide data when resuming upload");r=await l.TransactionUploader.fromSerialized(this.api,t,e)}return r}async *upload(t,e){let r=await this.getUploader(t,e);for(;!r.isComplete;)await r.uploadChunk(),yield r;return r}}e.default=f},1886:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});let s=o(r(8550));r(7615);class a{api;crypto;constructor(t,e){this.api=t,this.crypto=e}getBalance(t){return this.api.get(`wallet/${t}/balance`).then(t=>t.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(t=>t.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return t&&"use_wallet"!==t?this.getAddress(t):this.getAddress()}async getAddress(t){if(t&&"use_wallet"!==t)return this.ownerToAddress(t.n);try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}async ownerToAddress(t){return s.bufferTob64Url(await this.crypto.hash(s.b64UrlToBuffer(t)))}}e.default=a},4311:(t,e,r)=>{"use strict";e.bignum=r(5957),e.define=r(5154).define,e.base=r(2472),e.constants=r(2452),e.decoders=r(9442),e.encoders=r(1233)},5154:(t,e,r)=>{"use strict";let i=r(1233),n=r(9442),o=r(1051);function s(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new s(t,e)},s.prototype._createNamed=function(t){let e=this.name;function r(t){this._initNamed(t,e)}return o(r,t),r.prototype._initNamed=function(e,r){t.call(this,e,r)},new r(this)},s.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n[t])),this.decoders[t]},s.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},s.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i[t])),this.encoders[t]},s.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},4731:(t,e,r)=>{"use strict";let i=r(1051),n=r(9426).b,o=r(2981).Buffer;function s(t,e){if(n.call(this,e),!o.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return a.isEncoderBuffer(t)||(t=new a(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}i(s,n),e.C=s,s.isDecoderBuffer=function(t){return t instanceof s||"object"==typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},s.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},s.prototype.restore=function(t){let e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,n.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");let r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.R=a,a.isEncoderBuffer=function(t){return t instanceof a||"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},a.prototype.join=function(t,e){return t||(t=o.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},2472:(t,e,r)=>{"use strict";e.Reporter=r(9426).b,e.DecoderBuffer=r(4731).C,e.EncoderBuffer=r(4731).R,e.Node=r(9650)},9650:(t,e,r)=>{"use strict";let i=r(9426).b,n=r(4731).R,o=r(4731).C,s=r(614),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function h(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}t.exports=h;let l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){let t=this._baseState,e={};l.forEach(function(r){e[r]=t[r]});let r=new this.constructor(e.parent);return r._baseState=e,r},h.prototype._wrap=function(){let t=this._baseState;u.forEach(function(e){this[e]=function(){let r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},h.prototype._init=function(t){let e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(t){let e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;let e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0),e[t[r]]=r}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){h.prototype[t]=function(){throw Error(t+" not implemented for encoding: "+this._baseState.enc)}}),a.forEach(function(t){h.prototype[t]=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),h.prototype.use=function(t){s(t);let e=this._baseState;return s(null===e.use),e.use=t,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(t){let e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},h.prototype.explicit=function(t){let e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},h.prototype.implicit=function(t){let e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},h.prototype.obj=function(){let t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},h.prototype.key=function(t){let e=this._baseState;return s(null===e.key),e.key=t,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(t){let e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},h.prototype.contains=function(t){let e=this._baseState;return s(null===e.use),e.contains=t,this},h.prototype._decode=function(t,e){let r;let i=this._baseState;if(null===i.parent)return t.wrapResult(i.children[0]._decode(t,e));let n=i.default,s=!0,a=null;if(null!==i.key&&(a=t.enterKey(i.key)),i.optional){let r=null;if(null!==i.explicit?r=i.explicit:null!==i.implicit?r=i.implicit:null!==i.tag&&(r=i.tag),null!==r||i.any){if(s=this._peekTag(t,r,i.any),t.isError(s))return s}else{let r=t.save();try{null===i.choice?this._decodeGeneric(i.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(r)}}if(i.obj&&s&&(r=t.enterObject()),s){if(null!==i.explicit){let e=this._decodeTag(t,i.explicit);if(t.isError(e))return e;t=e}let r=t.offset;if(null===i.use&&null===i.choice){let e;i.any&&(e=t.save());let r=this._decodeTag(t,null!==i.implicit?i.implicit:i.tag,i.any);if(t.isError(r))return r;i.any?n=t.raw(e):t=r}if(e&&e.track&&null!==i.tag&&e.track(t.path(),r,t.length,"tagged"),e&&e.track&&null!==i.tag&&e.track(t.path(),t.offset,t.length,"content"),i.any||(n=null===i.choice?this._decodeGeneric(i.tag,t,e):this._decodeChoice(t,e)),t.isError(n))return n;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(r){r._decode(t,e)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){let r=new o(n);n=this._getUse(i.contains,t._reporterState.obj)._decode(r,e)}}return i.obj&&s&&(n=t.leaveObject(r)),null!==i.key&&(null!==n||!0===s)?t.leaveKey(a,i.key,n):null!==a&&t.exitKey(a),n},h.prototype._decodeGeneric=function(t,e,r){let i=this._baseState;if("seq"===t||"set"===t)return null;if("seqof"===t||"setof"===t)return this._decodeList(e,t,i.args[0],r);if(/str$/.test(t))return this._decodeStr(e,t,r);if("objid"===t&&i.args)return this._decodeObjid(e,i.args[0],i.args[1],r);if("objid"===t)return this._decodeObjid(e,null,null,r);if("gentime"===t||"utctime"===t)return this._decodeTime(e,t,r);if("null_"===t)return this._decodeNull(e,r);if("bool"===t)return this._decodeBool(e,r);else if("objDesc"===t)return this._decodeStr(e,t,r);else if("int"===t||"enum"===t)return this._decodeInt(e,i.args&&i.args[0],r);return null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},h.prototype._getUse=function(t,e){let r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},h.prototype._decodeChoice=function(t,e){let r=this._baseState,i=null,n=!1;return(Object.keys(r.choice).some(function(o){let s=t.save(),a=r.choice[o];try{let r=a._decode(t,e);if(t.isError(r))return!1;i={type:o,value:r},n=!0}catch(e){return t.restore(s),!1}return!0},this),n)?i:t.error("Choice not matched")},h.prototype._createEncoderBuffer=function(t){return new n(t,this.reporter)},h.prototype._encode=function(t,e,r){let i=this._baseState;if(null!==i.default&&i.default===t)return;let n=this._encodeValue(t,e,r);if(void 0!==n&&!this._skipDefault(n,e,r))return n},h.prototype._encodeValue=function(t,e,r){let n=this._baseState;if(null===n.parent)return n.children[0]._encode(t,e||new i);let o=null;if(this.reporter=e,n.optional&&void 0===t){if(null===n.default)return;t=n.default}let s=null,a=!1;if(n.any)o=this._createEncoderBuffer(t);else if(n.choice)o=this._encodeChoice(t,e);else if(n.contains)s=this._getUse(n.contains,r)._encode(t,e),a=!0;else if(n.children)s=n.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");let i=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");let n=r._encode(t[r._baseState.key],e,t);return e.leaveKey(i),n},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if("seqof"===n.tag||"setof"===n.tag){if(!(n.args&&1===n.args.length))return e.error("Too many args for : "+n.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");let r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){let i=this._baseState;return this._getUse(i.args[0],t)._encode(r,e)},r))}else null!==n.use?o=this._getUse(n.use,r)._encode(t,e):(s=this._encodePrimitive(n.tag,t),a=!0);if(!n.any&&null===n.choice){let t=null!==n.implicit?n.implicit:n.tag,r=null===n.implicit?"universal":"context";null===t?null===n.use&&e.error("Tag could be omitted only for .use()"):null===n.use&&(o=this._encodeComposite(t,a,r,s))}return null!==n.explicit&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o},h.prototype._encodeChoice=function(t,e){let r=this._baseState,i=r.choice[t.type];return i||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(t.value,e)},h.prototype._encodePrimitive=function(t,e){let r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);else if("objDesc"===t)return this._encodeStr(e,t);else throw Error("Unsupported tag: "+t)},h.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},h.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},9426:(t,e,r)=>{"use strict";let i=r(1051);function n(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.b=n,n.prototype.isError=function(t){return t instanceof o},n.prototype.save=function(){let t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},n.prototype.restore=function(t){let e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},n.prototype.enterKey=function(t){return this._reporterState.path.push(t)},n.prototype.exitKey=function(t){let e=this._reporterState;e.path=e.path.slice(0,t-1)},n.prototype.leaveKey=function(t,e,r){let i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=r)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){let t=this._reporterState,e=t.obj;return t.obj={},e},n.prototype.leaveObject=function(t){let e=this._reporterState,r=e.obj;return e.obj=t,r},n.prototype.error=function(t){let e;let r=this._reporterState,i=t instanceof o;if(e=i?t:new o(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return i||r.errors.push(e),e},n.prototype.wrapResult=function(t){let e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},i(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw Error(this.message)}catch(t){this.stack=t.stack}return this}},9919:(t,e)=>{"use strict";function r(t){let e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0),e[t[r]]=r}),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},2452:(t,e,r)=>{"use strict";e._reverse=function(t){let e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0),e[t[r]]=r}),e},e.der=r(9919)},748:(t,e,r)=>{"use strict";let i=r(1051),n=r(5957),o=r(4731).C,s=r(9650),a=r(9919);function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){s.call(this,"der",t)}function l(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=a.tagClass[r>>6],n=(32&r)==0;if((31&r)==31){let i=r;for(r=0;(128&i)==128;){if(i=t.readUInt8(e),t.isError(i))return i;r<<=7,r|=127&i}}else r&=31;let o=a.tag[r];return{cls:i,primitive:n,tag:r,tagStr:o}}function f(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&128===i)return null;if((128&i)==0)return i;let n=127&i;if(n>4)return t.error("length octect is too long");i=0;for(let e=0;e<n;e++){i<<=8;let e=t.readUInt8(r);if(t.isError(e))return e;i|=e}return i}t.exports=u,u.prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},i(h,s),h.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;let i=t.save(),n=l(t,'Failed to peek tag: "'+e+'"');return t.isError(n)?n:(t.restore(i),n.tag===e||n.tagStr===e||n.tagStr+"of"===e||r)},h.prototype._decodeTag=function(t,e,r){let i=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;let n=f(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(n))return n;if(!r&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==n)return t.skip(n,'Failed to match body of: "'+e+'"');let o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(n=t.offset-o.offset,t.restore(o),t.skip(n,'Failed to match body of: "'+e+'"'))},h.prototype._skipUntilEnd=function(t,e){for(;;){let r;let i=l(t,e);if(t.isError(i))return i;let n=f(t,i.primitive,e);if(t.isError(n))return n;if(r=i.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(r))return r;if("end"===i.tagStr)break}},h.prototype._decodeList=function(t,e,r,i){let n=[];for(;!t.isEmpty();){let e=this._peekTag(t,"end");if(t.isError(e))return e;let o=r.decode(t,"der",i);if(t.isError(o)&&e)break;n.push(o)}return n},h.prototype._decodeStr=function(t,e){if("bitstr"===e){let e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){let e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){let e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){let e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}if(/str$/.test(e))return t.raw().toString();else return t.error("Decoding of string type: "+e+" unsupported")},h.prototype._decodeObjid=function(t,e,r){let i;let n=[],o=0,s=0;for(;!t.isEmpty();)s=t.readUInt8(),o<<=7,o|=127&s,(128&s)==0&&(n.push(o),o=0);128&s&&n.push(o);let a=n[0]/40|0,u=n[0]%40;if(i=r?n:[a,u].concat(n.slice(1)),e){let t=e[i.join(" ")];void 0===t&&(t=e[i.join(".")]),void 0!==t&&(i=t)}return i},h.prototype._decodeTime=function(t,e){let r,i,n,o,s,a;let u=t.raw().toString();if("gentime"===e)r=0|u.slice(0,4),i=0|u.slice(4,6),n=0|u.slice(6,8),o=0|u.slice(8,10),s=0|u.slice(10,12),a=0|u.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");r=0|u.slice(0,2),i=0|u.slice(2,4),n=0|u.slice(4,6),o=0|u.slice(6,8),s=0|u.slice(8,10),a=0|u.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,n,o,s,a,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(t){let e=t.readUInt8();return t.isError(e)?e:0!==e},h.prototype._decodeInt=function(t,e){let r=new n(t.raw());return e&&(r=e[r.toString(10)]||r),r},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},9442:(t,e,r)=>{"use strict";e.der=r(748),e.pem=r(4268)},4268:(t,e,r)=>{"use strict";let i=r(1051),n=r(2981).Buffer,o=r(748);function s(t){o.call(this,t),this.enc="pem"}i(s,o),t.exports=s,s.prototype.decode=function(t,e){let r=t.toString().split(/[\r\n]+/g),i=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1;for(let t=0;t<r.length;t++){let e=r[t].match(s);if(null!==e&&e[2]===i){if(-1===a){if("BEGIN"!==e[1])break;a=t}else{if("END"!==e[1])break;u=t;break}}}if(-1===a||-1===u)throw Error("PEM section not found for: "+i);let h=r.slice(a+1,u).join("");h.replace(/[^a-z0-9+/=]+/gi,"");let l=n.from(h,"base64");return o.prototype.decode.call(this,l,e)}},7273:(t,e,r)=>{"use strict";let i=r(1051),n=r(2981).Buffer,o=r(9650),s=r(9919);function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.call(this,"der",t)}function h(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(u,o),u.prototype._encodeComposite=function(t,e,r,i){let o=function(t,e,r,i){let n;if("seqof"===t?t="seq":"setof"===t&&(t="set"),s.tagByName.hasOwnProperty(t))n=s.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);n=t}return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=s.tagClassByName[r||"universal"]<<6)}(t,e,r,this.reporter);if(i.length<128){let t=n.alloc(2);return t[0]=o,t[1]=i.length,this._createEncoderBuffer([t,i])}let a=1;for(let t=i.length;t>=256;t>>=8)a++;let u=n.alloc(2+a);u[0]=o,u[1]=128|a;for(let t=1+a,e=i.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,i])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){let e=n.alloc(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let i=0;for(let e=0;e<t.length;e++){let r=t[e];for(i++;r>=128;r>>=7)i++}let o=n.alloc(i),s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},u.prototype._encodeTime=function(t,e){let r;let i=new Date(t);return"gentime"===e?r=[h(i.getUTCFullYear()),h(i.getUTCMonth()+1),h(i.getUTCDate()),h(i.getUTCHours()),h(i.getUTCMinutes()),h(i.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[h(i.getUTCFullYear()%100),h(i.getUTCMonth()+1),h(i.getUTCDate()),h(i.getUTCHours()),h(i.getUTCMinutes()),h(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!n.isBuffer(t)){let e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=n.from(e)}if(n.isBuffer(t)){let e=t.length;0===t.length&&e++;let r=n.alloc(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;let i=Array(r);for(let e=i.length-1;e>=0;e--)i[e]=255&t,t>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(n.from(i))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,r){let i;let n=this._baseState;if(null===n.default)return!1;let o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},1233:(t,e,r)=>{"use strict";e.der=r(7273),e.pem=r(7361)},7361:(t,e,r)=>{"use strict";let i=r(1051),n=r(7273);function o(t){n.call(this,t),this.enc="pem"}i(o,n),t.exports=o,o.prototype.encode=function(t,e){let r=n.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)i.push(r.slice(t,t+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},5957:function(t,e,r){!function(t,e){"use strict";function i(t,e){if(!t)throw Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{h="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8893).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function u(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,a>=49?n+=a-49+10:a>=17?n+=a-17+10:n+=a}return n}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return 0>t.cmp(e)?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var n,o,s=0;s<this.length;s++)this.words[s]=0;var a=0;if("be"===r)for(s=t.length-1,n=0;s>=0;s-=3)o=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[n]|=o<<a&67108863,this.words[n+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);else if("le"===r)for(s=0,n=0;s<t.length;s+=3)o=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[n]|=o<<a&67108863,this.words[n+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var i,n=0;n<this.length;n++)this.words[n]=0;var o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,h=0,l=r;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(n),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var f=1;for(h=u(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h,l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var l=u>>>26,f=67108863&u,c=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=c;d++){var p=h-d|0;l+=(s=(n=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[h]=0|f,u=0|l}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var r,n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=((a<<n|o)&16777215).toString(16);o=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,s--),r=0!==o||s!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],d=c[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?g+r:l[h-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return i(void 0!==h),this.toArrayLike(h,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var n,o,s=this.byteLength(),a=r||Math.max(1,s);i(s<=a,"byte array longer than desired length"),i(a>0,"Requested array length <= 0"),this.strip();var u=new t(a),h=this.clone();if("le"===e){for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),u[o]=n;for(;o<a;o++)u[o]=0}else{for(o=0;o<a-s;o++)u[o]=0;for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),u[a-o-1]=n}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return(8191&e)==0&&(r+=13,e>>>=13),(127&e)==0&&(r+=7,e>>>=7),(15&e)==0&&(r+=4,e>>>=4),(3&e)==0&&(r+=2,e>>>=2),(1&e)==0&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return i((this.negative|t.negative)==0),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return i((this.negative|t.negative)==0),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){this.length>t.length?(e=this,r=t):(e=t,r=this);for(var e,r,i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return i((this.negative|t.negative)==0),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(t){if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var e,r,i,n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e,r,i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(e=this,r=t):(e=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(i=(0|e.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&i;for(;0!==o&&s<e.length;s++)o=(i=(0|e.words[s])+o)>>26,this.words[s]=67108863&i;if(0===o&&s<e.length&&e!==this)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=Math.max(this.length,s),e!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var i,n,o,s=t.words,a=e.words,u=r.words,h=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,w=m>>>13,v=0|s[3],b=8191&v,_=v>>>13,M=0|s[4],E=8191&M,S=M>>>13,k=0|s[5],A=8191&k,O=k>>>13,T=0|s[6],B=8191&T,j=T>>>13,x=0|s[7],N=8191&x,U=x>>>13,P=0|s[8],R=8191&P,D=P>>>13,C=0|s[9],I=8191&C,q=C>>>13,L=0|a[0],$=8191&L,K=L>>>13,H=0|a[1],F=8191&H,z=H>>>13,G=0|a[2],Z=8191&G,J=G>>>13,V=0|a[3],W=8191&V,X=V>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,te=0|a[5],tr=8191&te,ti=te>>>13,tn=0|a[6],to=8191&tn,ts=tn>>>13,ta=0|a[7],tu=8191&ta,th=ta>>>13,tl=0|a[8],tf=8191&tl,tc=tl>>>13,td=0|a[9],tp=8191&td,tg=td>>>13;r.negative=t.negative^e.negative,r.length=19;var tm=(h+(i=Math.imul(f,$))|0)+((8191&(n=(n=Math.imul(f,K))+Math.imul(c,$)|0))<<13)|0;h=((o=Math.imul(c,K))+(n>>>13)|0)+(tm>>>26)|0,tm&=67108863,i=Math.imul(p,$),n=(n=Math.imul(p,K))+Math.imul(g,$)|0,o=Math.imul(g,K);var ty=(h+(i=i+Math.imul(f,F)|0)|0)+((8191&(n=(n=n+Math.imul(f,z)|0)+Math.imul(c,F)|0))<<13)|0;h=((o=o+Math.imul(c,z)|0)+(n>>>13)|0)+(ty>>>26)|0,ty&=67108863,i=Math.imul(y,$),n=(n=Math.imul(y,K))+Math.imul(w,$)|0,o=Math.imul(w,K),i=i+Math.imul(p,F)|0,n=(n=n+Math.imul(p,z)|0)+Math.imul(g,F)|0,o=o+Math.imul(g,z)|0;var tw=(h+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,J)|0)+Math.imul(c,Z)|0))<<13)|0;h=((o=o+Math.imul(c,J)|0)+(n>>>13)|0)+(tw>>>26)|0,tw&=67108863,i=Math.imul(b,$),n=(n=Math.imul(b,K))+Math.imul(_,$)|0,o=Math.imul(_,K),i=i+Math.imul(y,F)|0,n=(n=n+Math.imul(y,z)|0)+Math.imul(w,F)|0,o=o+Math.imul(w,z)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0;var tv=(h+(i=i+Math.imul(f,W)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,W)|0))<<13)|0;h=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(tv>>>26)|0,tv&=67108863,i=Math.imul(E,$),n=(n=Math.imul(E,K))+Math.imul(S,$)|0,o=Math.imul(S,K),i=i+Math.imul(b,F)|0,n=(n=n+Math.imul(b,z)|0)+Math.imul(_,F)|0,o=o+Math.imul(_,z)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,J)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,J)|0,i=i+Math.imul(p,W)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,X)|0;var tb=(h+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;h=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(tb>>>26)|0,tb&=67108863,i=Math.imul(A,$),n=(n=Math.imul(A,K))+Math.imul(O,$)|0,o=Math.imul(O,K),i=i+Math.imul(E,F)|0,n=(n=n+Math.imul(E,z)|0)+Math.imul(S,F)|0,o=o+Math.imul(S,z)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,i=i+Math.imul(y,W)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var t_=(h+(i=i+Math.imul(f,tr)|0)|0)+((8191&(n=(n=n+Math.imul(f,ti)|0)+Math.imul(c,tr)|0))<<13)|0;h=((o=o+Math.imul(c,ti)|0)+(n>>>13)|0)+(t_>>>26)|0,t_&=67108863,i=Math.imul(B,$),n=(n=Math.imul(B,K))+Math.imul(j,$)|0,o=Math.imul(j,K),i=i+Math.imul(A,F)|0,n=(n=n+Math.imul(A,z)|0)+Math.imul(O,F)|0,o=o+Math.imul(O,z)|0,i=i+Math.imul(E,Z)|0,n=(n=n+Math.imul(E,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,i=i+Math.imul(b,W)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,i=i+Math.imul(p,tr)|0,n=(n=n+Math.imul(p,ti)|0)+Math.imul(g,tr)|0,o=o+Math.imul(g,ti)|0;var tM=(h+(i=i+Math.imul(f,to)|0)|0)+((8191&(n=(n=n+Math.imul(f,ts)|0)+Math.imul(c,to)|0))<<13)|0;h=((o=o+Math.imul(c,ts)|0)+(n>>>13)|0)+(tM>>>26)|0,tM&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,K))+Math.imul(U,$)|0,o=Math.imul(U,K),i=i+Math.imul(B,F)|0,n=(n=n+Math.imul(B,z)|0)+Math.imul(j,F)|0,o=o+Math.imul(j,z)|0,i=i+Math.imul(A,Z)|0,n=(n=n+Math.imul(A,J)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,J)|0,i=i+Math.imul(E,W)|0,n=(n=n+Math.imul(E,X)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,i=i+Math.imul(y,tr)|0,n=(n=n+Math.imul(y,ti)|0)+Math.imul(w,tr)|0,o=o+Math.imul(w,ti)|0,i=i+Math.imul(p,to)|0,n=(n=n+Math.imul(p,ts)|0)+Math.imul(g,to)|0,o=o+Math.imul(g,ts)|0;var tE=(h+(i=i+Math.imul(f,tu)|0)|0)+((8191&(n=(n=n+Math.imul(f,th)|0)+Math.imul(c,tu)|0))<<13)|0;h=((o=o+Math.imul(c,th)|0)+(n>>>13)|0)+(tE>>>26)|0,tE&=67108863,i=Math.imul(R,$),n=(n=Math.imul(R,K))+Math.imul(D,$)|0,o=Math.imul(D,K),i=i+Math.imul(N,F)|0,n=(n=n+Math.imul(N,z)|0)+Math.imul(U,F)|0,o=o+Math.imul(U,z)|0,i=i+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,J)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,J)|0,i=i+Math.imul(A,W)|0,n=(n=n+Math.imul(A,X)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,X)|0,i=i+Math.imul(E,Q)|0,n=(n=n+Math.imul(E,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,i=i+Math.imul(b,tr)|0,n=(n=n+Math.imul(b,ti)|0)+Math.imul(_,tr)|0,o=o+Math.imul(_,ti)|0,i=i+Math.imul(y,to)|0,n=(n=n+Math.imul(y,ts)|0)+Math.imul(w,to)|0,o=o+Math.imul(w,ts)|0,i=i+Math.imul(p,tu)|0,n=(n=n+Math.imul(p,th)|0)+Math.imul(g,tu)|0,o=o+Math.imul(g,th)|0;var tS=(h+(i=i+Math.imul(f,tf)|0)|0)+((8191&(n=(n=n+Math.imul(f,tc)|0)+Math.imul(c,tf)|0))<<13)|0;h=((o=o+Math.imul(c,tc)|0)+(n>>>13)|0)+(tS>>>26)|0,tS&=67108863,i=Math.imul(I,$),n=(n=Math.imul(I,K))+Math.imul(q,$)|0,o=Math.imul(q,K),i=i+Math.imul(R,F)|0,n=(n=n+Math.imul(R,z)|0)+Math.imul(D,F)|0,o=o+Math.imul(D,z)|0,i=i+Math.imul(N,Z)|0,n=(n=n+Math.imul(N,J)|0)+Math.imul(U,Z)|0,o=o+Math.imul(U,J)|0,i=i+Math.imul(B,W)|0,n=(n=n+Math.imul(B,X)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,X)|0,i=i+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,i=i+Math.imul(E,tr)|0,n=(n=n+Math.imul(E,ti)|0)+Math.imul(S,tr)|0,o=o+Math.imul(S,ti)|0,i=i+Math.imul(b,to)|0,n=(n=n+Math.imul(b,ts)|0)+Math.imul(_,to)|0,o=o+Math.imul(_,ts)|0,i=i+Math.imul(y,tu)|0,n=(n=n+Math.imul(y,th)|0)+Math.imul(w,tu)|0,o=o+Math.imul(w,th)|0,i=i+Math.imul(p,tf)|0,n=(n=n+Math.imul(p,tc)|0)+Math.imul(g,tf)|0,o=o+Math.imul(g,tc)|0;var tk=(h+(i=i+Math.imul(f,tp)|0)|0)+((8191&(n=(n=n+Math.imul(f,tg)|0)+Math.imul(c,tp)|0))<<13)|0;h=((o=o+Math.imul(c,tg)|0)+(n>>>13)|0)+(tk>>>26)|0,tk&=67108863,i=Math.imul(I,F),n=(n=Math.imul(I,z))+Math.imul(q,F)|0,o=Math.imul(q,z),i=i+Math.imul(R,Z)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,J)|0,i=i+Math.imul(N,W)|0,n=(n=n+Math.imul(N,X)|0)+Math.imul(U,W)|0,o=o+Math.imul(U,X)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,tt)|0,i=i+Math.imul(A,tr)|0,n=(n=n+Math.imul(A,ti)|0)+Math.imul(O,tr)|0,o=o+Math.imul(O,ti)|0,i=i+Math.imul(E,to)|0,n=(n=n+Math.imul(E,ts)|0)+Math.imul(S,to)|0,o=o+Math.imul(S,ts)|0,i=i+Math.imul(b,tu)|0,n=(n=n+Math.imul(b,th)|0)+Math.imul(_,tu)|0,o=o+Math.imul(_,th)|0,i=i+Math.imul(y,tf)|0,n=(n=n+Math.imul(y,tc)|0)+Math.imul(w,tf)|0,o=o+Math.imul(w,tc)|0;var tA=(h+(i=i+Math.imul(p,tp)|0)|0)+((8191&(n=(n=n+Math.imul(p,tg)|0)+Math.imul(g,tp)|0))<<13)|0;h=((o=o+Math.imul(g,tg)|0)+(n>>>13)|0)+(tA>>>26)|0,tA&=67108863,i=Math.imul(I,Z),n=(n=Math.imul(I,J))+Math.imul(q,Z)|0,o=Math.imul(q,J),i=i+Math.imul(R,W)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(D,W)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(N,Q)|0,n=(n=n+Math.imul(N,tt)|0)+Math.imul(U,Q)|0,o=o+Math.imul(U,tt)|0,i=i+Math.imul(B,tr)|0,n=(n=n+Math.imul(B,ti)|0)+Math.imul(j,tr)|0,o=o+Math.imul(j,ti)|0,i=i+Math.imul(A,to)|0,n=(n=n+Math.imul(A,ts)|0)+Math.imul(O,to)|0,o=o+Math.imul(O,ts)|0,i=i+Math.imul(E,tu)|0,n=(n=n+Math.imul(E,th)|0)+Math.imul(S,tu)|0,o=o+Math.imul(S,th)|0,i=i+Math.imul(b,tf)|0,n=(n=n+Math.imul(b,tc)|0)+Math.imul(_,tf)|0,o=o+Math.imul(_,tc)|0;var tO=(h+(i=i+Math.imul(y,tp)|0)|0)+((8191&(n=(n=n+Math.imul(y,tg)|0)+Math.imul(w,tp)|0))<<13)|0;h=((o=o+Math.imul(w,tg)|0)+(n>>>13)|0)+(tO>>>26)|0,tO&=67108863,i=Math.imul(I,W),n=(n=Math.imul(I,X))+Math.imul(q,W)|0,o=Math.imul(q,X),i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,tt)|0,i=i+Math.imul(N,tr)|0,n=(n=n+Math.imul(N,ti)|0)+Math.imul(U,tr)|0,o=o+Math.imul(U,ti)|0,i=i+Math.imul(B,to)|0,n=(n=n+Math.imul(B,ts)|0)+Math.imul(j,to)|0,o=o+Math.imul(j,ts)|0,i=i+Math.imul(A,tu)|0,n=(n=n+Math.imul(A,th)|0)+Math.imul(O,tu)|0,o=o+Math.imul(O,th)|0,i=i+Math.imul(E,tf)|0,n=(n=n+Math.imul(E,tc)|0)+Math.imul(S,tf)|0,o=o+Math.imul(S,tc)|0;var tT=(h+(i=i+Math.imul(b,tp)|0)|0)+((8191&(n=(n=n+Math.imul(b,tg)|0)+Math.imul(_,tp)|0))<<13)|0;h=((o=o+Math.imul(_,tg)|0)+(n>>>13)|0)+(tT>>>26)|0,tT&=67108863,i=Math.imul(I,Q),n=(n=Math.imul(I,tt))+Math.imul(q,Q)|0,o=Math.imul(q,tt),i=i+Math.imul(R,tr)|0,n=(n=n+Math.imul(R,ti)|0)+Math.imul(D,tr)|0,o=o+Math.imul(D,ti)|0,i=i+Math.imul(N,to)|0,n=(n=n+Math.imul(N,ts)|0)+Math.imul(U,to)|0,o=o+Math.imul(U,ts)|0,i=i+Math.imul(B,tu)|0,n=(n=n+Math.imul(B,th)|0)+Math.imul(j,tu)|0,o=o+Math.imul(j,th)|0,i=i+Math.imul(A,tf)|0,n=(n=n+Math.imul(A,tc)|0)+Math.imul(O,tf)|0,o=o+Math.imul(O,tc)|0;var tB=(h+(i=i+Math.imul(E,tp)|0)|0)+((8191&(n=(n=n+Math.imul(E,tg)|0)+Math.imul(S,tp)|0))<<13)|0;h=((o=o+Math.imul(S,tg)|0)+(n>>>13)|0)+(tB>>>26)|0,tB&=67108863,i=Math.imul(I,tr),n=(n=Math.imul(I,ti))+Math.imul(q,tr)|0,o=Math.imul(q,ti),i=i+Math.imul(R,to)|0,n=(n=n+Math.imul(R,ts)|0)+Math.imul(D,to)|0,o=o+Math.imul(D,ts)|0,i=i+Math.imul(N,tu)|0,n=(n=n+Math.imul(N,th)|0)+Math.imul(U,tu)|0,o=o+Math.imul(U,th)|0,i=i+Math.imul(B,tf)|0,n=(n=n+Math.imul(B,tc)|0)+Math.imul(j,tf)|0,o=o+Math.imul(j,tc)|0;var tj=(h+(i=i+Math.imul(A,tp)|0)|0)+((8191&(n=(n=n+Math.imul(A,tg)|0)+Math.imul(O,tp)|0))<<13)|0;h=((o=o+Math.imul(O,tg)|0)+(n>>>13)|0)+(tj>>>26)|0,tj&=67108863,i=Math.imul(I,to),n=(n=Math.imul(I,ts))+Math.imul(q,to)|0,o=Math.imul(q,ts),i=i+Math.imul(R,tu)|0,n=(n=n+Math.imul(R,th)|0)+Math.imul(D,tu)|0,o=o+Math.imul(D,th)|0,i=i+Math.imul(N,tf)|0,n=(n=n+Math.imul(N,tc)|0)+Math.imul(U,tf)|0,o=o+Math.imul(U,tc)|0;var tx=(h+(i=i+Math.imul(B,tp)|0)|0)+((8191&(n=(n=n+Math.imul(B,tg)|0)+Math.imul(j,tp)|0))<<13)|0;h=((o=o+Math.imul(j,tg)|0)+(n>>>13)|0)+(tx>>>26)|0,tx&=67108863,i=Math.imul(I,tu),n=(n=Math.imul(I,th))+Math.imul(q,tu)|0,o=Math.imul(q,th),i=i+Math.imul(R,tf)|0,n=(n=n+Math.imul(R,tc)|0)+Math.imul(D,tf)|0,o=o+Math.imul(D,tc)|0;var tN=(h+(i=i+Math.imul(N,tp)|0)|0)+((8191&(n=(n=n+Math.imul(N,tg)|0)+Math.imul(U,tp)|0))<<13)|0;h=((o=o+Math.imul(U,tg)|0)+(n>>>13)|0)+(tN>>>26)|0,tN&=67108863,i=Math.imul(I,tf),n=(n=Math.imul(I,tc))+Math.imul(q,tf)|0,o=Math.imul(q,tc);var tU=(h+(i=i+Math.imul(R,tp)|0)|0)+((8191&(n=(n=n+Math.imul(R,tg)|0)+Math.imul(D,tp)|0))<<13)|0;h=((o=o+Math.imul(D,tg)|0)+(n>>>13)|0)+(tU>>>26)|0,tU&=67108863;var tP=(h+(i=Math.imul(I,tp))|0)+((8191&(n=(n=Math.imul(I,tg))+Math.imul(q,tp)|0))<<13)|0;return h=((o=Math.imul(q,tg))+(n>>>13)|0)+(tP>>>26)|0,tP&=67108863,u[0]=tm,u[1]=ty,u[2]=tw,u[3]=tv,u[4]=tb,u[5]=t_,u[6]=tM,u[7]=tE,u[8]=tS,u[9]=tk,u[10]=tA,u[11]=tO,u[12]=tT,u[13]=tB,u[14]=tj,u[15]=tx,u[16]=tN,u[17]=tU,u[18]=tP,0!==h&&(u[19]=h,r.length++),r};function g(t,e,r){return new m().mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?d(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,u=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=u;h++){var l=o-h,f=(0|t.words[l])*(0|e.words[h]),c=67108863&f;s=s+(f/67108864|0)|0,a=67108863&(c=c+a|0),n+=(s=s+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):g(this,t,e)},m.prototype.makeRBT=function(t){for(var e=Array(t),r=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},m.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},m.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=u,c=h,d=0;d<s;d++){var p=r[l+d],g=i[l+d],m=r[l+d+s],y=i[l+d+s],w=f*m-c*y;y=f*y+c*m,m=w,r[l+d]=p+m,i[l+d]=g+y,r[l+d+s]=p-m,i[l+d+s]=g-y,d!==a&&(w=u*f-h*c,c=u*c+h*f,f=w)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},m.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,e,r,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)r[s]=0;i(0===o),i((-8192&o)==0)},m.prototype.stub=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=Array(i),a=Array(i),u=Array(i),h=Array(i),l=Array(i),f=Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,h,i),this.transform(s,o,a,u,i,n),this.transform(h,o,l,f,i,n);for(var d=0;d<i;d++){var p=a[d]*l[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,i),this.transform(a,u,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=(n/67108864|0)+(o>>>26),this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this.length=0===t?1:this.length,this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new o(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var n,o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o;if(n-=s,n=Math.max(0,n),r){for(var u=0;u<s;u++)r.words[u]=this.words[u];r.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var l=0|this.words[u];this.words[u]=h<<26-o|l>>>o,h=l&a}return r&&0!==h&&(r.words[r.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return!(this.length<=r)&&!!(this.words[r]&1<<e)},o.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;return(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==e&&r++,this.length=Math.min(r,this.length),0!==e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return(i("number"==typeof t),i(t<67108864),t<0)?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var n,o,s=t.length+r;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;o-=67108863&u,a=(o>>26)-(u/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r,i=this.length-t.length,n=this.clone(),s=t,a=0|s.words[s.length-1];0!=(i=26-this._countBits(a))&&(s=s.ushln(i),n.iushln(i),a=0|s.words[s.length-1]);var u=n.length-s.length;if("mod"!==e){(r=new o(null)).length=u+1,r.words=Array(r.length);for(var h=0;h<r.length;h++)r.words[h]=0}var l=n.clone()._ishlnsubmul(s,1,u);0===l.negative&&(n=l,r&&(r.words[u]=1));for(var f=u-1;f>=0;f--){var c=(0|n.words[s.length+f])*67108864+(0|n.words[s.length+f-1]);for(c=Math.min(c/a|0,67108863),n._ishlnsubmul(s,c,f);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(s,1,f),n.isZero()||(n.negative^=1);r&&(r.words[f]=c)}return r&&r.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},o.prototype.divmod=function(t,e,r){var n,s,a;return(i(!t.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):(this.negative&t.negative)!=0?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||0>this.cmp(t)?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},o.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new o(1),s=new o(0),a=new o(0),u=new o(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var l=r.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;(e.words[0]&d)==0&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(l),s.isub(f)),n.iushrn(1),s.iushrn(1);for(var p=0,g=1;(r.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),s.isub(u)):(r.isub(e),a.isub(n),u.isub(s))}return{a:a,b:u,gcd:r.iushln(h)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e,r=this,n=t.clone();r=0!==r.negative?r.umod(t):r.clone();for(var s=new o(1),a=new o(0),u=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var h=0,l=1;(r.words[0]&l)==0&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,c=1;(n.words[0]&c)==0&&f<26;++f,c<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);r.cmp(n)>=0?(r.isub(n),s.isub(a)):(n.isub(r),a.isub(s))}return 0>(e=0===r.cmpn(1)?s:a).cmpn(0)&&e.iadd(t),e},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return -1===this.cmpn(t)},o.prototype.lt=function(t){return -1===this.cmp(t)},o.prototype.lten=function(t){return 0>=this.cmpn(t)},o.prototype.lte=function(t){return 0>=this.cmp(t)},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},n(v,w),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9){t.words[0]=0,t.length=1;return}var n=t.words[9];for(i=10,e.words[e.length++]=4194303&n;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,w),n(_,w),n(M,w),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=(0|t.words[r])*19+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){var e;if(y[t])return y[t];if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new _;else if("p25519"===t)e=new M;else throw Error("Unknown prime "+t);return y[t]=e,e},E.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){i((t.negative|e.negative)==0,"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,h).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,n),c=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();i(m<p);var y=this.pow(f,new o(1).iushln(p-m-1));c=c.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],l=u-1;l>=0;l--){var f=h>>l&1;if(n!==r[0]&&(n=this.sqr(n)),0===f&&0===s){a=0;continue}s<<=1,s|=f,(4==++a||0===i&&0===l)&&(n=this.mul(n,r[s]),a=0,s=0)}u=26}return n},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},n(S,E),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):0>n.cmpn(0)&&(s=n.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},714:(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],i=e[1];return(r+i)*3/4-i},e.toByteArray=function(t){var e,r,o=u(t),s=o[0],a=o[1],h=new n((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],h[l++]=e>>16&255,h[l++]=e>>8&255,h[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,h[l++]=255&e),1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,h[l++]=e>>8&255,h[l++]=255&e),h},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,o=[],s=0,a=i-n;s<a;s+=16383)o.push(function(t,e,i){for(var n,o=[],s=e;s<i;s+=3)o.push(r[(n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===n?o.push(r[(e=t[i-1])>>2]+r[e<<4&63]+"=="):2===n&&o.push(r[(e=(t[i-2]<<8)+t[i-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var i=r===e?0:4-r%4;return[r,i]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8254:function(t,e,r){var i;!function(n){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,h="[BigNumber Error] ",l=h+"Number primitive has more than 15 significant digits: ",f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function c(t){var e=0|t;return t>0||t===e?e:e-1}function d(t){for(var e,r,i=1,n=t.length,o=t[0]+"";i<n;){for(r=14-(e=t[i++]+"").length;r--;e="0"+e);o+=e}for(n=o.length;48===o.charCodeAt(--n););return o.slice(0,n+1||1)}function p(t,e){var r,i,n=t.c,o=e.c,s=t.s,a=e.s,u=t.e,h=e.e;if(!s||!a)return null;if(r=n&&!n[0],i=o&&!o[0],r||i)return r?i?0:-a:s;if(s!=a)return s;if(r=s<0,i=u==h,!n||!o)return i?0:!n^r?1:-1;if(!i)return u>h^r?1:-1;for(s=0,a=(u=n.length)<(h=o.length)?u:h;s<a;s++)if(n[s]!=o[s])return n[s]>o[s]^r?1:-1;return u==h?0:u>h^r?1:-1}function g(t,e,r,i){if(t<e||t>r||t!==u(t))throw Error(h+(i||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function m(t){var e=t.c.length-1;return c(t.e/14)==e&&t.c[e]%2!=0}function y(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function w(t,e,r){var i,n;if(e<0){for(n=r+".";++e;n+=r);t=n+t}else if(i=t.length,++e>i){for(n=r,e-=i;--e;n+=r);t+=n}else e<i&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var r,i,n,o,v,b,_,M,E,S=I.prototype={constructor:I,toString:null,valueOf:null},k=new I(1),A=20,O=4,T=-7,B=21,j=-1e7,x=1e7,N=!1,U=1,P=0,R={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},D="0123456789abcdefghijklmnopqrstuvwxyz",C=!0;function I(t,e){var r,i,n,o,a,h,f,c,d=this;if(!(d instanceof I))return new I(t,e);if(null==e){if(t&&!0===t._isBigNumber){d.s=t.s,!t.c||t.e>x?d.c=d.e=null:t.e<j?d.c=[d.e=0]:(d.e=t.e,d.c=t.c.slice());return}if((h="number"==typeof t)&&0*t==0){if(d.s=1/t<0?(t=-t,-1):1,t===~~t){for(o=0,a=t;a>=10;a/=10,o++);o>x?d.c=d.e=null:(d.e=o,d.c=[t]);return}c=String(t)}else{if(!s.test(c=String(t)))return E(d,c,h);d.s=45==c.charCodeAt(0)?(c=c.slice(1),-1):1}(o=c.indexOf("."))>-1&&(c=c.replace(".","")),(a=c.search(/e/i))>0?(o<0&&(o=a),o+=+c.slice(a+1),c=c.substring(0,a)):o<0&&(o=c.length)}else{if(g(e,2,D.length,"Base"),10==e&&C)return K(d=new I(t),A+d.e+1,O);if(c=String(t),h="number"==typeof t){if(0*t!=0)return E(d,c,h,e);if(d.s=1/t<0?(c=c.slice(1),-1):1,I.DEBUG&&c.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else d.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1;for(r=D.slice(0,e),o=a=0,f=c.length;a<f;a++)if(0>r.indexOf(i=c.charAt(a))){if("."==i){if(a>o){o=f;continue}}else if(!n&&(c==c.toUpperCase()&&(c=c.toLowerCase())||c==c.toLowerCase()&&(c=c.toUpperCase()))){n=!0,a=-1,o=0;continue}return E(d,String(t),h,e)}h=!1,(o=(c=M(c,e,10,d.s)).indexOf("."))>-1?c=c.replace(".",""):o=c.length}for(a=0;48===c.charCodeAt(a);a++);for(f=c.length;48===c.charCodeAt(--f););if(c=c.slice(a,++f)){if(f-=a,h&&I.DEBUG&&f>15&&(t>9007199254740991||t!==u(t)))throw Error(l+d.s*t);if((o=o-a-1)>x)d.c=d.e=null;else if(o<j)d.c=[d.e=0];else{if(d.e=o,d.c=[],a=(o+1)%14,o<0&&(a+=14),a<f){for(a&&d.c.push(+c.slice(0,a)),f-=14;a<f;)d.c.push(+c.slice(a,a+=14));a=14-(c=c.slice(a)).length}else a-=f;for(;a--;c+="0");d.c.push(+c)}}else d.c=[d.e=0]}function q(t,e,r,i){var n,o,s,a,u;if(null==r?r=O:g(r,0,8),!t.c)return t.toString();if(n=t.c[0],s=t.e,null==e)u=d(t.c),u=1==i||2==i&&(s<=T||s>=B)?y(u,s):w(u,s,"0");else if(o=(t=K(new I(t),e,r)).e,a=(u=d(t.c)).length,1==i||2==i&&(e<=o||o<=T)){for(;a<e;u+="0",a++);u=y(u,o)}else if(e-=s+(2===i&&o>s),u=w(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&n?"-"+u:u}function L(t,e){for(var r,i,n=1,o=new I(t[0]);n<t.length;n++)(i=new I(t[n])).s&&(r=p(o,i))!==e&&(0!==r||o.s!==e)||(o=i);return o}function $(t,e,r){for(var i=1,n=e.length;!e[--n];e.pop());for(n=e[0];n>=10;n/=10,i++);return(r=i+14*r-1)>x?t.c=t.e=null:r<j?t.c=[t.e=0]:(t.e=r,t.c=e),t}function K(t,e,r,i){var n,o,s,h,l,c,d,p=t.c;if(p){t:{for(n=1,h=p[0];h>=10;h/=10,n++);if((o=e-n)<0)o+=14,s=e,d=u((l=p[c=0])/f[n-s-1]%10);else if((c=a((o+1)/14))>=p.length){if(i){for(;p.length<=c;p.push(0));l=d=0,n=1,o%=14,s=o-14+1}else break t}else{for(n=1,l=h=p[c];h>=10;h/=10,n++);o%=14,d=(s=o-14+n)<0?0:u(l/f[n-s-1]%10)}if(i=i||e<0||null!=p[c+1]||(s<0?l:l%f[n-s-1]),i=r<4?(d||i)&&(0==r||r==(t.s<0?3:2)):d>5||5==d&&(4==r||i||6==r&&(o>0?s>0?l/f[n-s]:0:p[c-1])%10&1||r==(t.s<0?8:7)),e<1||!p[0])return p.length=0,i?(e-=t.e+1,p[0]=f[(14-e%14)%14],t.e=-e||0):p[0]=t.e=0,t;if(0==o?(p.length=c,h=1,c--):(p.length=c+1,h=f[14-o],p[c]=s>0?u(l/f[n-s]%f[s])*h:0),i)for(;;){if(0==c){for(o=1,s=p[0];s>=10;s/=10,o++);for(s=p[0]+=h,h=1;s>=10;s/=10,h++);o!=h&&(t.e++,1e14==p[0]&&(p[0]=1));break}if(p[c]+=h,1e14!=p[c])break;p[c--]=0,h=1}for(o=p.length;0===p[--o];p.pop());}t.e>x?t.c=t.e=null:t.e<j&&(t.c=[t.e=0])}return t}function H(t){var e,r=t.e;return null===r?t.toString():(e=d(t.c),e=r<=T||r>=B?y(e,r):w(e,r,"0"),t.s<0?"-"+e:e)}return I.clone=t,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.EUCLID=9,I.config=I.set=function(t){var e,r;if(null!=t){if("object"==typeof t){if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(g(r=t[e],0,1e9,e),A=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(g(r=t[e],0,8,e),O=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(g(r[0],-1e9,0,e),g(r[1],0,1e9,e),T=r[0],B=r[1]):(g(r,-1e9,1e9,e),T=-(B=r<0?-r:r))),t.hasOwnProperty(e="RANGE")){if((r=t[e])&&r.pop)g(r[0],-1e9,-1,e),g(r[1],1,1e9,e),j=r[0],x=r[1];else if(g(r,-1e9,1e9,e),r)j=-(x=r<0?-r:r);else throw Error(h+e+" cannot be zero: "+r)}if(t.hasOwnProperty(e="CRYPTO")){if(!!(r=t[e])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))N=r;else throw N=!r,Error(h+"crypto unavailable")}else N=r}else throw Error(h+e+" not true or false: "+r)}if(t.hasOwnProperty(e="MODULO_MODE")&&(g(r=t[e],0,9,e),U=r),t.hasOwnProperty(e="POW_PRECISION")&&(g(r=t[e],0,1e9,e),P=r),t.hasOwnProperty(e="FORMAT")){if("object"==typeof(r=t[e]))R=r;else throw Error(h+e+" not an object: "+r)}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(h+e+" invalid: "+r);C="0123456789"==r.slice(0,10),D=r}}else throw Error(h+"Object expected: "+t)}return{DECIMAL_PLACES:A,ROUNDING_MODE:O,EXPONENTIAL_AT:[T,B],RANGE:[j,x],CRYPTO:N,MODULO_MODE:U,POW_PRECISION:P,FORMAT:R,ALPHABET:D}},I.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!I.DEBUG)return!0;var e,r,i=t.c,n=t.e,o=t.s;t:if("[object Array]"==({}).toString.call(i)){if((1===o||-1===o)&&n>=-1e9&&n<=1e9&&n===u(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break t}if((e=(n+1)%14)<1&&(e+=14),String(i[0]).length==e){for(e=0;e<i.length;e++)if((r=i[e])<0||r>=1e14||r!==u(r))break t;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===o||1===o||-1===o))return!0;throw Error(h+"Invalid BigNumber: "+t)},I.maximum=I.max=function(){return L(arguments,-1)},I.minimum=I.min=function(){return L(arguments,1)},I.random=(r=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(t){var e,i,n,o,s,l=0,c=[],d=new I(k);if(null==t?t=A:g(t,0,1e9),o=a(t/14),N){if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(o*=2));l<o;)(s=131072*e[l]+(e[l+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),e[l]=i[0],e[l+1]=i[1]):(c.push(s%1e14),l+=2);l=o/2}else if(crypto.randomBytes){for(e=crypto.randomBytes(o*=7);l<o;)(s=(31&e[l])*281474976710656+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(c.push(s%1e14),l+=7);l=o/7}else throw N=!1,Error(h+"crypto unavailable")}if(!N)for(;l<o;)(s=r())<9e15&&(c[l++]=s%1e14);for(o=c[--l],t%=14,o&&t&&(s=f[14-t],c[l]=u(o/s)*s);0===c[l];c.pop(),l--);if(l<0)c=[n=0];else{for(n=-1;0===c[0];c.splice(0,1),n-=14);for(l=1,s=c[0];s>=10;s/=10,l++);l<14&&(n-=14-l)}return d.e=n,d.c=c,d}),I.sum=function(){for(var t=1,e=arguments,r=new I(e[0]);t<e.length;)r=r.plus(e[t++]);return r},M=function(){var t="0123456789";function e(t,e,r,i){for(var n,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=i.indexOf(t.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(null==s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}return function(r,i,n,o,s){var a,u,h,l,f,c,p,g,m=r.indexOf("."),y=A,v=O;for(m>=0&&(l=P,P=0,r=r.replace(".",""),c=(g=new I(i)).pow(r.length-m),P=l,g.c=e(w(d(c.c),c.e,"0"),10,n,t),g.e=g.c.length),h=l=(p=e(r,i,n,s?(a=D,t):(a=t,D))).length;0==p[--l];p.pop());if(!p[0])return a.charAt(0);if(m<0?--h:(c.c=p,c.e=h,c.s=o,p=(c=_(c,g,y,v,n)).c,f=c.r,h=c.e),m=p[u=h+y+1],l=n/2,f=f||u<0||null!=p[u+1],f=v<4?(null!=m||f)&&(0==v||v==(c.s<0?3:2)):m>l||m==l&&(4==v||f||6==v&&1&p[u-1]||v==(c.s<0?8:7)),u<1||!p[0])r=f?w(a.charAt(1),-y,a.charAt(0)):a.charAt(0);else{if(p.length=u,f)for(--n;++p[--u]>n;)p[u]=0,u||(++h,p=[1].concat(p));for(l=p.length;!p[--l];);for(m=0,r="";m<=l;r+=a.charAt(p[m++]));r=w(r,h,a.charAt(0))}return r}}(),_=function(){function t(t,e,r){var i,n,o,s,a=0,u=t.length,h=e%1e7,l=e/1e7|0;for(t=t.slice();u--;)i=l*(o=t[u]%1e7)+(s=t[u]/1e7|0)*h,a=((n=h*o+i%1e7*1e7+a)/r|0)+(i/1e7|0)+l*s,t[u]=n%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,i){var n,o;if(r!=i)o=r>i?1:-1;else for(n=o=0;n<r;n++)if(t[n]!=e[n]){o=t[n]>e[n]?1:-1;break}return o}function r(t,e,r,i){for(var n=0;r--;)t[r]-=n,n=t[r]<e[r]?1:0,t[r]=n*i+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(i,n,o,s,a){var h,l,f,d,p,g,m,y,w,v,b,_,M,E,S,k,A,O=i.s==n.s?1:-1,T=i.c,B=n.c;if(!T||!T[0]||!B||!B[0])return new I(i.s&&n.s&&(T?!B||T[0]!=B[0]:B)?T&&0==T[0]||!B?0*O:O/0:NaN);for(w=(y=new I(O)).c=[],O=o+(l=i.e-n.e)+1,a||(a=1e14,l=c(i.e/14)-c(n.e/14),O=O/14|0),f=0;B[f]==(T[f]||0);f++);if(B[f]>(T[f]||0)&&l--,O<0)w.push(1),d=!0;else{for(E=T.length,k=B.length,f=0,O+=2,(p=u(a/(B[0]+1)))>1&&(B=t(B,p,a),T=t(T,p,a),k=B.length,E=T.length),M=k,b=(v=T.slice(0,k)).length;b<k;v[b++]=0);A=[0].concat(A=B.slice()),S=B[0],B[1]>=a/2&&S++;do{if(p=0,(h=e(B,v,k,b))<0){if(_=v[0],k!=b&&(_=_*a+(v[1]||0)),(p=u(_/S))>1)for(p>=a&&(p=a-1),m=(g=t(B,p,a)).length,b=v.length;1==e(g,v,m,b);)p--,r(g,k<m?A:B,m,a),m=g.length,h=1;else 0==p&&(h=p=1),m=(g=B.slice()).length;if(m<b&&(g=[0].concat(g)),r(v,g,b,a),b=v.length,-1==h)for(;1>e(B,v,k,b);)p++,r(v,k<b?A:B,b,a),b=v.length}else 0===h&&(p++,v=[0]);w[f++]=p,v[0]?v[b++]=T[M]||0:(v=[T[M]],b=1)}while((M++<E||null!=v[0])&&O--);d=null!=v[0],w[0]||w.splice(0,1)}if(1e14==a){for(f=1,O=w[0];O>=10;O/=10,f++);K(y,o+(y.e=f+14*l-1)+1,s,d)}else y.e=l,y.r=+d;return y}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,n=/^([^.]+)\.$/,o=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g,E=function(t,e,r,s){var a,u=r?e:e.replace(b,"");if(v.test(u))t.s=isNaN(u)?null:u<0?-1:1;else{if(!r&&(u=u.replace(i,function(t,e,r){return a="x"==(r=r.toLowerCase())?16:"b"==r?2:8,s&&s!=a?t:e}),s&&(a=s,u=u.replace(n,"$1").replace(o,"0.$1")),e!=u))return new I(u,a);if(I.DEBUG)throw Error(h+"Not a"+(s?" base "+s:"")+" number: "+e);t.s=null}t.c=t.e=null},S.absoluteValue=S.abs=function(){var t=new I(this);return t.s<0&&(t.s=1),t},S.comparedTo=function(t,e){return p(this,new I(t,e))},S.decimalPlaces=S.dp=function(t,e){var r,i,n;if(null!=t)return g(t,0,1e9),null==e?e=O:g(e,0,8),K(new I(this),t+this.e+1,e);if(!(r=this.c))return null;if(i=((n=r.length-1)-c(this.e/14))*14,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},S.dividedBy=S.div=function(t,e){return _(this,new I(t,e),A,O)},S.dividedToIntegerBy=S.idiv=function(t,e){return _(this,new I(t,e),0,1)},S.exponentiatedBy=S.pow=function(t,e){var r,i,n,o,s,l,f,c,d,p=this;if((t=new I(t)).c&&!t.isInteger())throw Error(h+"Exponent not an integer: "+H(t));if(null!=e&&(e=new I(e)),l=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return d=new I(Math.pow(+H(p),l?t.s*(2-m(t)):+H(t))),e?d.mod(e):d;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new I(NaN);(i=!f&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return o=p.s<0&&m(t)?-0:0,p.e>-1&&(o=1/o),new I(f?1/o:o);P&&(o=a(P/14+2))}for(l?(r=new I(.5),f&&(t.s=1),c=m(t)):c=(n=Math.abs(+H(t)))%2,d=new I(k);;){if(c){if(!(d=d.times(p)).c)break;o?d.c.length>o&&(d.c.length=o):i&&(d=d.mod(e))}if(n){if(0===(n=u(n/2)))break;c=n%2}else if(K(t=t.times(r),t.e+1,1),t.e>14)c=m(t);else{if(0==(n=+H(t)))break;c=n%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):i&&(p=p.mod(e))}return i?d:(f&&(d=k.div(d)),e?d.mod(e):o?K(d,P,O,s):d)},S.integerValue=function(t){var e=new I(this);return null==t?t=O:g(t,0,8),K(e,e.e+1,t)},S.isEqualTo=S.eq=function(t,e){return 0===p(this,new I(t,e))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(t,e){return p(this,new I(t,e))>0},S.isGreaterThanOrEqualTo=S.gte=function(t,e){return 1===(e=p(this,new I(t,e)))||0===e},S.isInteger=function(){return!!this.c&&c(this.e/14)>this.c.length-2},S.isLessThan=S.lt=function(t,e){return 0>p(this,new I(t,e))},S.isLessThanOrEqualTo=S.lte=function(t,e){return -1===(e=p(this,new I(t,e)))||0===e},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(t,e){var r,i,n,o,s=this.s;if(e=(t=new I(t,e)).s,!s||!e)return new I(NaN);if(s!=e)return t.s=-e,this.plus(t);var a=this.e/14,u=t.e/14,h=this.c,l=t.c;if(!a||!u){if(!h||!l)return h?(t.s=-e,t):new I(l?this:NaN);if(!h[0]||!l[0])return l[0]?(t.s=-e,t):new I(h[0]?this:3==O?-0:0)}if(a=c(a),u=c(u),h=h.slice(),s=a-u){for((o=s<0)?(s=-s,n=h):(u=a,n=l),n.reverse(),e=s;e--;n.push(0));n.reverse()}else for(i=(o=(s=h.length)<(e=l.length))?s:e,s=e=0;e<i;e++)if(h[e]!=l[e]){o=h[e]<l[e];break}if(o&&(n=h,h=l,l=n,t.s=-t.s),(e=(i=l.length)-(r=h.length))>0)for(;e--;h[r++]=0);for(e=1e14-1;i>s;){if(h[--i]<l[i]){for(r=i;r&&!h[--r];h[r]=e);--h[r],h[i]+=1e14}h[i]-=l[i]}for(;0==h[0];h.splice(0,1),--u);return h[0]?$(t,h,u):(t.s=3==O?-1:1,t.c=[t.e=0],t)},S.modulo=S.mod=function(t,e){var r,i;return(t=new I(t,e),this.c&&t.s&&(!t.c||t.c[0]))?t.c&&(!this.c||this.c[0])?(9==U?(i=t.s,t.s=1,r=_(this,t,0,3),t.s=i,r.s*=i):r=_(this,t,0,U),(t=this.minus(r.times(t))).c[0]||1!=U||(t.s=this.s),t):new I(this):new I(NaN)},S.multipliedBy=S.times=function(t,e){var r,i,n,o,s,a,u,h,l,f,d,p,g,m=this.c,y=(t=new I(t,e)).c;if(!m||!y||!m[0]||!y[0])return this.s&&t.s&&(!m||m[0]||y)&&(!y||y[0]||m)?(t.s*=this.s,m&&y?(t.c=[0],t.e=0):t.c=t.e=null):t.c=t.e=t.s=null,t;for(i=c(this.e/14)+c(t.e/14),t.s*=this.s,(u=m.length)<(f=y.length)&&(g=m,m=y,y=g,n=u,u=f,f=n),n=u+f,g=[];n--;g.push(0));for(n=f;--n>=0;){for(r=0,d=y[n]%1e7,p=y[n]/1e7|0,o=n+(s=u);o>n;)a=p*(h=m[--s]%1e7)+(l=m[s]/1e7|0)*d,r=((h=d*h+a%1e7*1e7+g[o]+r)/1e14|0)+(a/1e7|0)+p*l,g[o--]=h%1e14;g[o]=r}return r?++i:g.splice(0,1),$(t,g,i)},S.negated=function(){var t=new I(this);return t.s=-t.s||null,t},S.plus=function(t,e){var r,i=this.s;if(e=(t=new I(t,e)).s,!i||!e)return new I(NaN);if(i!=e)return t.s=-e,this.minus(t);var n=this.e/14,o=t.e/14,s=this.c,a=t.c;if(!n||!o){if(!s||!a)return new I(i/0);if(!s[0]||!a[0])return a[0]?t:new I(s[0]?this:0*i)}if(n=c(n),o=c(o),s=s.slice(),i=n-o){for(i>0?(o=n,r=a):(i=-i,r=s),r.reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(e=a.length)<0&&(r=a,a=s,s=r,e=i),i=0;e;)i=(s[--e]=s[e]+a[e]+i)/1e14|0,s[e]=1e14===s[e]?0:s[e]%1e14;return i&&(s=[i].concat(s),++o),$(t,s,o)},S.precision=S.sd=function(t,e){var r,i,n;if(null!=t&&!!t!==t)return g(t,1,1e9),null==e?e=O:g(e,0,8),K(new I(this),t,e);if(!(r=this.c))return null;if(i=14*(n=r.length-1)+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return t&&this.e+1>i&&(i=this.e+1),i},S.shiftedBy=function(t){return g(t,-9007199254740991,9007199254740991),this.times("1e"+t)},S.squareRoot=S.sqrt=function(){var t,e,r,i,n,o=this.c,s=this.s,a=this.e,u=A+4,h=new I("0.5");if(1!==s||!o||!o[0])return new I(!s||s<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(s=Math.sqrt(+H(this)))||s==1/0?(((e=d(o)).length+a)%2==0&&(e+="0"),s=Math.sqrt(+e),a=c((a+1)/2)-(a<0||a%2),r=new I(e=s==1/0?"5e"+a:(e=s.toExponential()).slice(0,e.indexOf("e")+1)+a)):r=new I(s+""),r.c[0]){for((s=(a=r.e)+u)<3&&(s=0);;)if(n=r,r=h.times(n.plus(_(this,n,u,1))),d(n.c).slice(0,s)===(e=d(r.c)).slice(0,s)){if(r.e<a&&--s,"9999"!=(e=e.slice(s-3,s+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(K(r,r.e+A+2,1),t=!r.times(r).eq(this));break}if(!i&&(K(n,n.e+A+2,0),n.times(n).eq(this))){r=n;break}u+=4,s+=4,i=1}}return K(r,r.e+A+1,O,t)},S.toExponential=function(t,e){return null!=t&&(g(t,0,1e9),t++),q(this,t,e,1)},S.toFixed=function(t,e){return null!=t&&(g(t,0,1e9),t=t+this.e+1),q(this,t,e)},S.toFormat=function(t,e,r){var i;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=R;else if("object"!=typeof r)throw Error(h+"Argument not an object: "+r);if(i=this.toFixed(t,e),this.c){var n,o=i.split("."),s=+r.groupSize,a=+r.secondaryGroupSize,u=r.groupSeparator||"",l=o[0],f=o[1],c=this.s<0,d=c?l.slice(1):l,p=d.length;if(a&&(n=s,s=a,a=n,p-=n),s>0&&p>0){for(n=p%s||s,l=d.substr(0,n);n<p;n+=s)l+=u+d.substr(n,s);a>0&&(l+=u+d.slice(n)),c&&(l="-"+l)}i=f?l+(r.decimalSeparator||"")+((a=+r.fractionGroupSize)?f.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):l}return(r.prefix||"")+i+(r.suffix||"")},S.toFraction=function(t){var e,r,i,n,o,s,a,u,l,c,p,g,m=this.c;if(null!=t&&(!(a=new I(t)).isInteger()&&(a.c||1!==a.s)||a.lt(k)))throw Error(h+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+H(a));if(!m)return new I(this);for(e=new I(k),l=r=new I(k),i=u=new I(k),g=d(m),o=e.e=g.length-this.e-1,e.c[0]=f[(s=o%14)<0?14+s:s],t=!t||a.comparedTo(e)>0?o>0?e:l:a,s=x,x=1/0,a=new I(g),u.c[0]=0;c=_(a,e,0,1),1!=(n=r.plus(c.times(i))).comparedTo(t);)r=i,i=n,l=u.plus(c.times(n=l)),u=n,e=a.minus(c.times(n=e)),a=n;return n=_(t.minus(r),i,0,1),u=u.plus(n.times(l)),r=r.plus(n.times(i)),u.s=l.s=this.s,o*=2,p=1>_(l,i,o,O).minus(this).abs().comparedTo(_(u,r,o,O).minus(this).abs())?[l,i]:[u,r],x=s,p},S.toNumber=function(){return+H(this)},S.toPrecision=function(t,e){return null!=t&&g(t,1,1e9),q(this,t,e,2)},S.toString=function(t){var e,r=this,i=r.s,n=r.e;return null===n?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=n<=T||n>=B?y(d(r.c),n):w(d(r.c),n,"0"):10===t&&C?e=w(d((r=K(new I(r),A+n+1,O)).c),r.e,"0"):(g(t,2,D.length,"Base"),e=M(w(d(r.c),n,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},S.valueOf=S.toJSON=function(){return H(this)},S._isBigNumber=!0,null!=e&&I.set(e),I}()).default=o.BigNumber=o,void 0!==(i=(function(){return o}).call(e,r,e,t))&&(t.exports=i)}(0)},1051:(t,e,r)=>{try{var i=r(1764);if("function"!=typeof i.inherits)throw"";t.exports=i.inherits}catch(e){t.exports=r(4225)}},4225:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},614:t=>{function e(t,e){if(!t)throw Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw Error(r||"Assertion failed: "+t+" != "+e)}},2981:(t,e,r)=>{"use strict";var i,n=r(8893),o=n.Buffer,s={};for(i in n)n.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(s[i]=n[i]);var a=s.Buffer={};for(i in o)o.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(a[i]=o[i]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(t,e,r){if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,r)}),a.alloc||(a.alloc=function(t,e,r){if("number"!=typeof t)throw TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*1073741824)throw RangeError('The value "'+t+'" is invalid for option "size"');var i=o(t);return e&&0!==e.length?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(t){}!s.constants&&(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),t.exports=s}};